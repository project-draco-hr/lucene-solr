{
  InputStream is=new SolrResourceLoader(null,null).openResource("solrj/README");
  assertNotNull(is);
  File file=TestUtil.createTempFile("README","");
  FileOutputStream os=new FileOutputStream(file);
  IOUtils.copy(is,os);
  os.close();
  ContentStreamBase stream=new ContentStreamBase.URLStream(new URL(file.toURI().toASCIIString()));
  assertTrue(IOUtils.contentEquals(new FileInputStream(file),stream.getStream()));
  assertEquals(file.length(),stream.getSize().intValue());
  assertTrue(IOUtils.contentEquals(new InputStreamReader(new FileInputStream(file),"UTF-8"),stream.getReader()));
  assertEquals(file.length(),stream.getSize().intValue());
}
