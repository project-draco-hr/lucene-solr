{
  query=(CompletionQuery)query.rewrite(getIndexReader());
  Weight weight=query.createWeight(this,collector.needsScores());
  for (  LeafReaderContext context : getIndexReader().leaves()) {
    BulkScorer scorer=weight.bulkScorer(context,context.reader().getLiveDocs());
    if (scorer != null) {
      try {
        scorer.score(collector.getLeafCollector(context));
      }
 catch (      CollectionTerminatedException e) {
      }
    }
  }
}
