{
  LockMock lock=new LockMock();
  Lock.LOCK_POLL_INTERVAL=10;
  try {
    lock.obtain(Lock.LOCK_POLL_INTERVAL);
    fail("Should have failed to obtain lock");
  }
 catch (  IOException e) {
    assertEquals("should attempt to lock more than once",lock.lockAttempts,2);
  }
}
