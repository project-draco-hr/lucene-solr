{
  w.updateDocument(t,doc);
  if (docCount++ == flushAt) {
    if (LuceneTestCase.VERBOSE) {
      System.out.println("RIW.updateDocument: now doing a commit");
    }
    w.commit();
    flushAt+=_TestUtil.nextInt(r,10,1000);
  }
}
