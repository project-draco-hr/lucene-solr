{
  if (!split) {
    return doTokenize(0,text);
  }
  List<Integer> splitPositions=getSplitPositions(text);
  if (splitPositions.size() == 0) {
    return doTokenize(0,text);
  }
  ArrayList<Token> result=new ArrayList<Token>();
  int offset=0;
  for (  int position : splitPositions) {
    result.addAll(doTokenize(offset,text.substring(offset,position + 1)));
    offset=position + 1;
  }
  if (offset < text.length()) {
    result.addAll(doTokenize(offset,text.substring(offset)));
  }
  return result;
}
