{
  int value=0;
  while (true) {
    int first=in.read();
    if (first < 0) {
      throw new EOFException();
    }
    value|=first & 0x7F;
    if ((first & 0x80) == 0) {
      return value;
    }
    value<<=7;
  }
}
