{
  IndexReader reader=IndexReader.open(small);
  IndexSearcher search=new IndexSearcher(reader);
  Query rq=new TermRangeQuery("data","1","4",T,T);
  ScoreDoc[] expected=search.search(rq,null,1000).scoreDocs;
  int numHits=expected.length;
  BooleanQuery q=new BooleanQuery();
  q.add(rq,BooleanClause.Occur.MUST);
  q.add(csrq("data","1","6",T,T),BooleanClause.Occur.MUST);
  ScoreDoc[] actual=search.search(q,null,1000).scoreDocs;
  assertEquals("wrong numebr of hits",numHits,actual.length);
  for (int i=0; i < numHits; i++) {
    assertEquals("mismatch in docid for hit#" + i,expected[i].doc,actual[i].doc);
  }
}
