{
  Directory dir=getDirectory(createTempDir("testDetectClose"));
  dir.close();
  try {
    dir.createOutput("test",newIOContext(random()));
    fail("did not hit expected exception");
  }
 catch (  AlreadyClosedException ace) {
  }
}
