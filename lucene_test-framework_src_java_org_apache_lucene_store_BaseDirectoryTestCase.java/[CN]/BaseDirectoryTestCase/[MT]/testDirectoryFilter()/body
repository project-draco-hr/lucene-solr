{
  String name="file";
  Directory dir=getDirectory(createTempDir("testDirectoryFilter"));
  try {
    dir.createOutput(name,newIOContext(random())).close();
    assertTrue(slowFileExists(dir,name));
    assertTrue(Arrays.asList(dir.listAll()).contains(name));
  }
  finally {
    dir.close();
  }
}
