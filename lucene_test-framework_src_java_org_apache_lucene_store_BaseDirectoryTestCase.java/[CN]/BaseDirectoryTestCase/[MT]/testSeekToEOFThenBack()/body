{
  Directory dir=getDirectory(createTempDir("testSeekToEOFThenBack"));
  IndexOutput o=dir.createOutput("out",newIOContext(random()));
  byte[] bytes=new byte[3 * RAMOutputStream.BUFFER_SIZE];
  o.writeBytes(bytes,0,bytes.length);
  o.close();
  IndexInput i=dir.openInput("out",newIOContext(random()));
  i.seek(2 * RAMOutputStream.BUFFER_SIZE - 1);
  i.seek(3 * RAMOutputStream.BUFFER_SIZE);
  i.seek(RAMOutputStream.BUFFER_SIZE);
  i.readBytes(bytes,0,2 * RAMOutputStream.BUFFER_SIZE);
  i.close();
  dir.close();
}
