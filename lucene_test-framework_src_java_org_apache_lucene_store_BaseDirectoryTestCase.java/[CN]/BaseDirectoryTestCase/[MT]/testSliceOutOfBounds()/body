{
  Directory dir=getDirectory(createTempDir("testSliceOutOfBounds"));
  IndexOutput o=dir.createOutput("out",newIOContext(random()));
  final int len=random().nextInt(2040) + 8;
  byte[] b=new byte[len];
  o.writeBytes(b,0,len);
  o.close();
  IndexInput i=dir.openInput("out",newIOContext(random()));
  try {
    i.slice("slice1",0,len + 1);
    fail("Did not get IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    i.slice("slice2",-1,len);
    fail("Did not get IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
  IndexInput slice=i.slice("slice3",4,len / 2);
  try {
    slice.slice("slice3sub",1,len / 2);
    fail("Did not get IllegalArgumentException");
  }
 catch (  IllegalArgumentException iae) {
  }
  i.close();
  dir.close();
}
