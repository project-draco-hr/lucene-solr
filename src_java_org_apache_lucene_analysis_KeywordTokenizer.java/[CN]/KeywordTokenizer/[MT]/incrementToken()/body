{
  if (!done) {
    done=true;
    int upto=0;
    termAtt.clear();
    char[] buffer=termAtt.termBuffer();
    while (true) {
      final int length=input.read(buffer,upto,buffer.length - upto);
      if (length == -1)       break;
      upto+=length;
      if (upto == buffer.length)       buffer=termAtt.resizeTermBuffer(1 + buffer.length);
    }
    termAtt.setTermLength(upto);
    finalOffset=input.correctOffset(upto);
    offsetAtt.setOffset(input.correctOffset(0),finalOffset);
    return true;
  }
  return false;
}
