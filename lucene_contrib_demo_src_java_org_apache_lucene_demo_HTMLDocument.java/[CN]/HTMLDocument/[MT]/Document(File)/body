{
  Document doc=new Document();
  doc.add(new Field("path",f.getPath().replace(dirSep,'/'),Field.Store.YES,Field.Index.NOT_ANALYZED));
  doc.add(new Field("modified",DateTools.timeToString(f.lastModified(),DateTools.Resolution.MINUTE),Field.Store.YES,Field.Index.NOT_ANALYZED));
  doc.add(new Field("uid",uid(f),Field.Store.NO,Field.Index.NOT_ANALYZED));
  FileInputStream fis=new FileInputStream(f);
  InputStreamReader reader=new InputStreamReader(fis,"UTF-8");
  HTMLParser parser=new HTMLParser(reader);
  doc.add(new Field("contents",parser.getReader()));
  doc.add(new Field("summary",parser.getSummary(),Field.Store.YES,Field.Index.NO));
  doc.add(new Field("title",parser.getTitle(),Field.Store.YES,Field.Index.ANALYZED));
  return doc;
}
