{
  add1document();
  List deletedRow=new ArrayList();
  deletedRow.add(createMap("id","2"));
  MockDataSource.setIterator(C_DELETED_PK_QUERY,deletedRow.iterator());
  MockDataSource.setIterator(C_DELTA_QUERY,Collections.EMPTY_LIST.iterator());
  List deletedParentRow=new ArrayList();
  deletedParentRow.add(createMap("parent_id","1"));
  MockDataSource.setIterator("select parent_id from child where id=2",deletedParentRow.iterator());
  runDeltaImport(dataConfig_delta);
  assertQ(req("*:* OR testCompositePk_DeltaImport_delete"),"//*[@numFound='0']");
}
