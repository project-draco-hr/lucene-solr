{
  Analyzer analyzer=new MockPayloadAnalyzer();
  MemoryIndex mi=new MemoryIndex();
  mi.addField("field","some terms be here",analyzer);
  TestUtil.checkReader(mi.createSearcher().getIndexReader());
  mi=new MemoryIndex(true,true);
  mi.addField("field","some terms be here",analyzer);
  TestUtil.checkReader(mi.createSearcher().getIndexReader());
  mi=new MemoryIndex(true,false);
  mi.addField("field","some terms be here",analyzer);
  TestUtil.checkReader(mi.createSearcher().getIndexReader());
  mi=new MemoryIndex(false,true);
  mi.addField("field","some terms be here",analyzer);
  TestUtil.checkReader(mi.createSearcher().getIndexReader());
  mi=new MemoryIndex(false,false);
  mi.addField("field","some terms be here",analyzer);
  TestUtil.checkReader(mi.createSearcher().getIndexReader());
  analyzer.close();
}
