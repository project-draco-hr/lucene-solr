{
  SynonymFilterFactory factory=new SynonymFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("synonyms","synonyms.txt");
  factory.setLuceneMatchVersion(Version.LUCENE_33);
  factory.init(args);
  factory.inform(new StringMockSolrResourceLoader("national hockey league, nhl"));
  TokenStream ts=factory.create(new MockTokenizer(new StringReader("national hockey league"),MockTokenizer.WHITESPACE,false));
  assertTokenStreamContents(ts,new String[]{"national","nhl","hockey","league"},new int[]{0,0,0,0},new int[]{22,22,22,22},new int[]{1,0,1,1});
}
