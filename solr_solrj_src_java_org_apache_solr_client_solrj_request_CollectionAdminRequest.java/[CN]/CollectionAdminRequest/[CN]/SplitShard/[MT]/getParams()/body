{
  ModifiableSolrParams params=(ModifiableSolrParams)super.getParams();
  if (this.collection == null) {
    throw new IllegalArgumentException("You must set collection name for this request.");
  }
  params.set(CollectionAdminParams.COLLECTION,collection);
  if (this.shard == null && this.splitKey == null) {
    throw new IllegalArgumentException("You must set shardname OR splitkey for this request.");
  }
  params.set("shard",shard);
  params.set("split.key",this.splitKey);
  params.set("ranges",ranges);
  if (properties != null) {
    addProperties(params,properties);
  }
  return params;
}
