{
  super.setUp();
  if (this.__test_dir == null) {
    this.__test_dir=_TestUtil.getTempDir("testIndexWriter");
    if (this.__test_dir.exists()) {
      throw new IOException("test directory \"" + this.__test_dir.getPath() + "\" already exists (please remove by hand)");
    }
    if (!this.__test_dir.mkdirs() && !this.__test_dir.isDirectory()) {
      throw new IOException("unable to create test directory \"" + this.__test_dir.getPath() + "\"");
    }
  }
}
