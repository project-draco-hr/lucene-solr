{
  try {
    byte[] buf=IOUtils.toByteArray(is);
    String originalXml=new String(buf,StandardCharsets.UTF_8);
    try (ByteArrayInputStream dup=new ByteArrayInputStream(buf)){
      Config config=new Config(loader,null,new InputSource(dup),null,false);
      return fromConfig(config,originalXml);
    }
   }
 catch (  SolrException exc) {
    throw exc;
  }
catch (  Exception e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,e);
  }
}
