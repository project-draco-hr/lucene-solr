{
  if (!uncaughtExceptions.isEmpty()) {
    System.err.println("The following exceptions were thrown by threads:");
    for (    UncaughtExceptionEntry entry : uncaughtExceptions) {
      System.err.println("*** Thread: " + entry.thread.getName() + " ***");
      entry.exception.printStackTrace(System.err);
    }
    fail("Some threads threw uncaught exceptions!");
  }
}
