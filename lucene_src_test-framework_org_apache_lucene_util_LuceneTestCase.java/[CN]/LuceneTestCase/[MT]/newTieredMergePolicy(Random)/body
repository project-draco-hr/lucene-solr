{
  TieredMergePolicy tmp=new TieredMergePolicy();
  if (r.nextInt(3) == 2) {
    tmp.setMaxMergeAtOnce(2);
    tmp.setMaxMergeAtOnceExplicit(2);
  }
 else {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,2,20));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,2,30));
  }
  tmp.setMaxMergedSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setFloorSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setExpungeDeletesPctAllowed(0.0 + r.nextDouble() * 30.0);
  tmp.setSegmentsPerTier(_TestUtil.nextInt(r,2,20));
  tmp.setUseCompoundFile(r.nextBoolean());
  tmp.setNoCFSRatio(0.1 + r.nextDouble() * 0.8);
  return tmp;
}
