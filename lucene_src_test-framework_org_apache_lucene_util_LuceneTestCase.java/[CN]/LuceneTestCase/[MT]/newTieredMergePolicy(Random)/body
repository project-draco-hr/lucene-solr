{
  TieredMergePolicy tmp=new TieredMergePolicy();
  if ((TEST_NIGHTLY && random.nextBoolean()) || r.nextInt(20) == 17) {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,2,4));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,2,4));
  }
 else {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,5,50));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,5,50));
  }
  tmp.setMaxMergedSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setFloorSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setExpungeDeletesPctAllowed(0.0 + r.nextDouble() * 30.0);
  tmp.setSegmentsPerTier(_TestUtil.nextInt(r,2,20));
  tmp.setUseCompoundFile(r.nextBoolean());
  tmp.setNoCFSRatio(0.1 + r.nextDouble() * 0.8);
  return tmp;
}
