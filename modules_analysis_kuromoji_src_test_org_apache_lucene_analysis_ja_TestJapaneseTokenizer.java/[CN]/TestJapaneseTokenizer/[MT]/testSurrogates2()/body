{
  int numIterations=atLeast(10000);
  for (int i=0; i < numIterations; i++) {
    if (VERBOSE) {
      System.out.println("\nTEST: iter=" + i);
    }
    String s=_TestUtil.randomUnicodeString(random(),100);
    TokenStream ts=analyzer.tokenStream("foo",new StringReader(s));
    CharTermAttribute termAtt=ts.addAttribute(CharTermAttribute.class);
    ts.reset();
    while (ts.incrementToken()) {
      assertTrue(UnicodeUtil.validUTF16String(termAtt));
    }
  }
}
