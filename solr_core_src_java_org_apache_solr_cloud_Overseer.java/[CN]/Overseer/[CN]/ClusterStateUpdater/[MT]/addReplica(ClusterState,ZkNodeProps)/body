{
  log.info("addReplica() {} ",message);
  String coll=message.getStr(ZkStateReader.COLLECTION_PROP);
  String slice=message.getStr(ZkStateReader.SHARD_ID_PROP);
  Slice sl=clusterState.getSlice(coll,slice);
  if (sl == null) {
    log.error("Invalid Collection/Slice {}/{} ",coll,slice);
    return clusterState;
  }
  String coreNodeName=Assign.assignNode(coll,clusterState);
  Replica replica=new Replica(coreNodeName,makeMap(ZkStateReader.CORE_NAME_PROP,message.getStr(ZkStateReader.CORE_NAME_PROP),ZkStateReader.BASE_URL_PROP,message.getStr(ZkStateReader.BASE_URL_PROP),ZkStateReader.STATE_PROP,message.getStr(ZkStateReader.STATE_PROP),ZkStateReader.CORE_NODE_NAME_PROP,coreNodeName));
  sl.getReplicasMap().put(coreNodeName,replica);
  return clusterState;
}
