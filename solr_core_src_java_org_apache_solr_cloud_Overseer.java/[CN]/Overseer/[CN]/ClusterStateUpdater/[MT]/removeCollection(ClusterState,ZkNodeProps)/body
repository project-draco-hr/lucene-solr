{
  final String collection=message.getStr("name");
  if (!checkKeyExistence(message,"name"))   return clusterState;
  DocCollection coll=clusterState.getCollectionOrNull(collection);
  if (coll == null)   return clusterState;
  isClusterStateModified=true;
  if (coll.getStateFormat() > 1) {
    try {
      log.info("Deleting state for collection : {}",collection);
      zkClient.delete(ZkStateReader.getCollectionPath(collection),-1,true);
    }
 catch (    Exception e) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unable to remove collection state :" + collection);
    }
  }
  return newState(clusterState,singletonMap(coll.getName(),(DocCollection)null));
}
