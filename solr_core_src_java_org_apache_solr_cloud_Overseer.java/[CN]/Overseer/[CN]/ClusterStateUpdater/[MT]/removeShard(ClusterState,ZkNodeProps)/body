{
  final String collection=message.getStr(ZkStateReader.COLLECTION_PROP);
  checkCollection(message,collection);
  final String sliceId=message.getStr(ZkStateReader.SHARD_ID_PROP);
  log.info("Removing collection: " + collection + " shard: "+ sliceId+ " from clusterstate");
  DocCollection coll=clusterState.getCollection(collection);
  Map<String,Slice> newSlices=new LinkedHashMap<String,Slice>(coll.getSlicesMap());
  newSlices.remove(sliceId);
  DocCollection newCollection=new DocCollection(coll.getName(),newSlices,coll.getProperties(),coll.getRouter());
  return newState(clusterState,singletonMap(collection,newCollection));
}
