{
  TimerContext timerContext=stats.time("update_state");
  boolean success=false;
  try {
    zkClient.setData(ZkStateReader.CLUSTER_STATE,ZkStateReader.toJSON(clusterState),true);
    lastUpdatedTime=System.nanoTime();
    success=true;
  }
  finally {
    timerContext.stop();
    if (success) {
      stats.success("update_state");
    }
 else {
      stats.error("update_state");
    }
  }
}
