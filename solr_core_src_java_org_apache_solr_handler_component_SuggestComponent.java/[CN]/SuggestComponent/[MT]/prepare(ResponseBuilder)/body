{
  SolrParams params=rb.req.getParams();
  LOG.info("SuggestComponent prepare with : " + params);
  if (!params.getBool(COMPONENT_NAME,false)) {
    return;
  }
  SolrSuggester suggester=getSuggester(params);
  if (suggester == null) {
    if (params.get(SUGGEST_DICT) != null) {
      throw new IllegalArgumentException("No suggester named " + params.get(SUGGEST_DICT) + " was configured");
    }
 else {
      throw new IllegalArgumentException("No default suggester was configured");
    }
  }
  if (params.getBool(SUGGEST_BUILD,false)) {
    suggester.build(rb.req.getCore(),rb.req.getSearcher());
    rb.rsp.add("command","build");
  }
 else   if (params.getBool(SUGGEST_RELOAD,false)) {
    suggester.reload(rb.req.getCore(),rb.req.getSearcher());
    rb.rsp.add("command","reload");
  }
}
