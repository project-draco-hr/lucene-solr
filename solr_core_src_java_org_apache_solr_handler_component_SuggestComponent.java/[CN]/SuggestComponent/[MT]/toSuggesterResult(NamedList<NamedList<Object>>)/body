{
  SuggesterResult result=new SuggesterResult();
  if (suggestions == null) {
    return result;
  }
  for (int i=0; i < suggestions.size(); i++) {
    String tokenString=suggestions.getName(i);
    List<LookupResult> lookupResults=new ArrayList<LookupResult>();
    NamedList<Object> suggestion=(NamedList<Object>)suggestions.getVal(i);
    for (int j=0; j < suggestion.size(); j++) {
      String property=suggestion.getName(j);
      if (property.equals(SuggesterResultLabels.SUGGESTIONS)) {
        @SuppressWarnings("unchecked") List<NamedList<Object>> suggestionEntries=(List<NamedList<Object>>)suggestion.getVal(j);
        for (        NamedList<Object> suggestionEntry : suggestionEntries) {
          String term=(String)suggestionEntry.get(SuggesterResultLabels.SUGGESTION_TERM);
          Long weight=(Long)suggestionEntry.get(SuggesterResultLabels.SUGGESTION_WEIGHT);
          String payload=(String)suggestionEntry.get(SuggesterResultLabels.SUGGESTION_PAYLOAD);
          LookupResult res=new LookupResult(new CharsRef(term),weight,new BytesRef(payload));
          lookupResults.add(res);
        }
      }
      result.add(tokenString,lookupResults);
    }
  }
  return result;
}
