{
  long thisCallCount=callCount.incrementAndGet();
  if (isCoreReload && thisCallCount == 1) {
    LOG.info("Skipping first newSearcher call for suggester " + suggester + " in core reload");
    return;
  }
 else   if (thisCallCount == 1 || (isCoreReload && thisCallCount == 2)) {
    if (buildOnStartup) {
      LOG.info("buildOnStartup: " + suggester.getName());
      buildSuggesterIndex(newSearcher);
    }
  }
 else {
    if (buildOnCommit) {
      LOG.info("buildOnCommit: " + suggester.getName());
      buildSuggesterIndex(newSearcher);
    }
 else     if (buildOnOptimize) {
      if (newSearcher.getIndexReader().leaves().size() == 1) {
        LOG.info("buildOnOptimize: " + suggester.getName());
        buildSuggesterIndex(newSearcher);
      }
    }
  }
}
