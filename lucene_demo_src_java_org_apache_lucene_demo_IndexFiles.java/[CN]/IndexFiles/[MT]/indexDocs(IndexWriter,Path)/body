{
  if (Files.isDirectory(path)) {
    Files.walkFileTree(path,new SimpleFileVisitor<Path>(){
      @Override public FileVisitResult visitFile(      Path file,      BasicFileAttributes attrs) throws IOException {
        try {
          indexDoc(writer,file,attrs.lastModifiedTime().toMillis());
        }
 catch (        IOException ignore) {
        }
        return FileVisitResult.CONTINUE;
      }
    }
);
  }
 else {
    indexDoc(writer,path,Files.getLastModifiedTime(path).toMillis());
  }
}
