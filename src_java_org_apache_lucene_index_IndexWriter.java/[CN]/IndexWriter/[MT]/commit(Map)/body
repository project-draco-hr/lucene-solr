{
  ensureOpen();
  if (infoStream != null)   message("commit: start");
  if (pendingCommit == null) {
    if (infoStream != null)     message("commit: now prepare");
    prepareCommit(commitUserData);
  }
 else   if (infoStream != null)   message("commit: already prepared");
  finishCommit();
}
