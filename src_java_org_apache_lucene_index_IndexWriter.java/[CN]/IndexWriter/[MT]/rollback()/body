{
  ensureOpen();
  if (autoCommit)   throw new IllegalStateException("rollback() can only be called when IndexWriter was opened with autoCommit=false");
  if (shouldClose())   rollbackInternal();
}
