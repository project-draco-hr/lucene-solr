{
  if (mb > 2048.0) {
    throw new IllegalArgumentException("ramBufferSize " + mb + " is too large; should be comfortably less than 2048");
  }
  if (mb != DISABLE_AUTO_FLUSH && mb <= 0.0)   throw new IllegalArgumentException("ramBufferSize should be > 0.0 MB when enabled");
  if (mb == DISABLE_AUTO_FLUSH && getMaxBufferedDocs() == DISABLE_AUTO_FLUSH)   throw new IllegalArgumentException("at least one of ramBufferSize and maxBufferedDocs must be enabled");
  docWriter.setRAMBufferSizeMB(mb);
  if (infoStream != null)   message("setRAMBufferSizeMB " + mb);
}
