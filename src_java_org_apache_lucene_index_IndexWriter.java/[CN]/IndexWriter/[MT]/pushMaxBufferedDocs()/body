{
  if (docWriter.getRAMBufferSizeMB() == 0.0) {
    final MergePolicy mp=mergePolicy;
    if (mp instanceof LogDocMergePolicy) {
      LogDocMergePolicy lmp=(LogDocMergePolicy)mp;
      final int maxBufferedDocs=docWriter.getMaxBufferedDocs();
      if (lmp.getMinMergeDocs() != maxBufferedDocs) {
        if (infoStream != null)         message("now push maxBufferedDocs " + maxBufferedDocs + " to LogDocMergePolicy");
        lmp.setMinMergeDocs(maxBufferedDocs);
      }
    }
  }
}
