{
  ensureOpen();
synchronized (this) {
    bufferDeleteTerm(term);
  }
  boolean success=false;
  try {
    success=docWriter.addDocument(doc,analyzer);
  }
 catch (  IOException ioe) {
    deleter.refresh();
    throw ioe;
  }
  if (success)   flush(true,false);
 else   maybeFlush();
}
