{
  if (hitOOM) {
    throw new IllegalStateException("this writer hit an OutOfMemoryError; cannot flush");
  }
  flush(true,false,true);
}
