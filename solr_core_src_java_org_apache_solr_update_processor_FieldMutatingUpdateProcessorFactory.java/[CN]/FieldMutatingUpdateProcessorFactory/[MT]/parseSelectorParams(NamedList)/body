{
  SelectorParams params=new SelectorParams();
  params.fieldName=new HashSet<String>(args.removeConfigArgs("fieldName"));
  params.typeName=new HashSet<String>(args.removeConfigArgs("typeName"));
  Collection<String> patterns=args.removeConfigArgs("fieldRegex");
  if (!patterns.isEmpty()) {
    params.fieldRegex=new ArrayList<Pattern>(patterns.size());
    for (    String s : patterns) {
      try {
        params.fieldRegex.add(Pattern.compile(s));
      }
 catch (      PatternSyntaxException e) {
        throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Invalid 'fieldRegex' pattern: " + s,e);
      }
    }
  }
  params.typeClass=args.removeConfigArgs("typeClass");
  params.fieldNameMatchesSchemaField=args.removeBooleanArg("fieldNameMatchesSchemaField");
  return params;
}
