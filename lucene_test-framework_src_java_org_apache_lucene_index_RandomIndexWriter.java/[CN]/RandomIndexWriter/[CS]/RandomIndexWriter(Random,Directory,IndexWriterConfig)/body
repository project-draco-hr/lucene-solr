{
  this.r=new Random(r.nextLong());
  w=mockIndexWriter(dir,c,r);
  flushAt=_TestUtil.nextInt(r,10,1000);
  codec=w.getConfig().getCodec();
  if (LuceneTestCase.VERBOSE) {
    System.out.println("RIW dir=" + dir + " config="+ w.getConfig());
    System.out.println("codec default=" + codec.getName());
  }
  doRandomForceMerge=!(c.getMergePolicy() instanceof NoMergePolicy) && r.nextBoolean();
}
