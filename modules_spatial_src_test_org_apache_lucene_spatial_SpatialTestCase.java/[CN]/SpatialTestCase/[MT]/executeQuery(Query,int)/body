{
  try {
    TopDocs topDocs=indexSearcher.search(query,numDocs);
    List<SearchResult> results=new ArrayList<SearchResult>();
    for (    ScoreDoc scoreDoc : topDocs.scoreDocs) {
      results.add(new SearchResult(scoreDoc.score,indexSearcher.doc(scoreDoc.doc)));
    }
    return new SearchResults(topDocs.totalHits,results);
  }
 catch (  IOException ioe) {
    throw new RuntimeException("IOException thrown while executing query",ioe);
  }
}
