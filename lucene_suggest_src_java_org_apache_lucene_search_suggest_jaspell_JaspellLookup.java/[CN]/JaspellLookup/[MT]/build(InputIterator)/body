{
  if (iterator.hasPayloads()) {
    throw new IllegalArgumentException("this suggester doesn't support payloads");
  }
  count=0;
  trie=new JaspellTernarySearchTrie();
  trie.setMatchAlmostDiff(editDistance);
  BytesRef spare;
  final CharsRef charsSpare=new CharsRef();
  while ((spare=iterator.next()) != null) {
    final long weight=iterator.weight();
    if (spare.length == 0) {
      continue;
    }
    charsSpare.grow(spare.length);
    UnicodeUtil.UTF8toUTF16(spare.bytes,spare.offset,spare.length,charsSpare);
    trie.put(charsSpare.toString(),Long.valueOf(weight));
    count++;
  }
}
