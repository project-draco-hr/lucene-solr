{
  log.info("Creating Collection : " + req.getParamString());
  String name=req.getParams().required().get("name");
  if (name == null) {
    log.error("Collection name is required to create a new collection");
    throw new SolrException(ErrorCode.BAD_REQUEST,"Collection name is required to create a new collection");
  }
  Map<String,Object> props=ZkNodeProps.makeMap(Overseer.QUEUE_OPERATION,OverseerCollectionProcessor.CREATECOLLECTION,"fromApi","true");
  copyIfNotNull(req.getParams(),props,"name",REPLICATION_FACTOR,COLL_CONF,NUM_SLICES,MAX_SHARDS_PER_NODE,CREATE_NODE_SET,SHARDS_PROP,ASYNC,DocCollection.STATE_FORMAT,AUTO_ADD_REPLICAS,"router.");
  copyPropertiesIfNotNull(req.getParams(),props);
  ZkNodeProps m=new ZkNodeProps(props);
  handleResponse(OverseerCollectionProcessor.CREATECOLLECTION,m,rsp);
}
