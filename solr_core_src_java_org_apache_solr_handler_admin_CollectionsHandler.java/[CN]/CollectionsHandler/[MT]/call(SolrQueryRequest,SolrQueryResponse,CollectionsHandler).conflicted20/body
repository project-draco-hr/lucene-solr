{
  Map<String,Object> map=req.getParams().required().getAll(null,COLLECTION_PROP,PROPERTY_PROP,SHARD_ID_PROP,REPLICA_PROP,PROPERTY_VALUE_PROP);
  req.getParams().getAll(map,SHARD_UNIQUE);
  String property=(String)map.get(PROPERTY_PROP);
  if (!property.startsWith(COLL_PROP_PREFIX)) {
    property=COLL_PROP_PREFIX + property;
  }
  boolean uniquePerSlice=Boolean.parseBoolean((String)map.get(SHARD_UNIQUE));
  if (StringUtils.isNotBlank((String)map.get(SHARD_UNIQUE)) && SliceMutator.SLICE_UNIQUE_BOOLEAN_PROPERTIES.contains(property.toLowerCase(Locale.ROOT)) && uniquePerSlice == false) {
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"Overseer replica property command received for property " + property + " with the "+ SHARD_UNIQUE+ " parameter set to something other than 'true'. No action taken.");
  }
  return map;
}
