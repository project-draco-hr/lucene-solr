{
  ByteArrayOutputStream buffer=new ByteArrayOutputStream(32);
  DataOutputStream out=new DataOutputStream(buffer);
  Database files=directory.files;
  Transaction txn=directory.txn;
  out.writeLong(length);
  out.writeLong(timeModified);
  out.write(getKey());
  out.close();
  System.arraycopy(buffer.toByteArray(),0,data.getData(),0,32);
  try {
    files.put(txn,key,data);
  }
 catch (  DatabaseException e) {
    throw new IOException(e.getMessage());
  }
  this.length=length;
  this.timeModified=timeModified;
}
