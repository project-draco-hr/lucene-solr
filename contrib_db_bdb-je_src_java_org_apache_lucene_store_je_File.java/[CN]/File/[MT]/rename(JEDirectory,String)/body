{
  if (!exists(directory))   throw new IOException("File does not exist: " + getName());
  File newFile=new File(name);
  if (newFile.exists(directory))   newFile.delete(directory);
  try {
    Database files=directory.files;
    Transaction txn=directory.txn;
    files.delete(txn,key);
    setName(name);
    files.put(txn,key,data);
  }
 catch (  DatabaseException e) {
    throw new IOException(e.getMessage());
  }
}
