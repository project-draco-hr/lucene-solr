{
  Directory dir1=getDir1(random);
  Directory dir2=getDir2(random);
  AtomicReader ir1, ir2;
  ParallelAtomicReader pr=new ParallelAtomicReader(ir1=SlowCompositeReaderWrapper.wrap(DirectoryReader.open(dir1)),ir2=SlowCompositeReaderWrapper.wrap(DirectoryReader.open(dir2)));
  assertEquals(1,ir1.getRefCount());
  assertEquals(1,ir2.getRefCount());
  pr.close();
  assertEquals(0,ir1.getRefCount());
  assertEquals(0,ir2.getRefCount());
  dir1.close();
  dir2.close();
}
