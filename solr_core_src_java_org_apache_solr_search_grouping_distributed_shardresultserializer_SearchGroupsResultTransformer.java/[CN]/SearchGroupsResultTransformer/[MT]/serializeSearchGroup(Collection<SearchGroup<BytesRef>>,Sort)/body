{
  NamedList<Comparable[]> result=new NamedList<Comparable[]>();
  CharsRef spare=new CharsRef();
  for (  SearchGroup<BytesRef> searchGroup : data) {
    Comparable[] convertedSortValues=new Comparable[searchGroup.sortValues.length];
    for (int i=0; i < searchGroup.sortValues.length; i++) {
      Comparable sortValue=(Comparable)searchGroup.sortValues[i];
      SchemaField field=groupSort.getSort()[i].getField() != null ? searcher.getSchema().getFieldOrNull(groupSort.getSort()[i].getField()) : null;
      if (field != null) {
        FieldType fieldType=field.getType();
        if (sortValue instanceof BytesRef) {
          String indexedValue=((BytesRef)sortValue).utf8ToChars(spare).toString();
          sortValue=(Comparable)fieldType.toObject(field.createField(fieldType.indexedToReadable(indexedValue),0.0f));
        }
 else         if (sortValue instanceof String) {
          sortValue=(Comparable)fieldType.toObject(field.createField(fieldType.indexedToReadable((String)sortValue),0.0f));
        }
      }
      convertedSortValues[i]=sortValue;
    }
    String groupValue=searchGroup.groupValue != null ? searchGroup.groupValue.utf8ToString() : null;
    result.add(groupValue,convertedSortValues);
  }
  return result;
}
