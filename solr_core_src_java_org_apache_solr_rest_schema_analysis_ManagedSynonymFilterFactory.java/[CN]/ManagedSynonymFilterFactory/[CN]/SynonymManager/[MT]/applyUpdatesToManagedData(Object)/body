{
  boolean ignoreCase=getIgnoreCase();
  boolean madeChanges=false;
  if (updates instanceof List) {
    madeChanges=applyListUpdates((List<String>)updates,ignoreCase);
  }
 else   if (updates instanceof Map) {
    madeChanges=applyMapUpdates((Map<String,Object>)updates,ignoreCase);
  }
 else {
    throw new ResourceException(Status.CLIENT_ERROR_BAD_REQUEST,"Unsupported data format (" + updates.getClass().getName() + "); expected a JSON object (Map or List)!");
  }
  return madeChanges ? getStoredView() : null;
}
