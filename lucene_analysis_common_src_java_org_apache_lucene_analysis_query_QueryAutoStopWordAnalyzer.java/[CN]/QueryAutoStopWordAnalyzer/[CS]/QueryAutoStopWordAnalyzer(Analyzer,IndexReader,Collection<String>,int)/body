{
  super(delegate.getReuseStrategy());
  this.delegate=delegate;
  for (  String field : fields) {
    Set<String> stopWords=new HashSet<>();
    Terms terms=MultiFields.getTerms(indexReader,field);
    CharsRefBuilder spare=new CharsRefBuilder();
    if (terms != null) {
      TermsEnum te=terms.iterator();
      BytesRef text;
      while ((text=te.next()) != null) {
        if (te.docFreq() > maxDocFreq) {
          spare.copyUTF8Bytes(text);
          stopWords.add(spare.toString());
        }
      }
    }
    stopWordsPerField.put(field,stopWords);
  }
}
