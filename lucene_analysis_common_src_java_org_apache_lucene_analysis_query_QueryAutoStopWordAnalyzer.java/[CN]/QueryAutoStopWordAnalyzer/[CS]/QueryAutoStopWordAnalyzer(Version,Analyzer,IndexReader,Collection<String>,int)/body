{
  super(delegate.getReuseStrategy());
  this.matchVersion=matchVersion;
  this.delegate=delegate;
  for (  String field : fields) {
    Set<String> stopWords=new HashSet<>();
    Terms terms=MultiFields.getTerms(indexReader,field);
    CharsRef spare=new CharsRef();
    if (terms != null) {
      TermsEnum te=terms.iterator(null);
      BytesRef text;
      while ((text=te.next()) != null) {
        if (te.docFreq() > maxDocFreq) {
          UnicodeUtil.UTF8toUTF16(text,spare);
          stopWords.add(spare.toString());
        }
      }
    }
    stopWordsPerField.put(field,stopWords);
  }
}
