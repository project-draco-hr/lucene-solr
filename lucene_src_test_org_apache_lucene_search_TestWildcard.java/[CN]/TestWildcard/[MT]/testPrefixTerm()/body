{
  Directory indexStore=getIndexStore("field",new String[]{"prefix","prefixx"});
  IndexSearcher searcher=new IndexSearcher(indexStore,true);
  MultiTermQuery wq=new WildcardQuery(new Term("field","prefix*"));
  assertMatches(searcher,wq,2);
  Terms terms=MultiFields.getTerms(searcher.getIndexReader(),"field");
  assertTrue(wq.getTermsEnum(terms) instanceof PrefixTermsEnum);
  wq=new WildcardQuery(new Term("field","*"));
  assertMatches(searcher,wq,2);
  assertFalse(wq.getTermsEnum(terms) instanceof PrefixTermsEnum);
  assertFalse(wq.getTermsEnum(terms).getClass().getSimpleName().contains("AutomatonTermsEnum"));
  searcher.close();
  indexStore.close();
}
