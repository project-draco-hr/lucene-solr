{
  SolrParams params=req.getParams();
  String[] set=params.getParams("set");
  if (set != null) {
    for (    String pair : set) {
      String[] split=pair.split(":");
      if (split.length != 2) {
        throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Invalid format, expected level:value, got " + pair);
      }
      String category=split[0];
      String level=split[1];
      factory.setLogLevel(category,level);
    }
  }
  rsp.add("framework",factory.getName());
  rsp.add("levels",factory.getAllLevels());
  List<LoggerWrapper> loggers=new ArrayList<LogLevelHandler.LoggerWrapper>(factory.getLoggers());
  Collections.sort(loggers);
  List<SimpleOrderedMap<?>> info=new ArrayList<SimpleOrderedMap<?>>();
  for (  LoggerWrapper wrap : loggers) {
    info.add(wrap.getInfo());
  }
  rsp.add("loggers",info);
  rsp.setHttpCaching(false);
}
