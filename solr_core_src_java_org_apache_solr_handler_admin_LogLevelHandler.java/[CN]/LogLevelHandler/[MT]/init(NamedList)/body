{
  String fname=(String)args.get("logger.factory");
  try {
    slf4jImpl=StaticLoggerBinder.getSingleton().getLoggerFactoryClassStr();
    if (fname == null) {
      if (slf4jImpl.indexOf("Log4j") > 0) {
        fname="Log4j";
      }
 else       if (slf4jImpl.indexOf("JDK") > 0) {
        fname="JUL";
      }
 else {
        return;
      }
    }
  }
 catch (  Exception ex) {
  }
  if ("JUL".equalsIgnoreCase(fname)) {
    factory=new LoggerFactoryWrapperJUL();
  }
 else   if ("Log4j".equals(fname)) {
    factory=new LoggerFactoryWrapperLog4j();
  }
 else {
    try {
      factory=(LoggerFactoryWrapper)Class.forName(fname).newInstance();
    }
 catch (    Exception e) {
      throw new SolrException(ErrorCode.SERVER_ERROR,e);
    }
  }
}
