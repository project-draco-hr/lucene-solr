{
  final SegmentInfos clonedInfos;
  if (segmentInfos != null) {
    clonedInfos=(SegmentInfos)segmentInfos.clone();
  }
 else {
    clonedInfos=null;
  }
  DirectoryIndexReader newReader=doReopen(clonedInfos,true,openReadOnly);
  if (this != newReader) {
    newReader.init(directory,clonedInfos,closeDirectory,openReadOnly);
    newReader.deletionPolicy=deletionPolicy;
  }
  if (!openReadOnly && writeLock != null) {
    newReader.writeLock=writeLock;
    writeLock=null;
    hasChanges=false;
  }
  return newReader;
}
