{
  segmentsFileName=infos.getCurrentSegmentFileName();
  this.dir=dir;
  userData=infos.getUserData();
  files=Collections.unmodifiableCollection(infos.files(dir,true));
  version=infos.getVersion();
  generation=infos.getGeneration();
  isOptimized=infos.size() == 1 && !infos.info(0).hasDeletions();
}
