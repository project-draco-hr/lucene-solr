{
  boolean enforceSingleSegment=true;
  RAMDirectory directory=new RAMDirectory();
  int[] filterBits={1,36};
  SimpleDocIdSetFilter filter=new SimpleDocIdSetFilter(filterBits);
  IndexWriter writer=new IndexWriter(directory,new WhitespaceAnalyzer(TEST_VERSION_CURRENT),true,IndexWriter.MaxFieldLength.LIMITED);
  searchFiltered(writer,directory,filter,enforceSingleSegment);
  enforceSingleSegment=false;
  filter.reset();
  writer=new IndexWriter(directory,new WhitespaceAnalyzer(TEST_VERSION_CURRENT),true,IndexWriter.MaxFieldLength.LIMITED);
  writer.setMaxBufferedDocs(10);
  searchFiltered(writer,directory,filter,enforceSingleSegment);
}
