{
  RAMDirectory directory=new RAMDirectory();
  int[] filterBits={1,36};
  Filter filter=new SimpleDocIdSetFilter(filterBits);
  try {
    IndexWriter writer=new IndexWriter(directory,new WhitespaceAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
    for (int i=0; i < 60; i++) {
      Document doc=new Document();
      doc.add(new Field(FIELD,Integer.toString(i),Field.Store.YES,Field.Index.NOT_ANALYZED));
      writer.addDocument(doc);
    }
    writer.close();
    BooleanQuery booleanQuery=new BooleanQuery();
    booleanQuery.add(new TermQuery(new Term(FIELD,"36")),BooleanClause.Occur.SHOULD);
    IndexSearcher indexSearcher=new IndexSearcher(directory,true);
    ScoreDoc[] hits=indexSearcher.search(booleanQuery,filter,1000).scoreDocs;
    assertEquals("Number of matched documents",1,hits.length);
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}
