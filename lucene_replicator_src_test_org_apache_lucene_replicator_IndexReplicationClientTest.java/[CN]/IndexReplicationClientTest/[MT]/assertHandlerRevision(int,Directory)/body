{
  while (client.isUpdateThreadAlive()) {
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
      throw new ThreadInterruptedException(e);
    }
    try {
      DirectoryReader reader=DirectoryReader.open(dir);
      try {
        int handlerID=Integer.parseInt(reader.getIndexCommit().getUserData().get(VERSION_ID),16);
        if (expectedID == handlerID) {
          return;
        }
 else         if (VERBOSE) {
          System.out.println("expectedID=" + expectedID + " actual="+ handlerID+ " generation="+ reader.getIndexCommit().getGeneration());
        }
      }
  finally {
        reader.close();
      }
    }
 catch (    Exception e) {
    }
  }
}
