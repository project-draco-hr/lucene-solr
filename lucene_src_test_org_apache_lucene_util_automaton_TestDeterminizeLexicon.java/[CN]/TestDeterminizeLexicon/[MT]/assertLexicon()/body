{
  Collections.shuffle(automata,random);
  final Automaton lex=BasicOperations.union(automata);
  lex.determinize();
  assertTrue(SpecialOperations.isFinite(lex));
  for (  String s : terms) {
    assertTrue(BasicOperations.run(lex,s));
  }
  final ByteRunAutomaton lexByte=new ByteRunAutomaton(lex);
  for (  String s : terms) {
    BytesRef termByte=new BytesRef(s);
    assertTrue(lexByte.run(termByte.bytes,0,termByte.length));
  }
}
