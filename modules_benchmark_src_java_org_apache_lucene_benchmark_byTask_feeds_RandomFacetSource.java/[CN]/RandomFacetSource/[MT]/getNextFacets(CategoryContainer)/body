{
  if (facets == null) {
    facets=new CategoryContainer();
  }
 else {
    facets.clear();
  }
  int numFacets=1 + random.nextInt(maxDocFacets - 1);
  for (int i=0; i < numFacets; i++) {
    CategoryPath cp=new CategoryPath();
    int depth=1 + random.nextInt(maxFacetDepth - 1);
    for (int k=0; k < depth; k++) {
      cp.add(Integer.toString(random.nextInt(maxValue)));
      addItem();
    }
    facets.addCategory(cp);
    addBytes(cp.toString().length());
  }
  return facets;
}
