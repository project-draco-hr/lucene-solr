{
  PrefixAwareTokenFilter ts;
  ts=new PrefixAwareTokenFilter(new CannedTokenStream(createToken("a",0,1)),new CannedTokenStream(createToken("b",0,1)));
  assertTokenStreamContents(ts,new String[]{"a","b"},new int[]{0,1},new int[]{1,2});
  final MockTokenizer suffix=new MockTokenizer(MockTokenizer.WHITESPACE,false);
  suffix.setReader(new StringReader("hello world"));
  ts=new PrefixAwareTokenFilter(new CannedTokenStream(createToken("^",0,0)),suffix);
  ts=new PrefixAwareTokenFilter(ts,new CannedTokenStream(createToken("$",0,0)));
  assertTokenStreamContents(ts,new String[]{"^","hello","world","$"},new int[]{0,0,6,11},new int[]{0,5,11,11});
}
