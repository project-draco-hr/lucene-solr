{
  try {
    Feed f=null;
    this.response.sendResponse(f,new ProvidedServiceStub());
    fail("Exception expected");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    Feed f=createFeed();
    this.response.sendResponse(f,null);
    fail("Exception expected");
  }
 catch (  IllegalArgumentException e) {
  }
  StringWriter stringWriter=new StringWriter();
  PrintWriter writer=new PrintWriter(stringWriter);
  this.control.expectAndReturn(this.httpResponse.getWriter(),writer);
  this.httpResponse.setContentType(GDataResponse.XMLMIME_ATOM);
  this.response.setOutputFormat(OutputFormat.ATOM);
  this.control.replay();
  this.response.sendResponse(createFeed(),new ProvidedServiceStub());
  assertEquals("Simple XML representation",stringWriter.toString(),generatedFeedAtom);
  this.control.reset();
  stringWriter=new StringWriter();
  writer=new PrintWriter(stringWriter);
  this.control.expectAndReturn(this.httpResponse.getWriter(),writer);
  this.response.setOutputFormat(OutputFormat.RSS);
  this.httpResponse.setContentType(GDataResponse.XMLMIME_RSS);
  this.control.replay();
  this.response.sendResponse(createFeed(),new ProvidedServiceStub());
  assertEquals("Simple XML representation",stringWriter.toString(),generatedFeedRSS);
}
