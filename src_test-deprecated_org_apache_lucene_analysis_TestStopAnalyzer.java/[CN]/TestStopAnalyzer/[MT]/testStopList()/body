{
  Set stopWordsSet=new HashSet();
  stopWordsSet.add("good");
  stopWordsSet.add("test");
  stopWordsSet.add("analyzer");
  StopAnalyzer newStop=new StopAnalyzer((String[])stopWordsSet.toArray(new String[3]));
  StringReader reader=new StringReader("This is a good test of the english stop analyzer");
  TokenStream stream=newStop.tokenStream("test",reader);
  assertTrue(stream != null);
  Token token=null;
  try {
    while ((token=stream.next()) != null) {
      String text=token.termText();
      assertTrue(stopWordsSet.contains(text) == false);
    }
  }
 catch (  IOException e) {
    assertTrue(false);
  }
}
