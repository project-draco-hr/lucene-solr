{
  for (  Map.Entry<String,CoreDescriptorPlus> ent : coreDescriptorPlusMap.entrySet()) {
    String name=ent.getValue().getCoreDescriptor().getProperty(CoreDescriptor.CORE_NAME,null);
    if (origCoreName.equals(name)) {
      if (coreName.equals(origCoreName)) {
        return name;
      }
      return coreName;
    }
  }
  for (  Map.Entry<String,CoreDescriptorPlus> ent : coreDescriptorPlusMap.entrySet()) {
    String name=ent.getValue().getCoreDescriptor().getProperty(CoreDescriptor.CORE_NAME,null);
    if (origCoreName.equals(PropertiesUtil.substituteProperty(name,loader.getCoreProperties()))) {
      if (coreName.equals(origCoreName)) {
        return name;
      }
      return coreName;
    }
  }
  return null;
}
