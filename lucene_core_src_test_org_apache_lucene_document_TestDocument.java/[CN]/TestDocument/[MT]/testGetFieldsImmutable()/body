{
  Document doc=makeDocumentWithFields();
  assertEquals(10,doc.getFields().size());
  List<Field> fields=doc.getFields();
  try {
    fields.add(new StringField("name","value",Field.Store.NO));
    fail("Document.getFields() should return immutable List");
  }
 catch (  UnsupportedOperationException e) {
  }
  try {
    fields.clear();
    fail("Document.getFields() should return immutable List");
  }
 catch (  UnsupportedOperationException e) {
  }
}
