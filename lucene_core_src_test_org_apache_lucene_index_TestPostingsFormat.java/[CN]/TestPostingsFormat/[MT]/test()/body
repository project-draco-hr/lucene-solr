{
  Directory dir=newDirectory();
  boolean indexPayloads=random().nextBoolean();
  FieldsProducer fieldsProducer=buildIndex(dir,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS,indexPayloads);
  testTerms(fieldsProducer,EnumSet.allOf(Option.class),IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);
  fieldsProducer.close();
  dir.close();
}
