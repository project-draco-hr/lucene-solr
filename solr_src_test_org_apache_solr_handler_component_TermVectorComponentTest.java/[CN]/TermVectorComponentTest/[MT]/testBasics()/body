{
  SolrCore core=h.getCore();
  SearchComponent tvComp=core.getSearchComponent("tvComponent");
  assertTrue("tvComp is null and it shouldn't be",tvComp != null);
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.add(CommonParams.Q,"id:0");
  params.add(CommonParams.QT,"tvrh");
  params.add(TermVectorParams.TF,"true");
  params.add(TermVectorComponent.COMPONENT_NAME,"true");
  SolrRequestHandler handler=core.getRequestHandler("tvrh");
  SolrQueryResponse rsp;
  rsp=new SolrQueryResponse();
  rsp.add("responseHeader",new SimpleOrderedMap());
  handler.handleRequest(new LocalSolrQueryRequest(core,params),rsp);
  NamedList values=rsp.getValues();
  NamedList termVectors=(NamedList)values.get(TermVectorComponent.TERM_VECTORS);
  assertTrue("termVectors is null and it shouldn't be",termVectors != null);
  NamedList doc=(NamedList)termVectors.getVal(0);
  assertTrue("doc is null and it shouldn't be",doc != null);
  assertTrue(doc.size() + " does not equal: " + 2,doc.size() == 2);
  NamedList field=(NamedList)doc.get("test_posofftv");
  assertTrue("field is null and it shouldn't be",field != null);
  assertTrue(field.size() + " does not equal: " + 2,field.size() == 2);
  NamedList titl=(NamedList)field.get("titl");
  assertTrue("titl is null and it shouldn't be",titl != null);
  assertTrue(titl.get("tf") + " does not equal: " + 2,((Integer)titl.get("tf")) == 2);
  NamedList positions=(NamedList)titl.get("positions");
  assertTrue("positions is not null and it should be",positions == null);
  NamedList offsets=(NamedList)titl.get("offsets");
  assertTrue("offsets is not null and it should be",offsets == null);
  String uniqueKeyFieldName=(String)termVectors.getVal(1);
  assertTrue("uniqueKeyFieldName is null and it shouldn't be",uniqueKeyFieldName != null);
  assertTrue(uniqueKeyFieldName + " is not equal to " + "id",uniqueKeyFieldName.equals("id") == true);
}
