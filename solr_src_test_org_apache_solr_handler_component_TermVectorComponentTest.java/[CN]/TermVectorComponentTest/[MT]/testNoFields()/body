{
  SolrCore core=h.getCore();
  SearchComponent tvComp=core.getSearchComponent("tvComponent");
  assertTrue("tvComp is null and it shouldn't be",tvComp != null);
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.add(CommonParams.Q,"id:0");
  params.add(CommonParams.QT,"tvrh");
  params.add(TermVectorParams.TF,"true");
  params.add(TermVectorParams.FIELDS,"foo");
  params.add(TermVectorComponent.COMPONENT_NAME,"true");
  SolrRequestHandler handler=core.getRequestHandler("tvrh");
  SolrQueryResponse rsp;
  rsp=new SolrQueryResponse();
  rsp.add("responseHeader",new SimpleOrderedMap());
  handler.handleRequest(new LocalSolrQueryRequest(core,params),rsp);
  NamedList values=rsp.getValues();
  NamedList termVectors=(NamedList)values.get(TermVectorComponent.TERM_VECTORS);
  assertTrue("termVectors is null and it shouldn't be",termVectors != null);
  NamedList doc=(NamedList)termVectors.getVal(0);
  assertTrue("doc is null and it shouldn't be",doc != null);
  assertTrue(doc.size() + " does not equal: " + 1,doc.size() == 1);
}
