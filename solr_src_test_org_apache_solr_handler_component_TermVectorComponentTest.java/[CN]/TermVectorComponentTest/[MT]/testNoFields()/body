{
  SolrCore core=h.getCore();
  SearchComponent tvComp=core.getSearchComponent("tvComponent");
  assertTrue("tvComp is null and it shouldn't be",tvComp != null);
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.add(CommonParams.Q,"id:0");
  params.add(CommonParams.QT,"tvrh");
  params.add(TermVectorParams.TF,"true");
  params.add(TermVectorParams.FIELDS,"foo");
  params.add(TermVectorComponent.COMPONENT_NAME,"true");
  SolrRequestHandler handler=core.getRequestHandler("tvrh");
  SolrQueryResponse rsp;
  rsp=new SolrQueryResponse();
  rsp.add("responseHeader",new SimpleOrderedMap());
  handler.handleRequest(new LocalSolrQueryRequest(core,params),rsp);
  Exception exception=rsp.getException();
  assertNotNull(exception);
}
