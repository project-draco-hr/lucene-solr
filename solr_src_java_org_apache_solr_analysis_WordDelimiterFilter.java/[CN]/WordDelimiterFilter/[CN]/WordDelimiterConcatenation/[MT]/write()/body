{
  clearAttributes();
  if (termAttribute.termLength() < buffer.length()) {
    termAttribute.resizeTermBuffer(buffer.length());
  }
  char termbuffer[]=termAttribute.termBuffer();
  buffer.getChars(0,buffer.length(),termbuffer,0);
  termAttribute.setTermLength(buffer.length());
  if (hasIllegalOffsets) {
    offsetAttribute.setOffset(savedStartOffset,savedEndOffset);
  }
 else {
    offsetAttribute.setOffset(startOffset,endOffset);
  }
  posIncAttribute.setPositionIncrement(position(true));
  typeAttribute.setType(savedType);
  accumPosInc=0;
}
