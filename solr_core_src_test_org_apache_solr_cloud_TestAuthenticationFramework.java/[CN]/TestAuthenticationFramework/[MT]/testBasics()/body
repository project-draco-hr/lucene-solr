{
  final String originalRequestUsername=requestUsername;
  final String originalRequestPassword=requestPassword;
  requestUsername=MockAuthenticationPlugin.expectedUsername;
  requestPassword=MockAuthenticationPlugin.expectedPassword;
  final String collectionName="testAuthenticationFrameworkCollection";
  testCollectionCreateSearchDelete(collectionName);
  requestUsername=MockAuthenticationPlugin.expectedUsername;
  requestPassword="junkpassword";
  try {
    testCollectionCreateSearchDelete(collectionName);
    fail("Should've returned a 401 error");
  }
 catch (  Exception ex) {
    if (!ex.getMessage().contains("Error 401")) {
      fail("Should've returned a 401 error");
    }
  }
 finally {
    requestUsername=originalRequestUsername;
    requestPassword=originalRequestPassword;
  }
}
