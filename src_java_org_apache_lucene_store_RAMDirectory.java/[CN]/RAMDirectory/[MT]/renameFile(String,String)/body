{
  ensureOpen();
  RAMFile fromFile=(RAMFile)fileMap.get(from);
  if (fromFile == null)   throw new FileNotFoundException(from);
  RAMFile toFile=(RAMFile)fileMap.get(to);
  if (toFile != null) {
    sizeInBytes-=toFile.sizeInBytes;
    toFile.directory=null;
  }
  fileMap.remove(from);
  fileMap.put(to,fromFile);
}
