{
  int bufferNumber=pointer / InputStream.BUFFER_SIZE;
  int bufferOffset=pointer % InputStream.BUFFER_SIZE;
  int bytesInBuffer=InputStream.BUFFER_SIZE - bufferOffset;
  int bytesToCopy=bytesInBuffer >= len ? len : bytesInBuffer;
  byte[] buffer=(byte[])file.buffers.elementAt(bufferNumber);
  System.arraycopy(buffer,bufferOffset,dest,destOffset,bytesToCopy);
  if (bytesToCopy < len) {
    destOffset+=bytesToCopy;
    bytesToCopy=len - bytesToCopy;
    buffer=(byte[])file.buffers.elementAt(bufferNumber + 1);
    System.arraycopy(buffer,0,dest,destOffset,bytesToCopy);
  }
  pointer+=len;
}
