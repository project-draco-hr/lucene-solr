{
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  decoder.reInit(bais);
  HashSet<Long> set=new HashSet<Long>();
  long value=0;
  while ((value=decoder.decode()) != IntDecoder.EOS) {
    set.add(value);
  }
  assertEquals(dataSet.size(),set.size());
  assertTrue(set.equals(dataSet));
  set.clear();
  bais.reset();
  decoder.reInit(bais);
  value=0;
  while ((value=decoder.decode()) != IntDecoder.EOS) {
    set.add(value);
  }
  assertEquals(dataSet.size(),set.size());
  assertTrue(set.equals(dataSet));
}
