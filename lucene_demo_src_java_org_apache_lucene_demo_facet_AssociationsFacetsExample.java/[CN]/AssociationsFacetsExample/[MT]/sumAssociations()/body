{
  DirectoryReader indexReader=DirectoryReader.open(indexDir);
  IndexSearcher searcher=new IndexSearcher(indexReader);
  TaxonomyReader taxoReader=new DirectoryTaxonomyReader(taxoDir);
  FacetsConfig config=getConfig(null);
  FacetsCollector sfc=new FacetsCollector();
  searcher.search(new MatchAllDocsQuery(),sfc);
  Facets tags=new TaxonomyFacetSumIntAssociations("$tags",taxoReader,config,sfc);
  Facets genre=new TaxonomyFacetSumFloatAssociations("$genre",taxoReader,config,sfc);
  List<FacetResult> results=new ArrayList<FacetResult>();
  results.add(tags.getTopChildren(10,"tags"));
  results.add(genre.getTopChildren(10,"genre"));
  indexReader.close();
  taxoReader.close();
  return results;
}
