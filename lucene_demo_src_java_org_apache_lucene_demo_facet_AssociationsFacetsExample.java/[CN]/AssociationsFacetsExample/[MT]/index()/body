{
  IndexWriterConfig iwc=new IndexWriterConfig(FacetExamples.EXAMPLES_VER,new WhitespaceAnalyzer(FacetExamples.EXAMPLES_VER));
  IndexWriter indexWriter=new IndexWriter(indexDir,iwc);
  DirectoryTaxonomyWriter taxoWriter=new DirectoryTaxonomyWriter(taxoDir);
  FacetsConfig config=getConfig(taxoWriter);
  Document doc=new Document();
  doc.add(new IntAssociationFacetField(3,"tags","lucene"));
  doc.add(new FloatAssociationFacetField(0.87f,"genre","computing"));
  indexWriter.addDocument(config.build(doc));
  doc=new Document();
  doc.add(new IntAssociationFacetField(1,"tags","lucene"));
  doc.add(new IntAssociationFacetField(2,"tags","solr"));
  doc.add(new FloatAssociationFacetField(0.75f,"genre","computing"));
  doc.add(new FloatAssociationFacetField(0.34f,"genre","software"));
  indexWriter.addDocument(config.build(doc));
  indexWriter.close();
  taxoWriter.close();
}
