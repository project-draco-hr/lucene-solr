{
  super(hasPayloads,hasContexts);
  leaves=reader.leaves();
  starts=new int[leaves.size() + 1];
  for (int i=0; i < leaves.size(); i++) {
    starts[i]=leaves.get(i).docBase;
  }
  starts[leaves.size()]=reader.maxDoc();
  currentWeightValues=(leaves.size() > 0) ? weightsValueSource.getValues(new HashMap<String,Object>(),leaves.get(currentLeafIndex)) : null;
}
