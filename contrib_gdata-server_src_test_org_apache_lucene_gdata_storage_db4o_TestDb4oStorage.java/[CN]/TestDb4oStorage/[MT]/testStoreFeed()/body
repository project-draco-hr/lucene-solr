{
  ObjectContainer container=getContainer();
  ServerBaseFeed feed=new ServerBaseFeed();
  feed.setId(FEEDID);
  ProvidedServiceConfig conf=new ProvidedServiceConfig();
  conf.setName(SERVICENAME);
  feed.setServiceConfig(conf);
  Storage storage=this.controller.getStorage();
  try {
    storage.storeFeed(feed,ACCOUNTNAME);
    fail("no accoutn stored");
  }
 catch (  Exception e) {
  }
  GDataAccount account=new GDataAccount();
  account.setName(ACCOUNTNAME);
  account.setPassword("somePass");
  container.set(account);
  container.commit();
  container.close();
  storage.storeFeed(feed,ACCOUNTNAME);
  container=getContainer();
  Query query=container.query();
  query.constrain(ServerBaseFeed.class);
  query.descend("feed").descend("id").constrain(FEEDID);
  ObjectSet set=query.execute();
  assertEquals(1,set.size());
  assertEquals(feed.getId(),((ServerBaseFeed)set.next()).getId());
  container.close();
}
