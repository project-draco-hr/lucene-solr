{
  GDataAccount account=new GDataAccount();
  account.setName("simon");
  account.setPassword("somepass");
  Storage storage=this.controller.getStorage();
  storage.storeAccount(account);
  ObjectContainer container=getContainer();
  Query q=container.query();
  q.constrain(GDataAccount.class);
  q.descend("name").constrain(account.getName());
  ObjectSet set=q.execute();
  assertEquals(1,set.size());
  storage.deleteAccount(account.getName());
  q=container.query();
  q.constrain(GDataAccount.class);
  q.descend("name").constrain(account.getName());
  set=q.execute();
  assertEquals(0,set.size());
  try {
    storage.deleteAccount("notstored");
    fail("account not stored");
  }
 catch (  Exception e) {
  }
  try {
    storage.deleteAccount(null);
    fail("name is null");
  }
 catch (  Exception e) {
  }
  container.close();
}
