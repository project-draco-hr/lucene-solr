{
  if (clp.createEncoder().createMatchingDecoder().getClass() == DGapVInt8IntDecoder.class) {
    return new FastCountingFacetsAggregator();
  }
 else {
    return new CountingFacetsAggregator();
  }
}
