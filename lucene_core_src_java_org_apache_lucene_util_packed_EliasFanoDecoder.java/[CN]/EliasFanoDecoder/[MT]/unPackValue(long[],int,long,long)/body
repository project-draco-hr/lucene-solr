{
  if (numBits == 0) {
    return 0;
  }
  long bitPos=packIndex * numBits;
  int index=(int)(bitPos >>> LOG2_LONG_SIZE);
  int bitPosAtIndex=(int)(bitPos & (Long.SIZE - 1));
  long value=longArray[index] >>> bitPosAtIndex;
  if ((bitPosAtIndex + numBits) > Long.SIZE) {
    value|=(longArray[index + 1] << (Long.SIZE - bitPosAtIndex));
  }
  value&=bitsMask;
  return value;
}
