{
  Analyzer analyzer=new SimpleAnalyzer();
  TokenStream stream=analyzer.tokenStream(null,reader);
  Date start=new Date();
  int count=0;
  stream.reset();
  TermAttribute termAtt=(TermAttribute)stream.getAttribute(TermAttribute.class);
  OffsetAttribute offsetAtt=(OffsetAttribute)stream.getAttribute(OffsetAttribute.class);
  while (stream.incrementToken()) {
    if (verbose) {
      System.out.println("Text=" + termAtt.term() + " start="+ offsetAtt.startOffset()+ " end="+ offsetAtt.endOffset());
    }
    count++;
  }
  Date end=new Date();
  long time=end.getTime() - start.getTime();
  System.out.println(time + " milliseconds to extract " + count+ " tokens");
  System.out.println((time * 1000.0) / count + " microseconds/token");
  System.out.println((bytes * 1000.0 * 60.0* 60.0) / (time * 1000000.0) + " megabytes/hour");
}
