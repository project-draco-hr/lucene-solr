{
  final TopDocs docs=searcher.search(Arrays.asList(slice.leaves),weight,after,nDocs);
  final ScoreDoc[] scoreDocs=docs.scoreDocs;
  lock.lock();
  try {
    for (int j=0; j < scoreDocs.length; j++) {
      final ScoreDoc scoreDoc=scoreDocs[j];
      if (scoreDoc == hq.insertWithOverflow(scoreDoc)) {
        break;
      }
    }
  }
  finally {
    lock.unlock();
  }
  return docs;
}
