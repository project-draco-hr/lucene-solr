{
  IndexReader reader=IndexReader.open(small);
  IndexSearcher search=new IndexSearcher(reader);
  Query rq=new RangeQuery(new Term("data","1"),new Term("data","4"),T);
  Hits expected=search.search(rq);
  int numHits=expected.length();
  BooleanQuery q=new BooleanQuery();
  q.add(rq,BooleanClause.Occur.MUST);
  q.add(csrq("data","1","6",T,T),BooleanClause.Occur.MUST);
  Hits actual=search.search(q);
  assertEquals("wrong numebr of hits",numHits,actual.length());
  for (int i=0; i < numHits; i++) {
    assertEquals("mismatch in docid for hit#" + i,expected.id(i),actual.id(i));
  }
}
