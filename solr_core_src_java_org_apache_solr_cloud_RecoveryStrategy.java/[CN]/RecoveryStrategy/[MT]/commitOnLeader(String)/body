{
  HttpSolrClient server=new HttpSolrClient(leaderUrl);
  try {
    server.setConnectionTimeout(30000);
    UpdateRequest ureq=new UpdateRequest();
    ureq.setParams(new ModifiableSolrParams());
    ureq.getParams().set(DistributedUpdateProcessor.COMMIT_END_POINT,true);
    ureq.getParams().set(UpdateParams.OPEN_SEARCHER,false);
    ureq.setAction(AbstractUpdateRequest.ACTION.COMMIT,false,true).process(server);
  }
  finally {
    server.shutdown();
  }
}
