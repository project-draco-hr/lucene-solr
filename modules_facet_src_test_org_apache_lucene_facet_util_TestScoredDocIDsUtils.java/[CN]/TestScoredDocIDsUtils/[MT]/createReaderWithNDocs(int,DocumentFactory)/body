{
  Directory ramDir=new RAMDirectory();
  IndexWriter writer=new IndexWriter(ramDir,new IndexWriterConfig(TEST_VERSION_CURRENT,new KeywordAnalyzer()));
  for (int docNum=0; docNum < nDocs; docNum++) {
    writer.addDocument(docFactory.getDoc(docNum));
  }
  writer.commit();
  writer.close();
  IndexReader reader=IndexReader.open(ramDir,false);
  reader.deleteDocuments(new Term(DocumentFactory.field,DocumentFactory.delTxt));
  reader.close();
  return IndexReader.open(ramDir,true);
}
