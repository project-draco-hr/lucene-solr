{
  if (1 + bufferUpto == buffers.length) {
    byte[][] newBuffers=new byte[(int)(buffers.length * 1.5)][];
    System.arraycopy(buffers,0,newBuffers,0,buffers.length);
    buffers=newBuffers;
  }
  buffer=buffers[1 + bufferUpto]=allocator.getByteBlock(trackAllocations);
  bufferUpto++;
  byteUpto=0;
  byteOffset+=DocumentsWriter.BYTE_BLOCK_SIZE;
}
