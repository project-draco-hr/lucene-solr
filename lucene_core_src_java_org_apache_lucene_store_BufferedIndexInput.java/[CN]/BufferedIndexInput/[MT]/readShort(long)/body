{
  long index=pos - bufferStart;
  if (index < 0 || index >= bufferLength - 1) {
    bufferStart=pos;
    bufferPosition=0;
    bufferLength=0;
    seekInternal(pos);
    refill();
    index=0;
  }
  return (short)(((buffer[(int)index] & 0xFF) << 8) | (buffer[(int)index + 1] & 0xFF));
}
