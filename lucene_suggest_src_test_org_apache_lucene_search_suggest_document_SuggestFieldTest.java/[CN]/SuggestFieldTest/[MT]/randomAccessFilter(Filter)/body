{
  return new Filter(){
    @Override public DocIdSet getDocIdSet(    LeafReaderContext context,    Bits acceptDocs) throws IOException {
      DocIdSet docIdSet=filter.getDocIdSet(context,acceptDocs);
      DocIdSetIterator iterator=docIdSet.iterator();
      FixedBitSet bits=new FixedBitSet(context.reader().maxDoc());
      if (iterator != null) {
        int doc;
        while ((doc=iterator.nextDoc()) != DocIdSetIterator.NO_MORE_DOCS) {
          bits.set(doc);
        }
      }
      return new DocIdSet(){
        @Override public DocIdSetIterator iterator() throws IOException {
          return iterator;
        }
        @Override public Bits bits() throws IOException {
          return bits;
        }
        @Override public long ramBytesUsed(){
          return docIdSet.ramBytesUsed();
        }
      }
;
    }
    @Override public String toString(    String field){
      return filter.toString(field);
    }
  }
;
}
