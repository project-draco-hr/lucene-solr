{
  String xml;
  Collection<Double> lon;
  List<Double> all=new ArrayList<Double>();
  xml=getFacetXML(response,"off0","fieldFacets","long_ld");
  lon=(ArrayList<Double>)xmlToList(xml,"double","mean");
  assertEquals(lon.size(),2);
  assertArrayEquals(new Double[]{1.5,2.0},lon.toArray(new Double[0]));
  all.addAll(lon);
  xml=getFacetXML(response,"off1","fieldFacets","long_ld");
  lon=(ArrayList<Double>)xmlToList(xml,"double","mean");
  assertEquals(lon.size(),2);
  assertArrayEquals(new Double[]{3.0,4.0},lon.toArray(new Double[0]));
  all.addAll(lon);
  xml=getFacetXML(response,"off2","fieldFacets","long_ld");
  lon=(ArrayList<Double>)xmlToList(xml,"double","mean");
  assertEquals(lon.size(),3);
  assertArrayEquals(new Double[]{5.0,5.75,6.0},lon.toArray(new Double[0]));
  all.addAll(lon);
  xml=getFacetXML(response,"offAll","fieldFacets","long_ld");
  lon=(ArrayList<Double>)xmlToList(xml,"double","mean");
  assertEquals(lon.size(),7);
  assertArrayEquals(all.toArray(new Double[0]),lon.toArray(new Double[0]));
}
