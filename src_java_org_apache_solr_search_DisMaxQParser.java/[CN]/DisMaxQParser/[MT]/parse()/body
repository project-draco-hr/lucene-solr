{
  SolrParams solrParams=localParams == null ? params : new DefaultSolrParams(localParams,params);
  queryFields=SolrPluginUtils.parseFieldBoosts(solrParams.getParams(DisMaxParams.QF));
  BooleanQuery query=new BooleanQuery(true);
  addMainQuery(query,solrParams);
  addBoostQuery(query,solrParams);
  addBoostFunctions(query,solrParams);
  return query;
}
