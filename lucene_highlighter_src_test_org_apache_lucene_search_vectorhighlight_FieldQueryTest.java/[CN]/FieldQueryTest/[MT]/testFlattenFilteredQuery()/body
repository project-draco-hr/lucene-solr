{
  initBoost();
  Filter filter=new Filter(){
    @Override public DocIdSet getDocIdSet(    LeafReaderContext context,    Bits acceptDocs) throws IOException {
      return null;
    }
    @Override public String toString(    String field){
      return "filterToBeFlattened";
    }
  }
;
  Query query=new BooleanQuery.Builder().add(pqF("A"),Occur.MUST).add(filter,Occur.FILTER).build();
  query.setBoost(boost);
  FieldQuery fq=new FieldQuery(query,true,true);
  Set<Query> flatQueries=new HashSet<>();
  fq.flatten(query,reader,flatQueries);
  assertCollectionQueries(flatQueries,tq(boost,"A"));
}
