{
  Set<String> words=new HashSet<String>();
  words.add("aaa");
  words.add("bbb");
  String input="xxx yyy aaa zzz BBB ccc ddd EEE";
  TokenStream stream=new MockTokenizer(new StringReader(input),MockTokenizer.WHITESPACE,false);
  stream=new KeepWordFilter(true,stream,new CharArraySet(TEST_VERSION_CURRENT,words,true));
  assertTokenStreamContents(stream,new String[]{"aaa","BBB"},new int[]{3,2});
  stream=new MockTokenizer(new StringReader(input),MockTokenizer.WHITESPACE,false);
  stream=new KeepWordFilter(true,stream,new CharArraySet(TEST_VERSION_CURRENT,words,false));
  assertTokenStreamContents(stream,new String[]{"aaa"},new int[]{3});
  stream=new MockTokenizer(new StringReader(input),MockTokenizer.WHITESPACE,false);
  stream=new KeepWordFilter(false,stream,new CharArraySet(TEST_VERSION_CURRENT,words,true));
  assertTokenStreamContents(stream,new String[]{"aaa","BBB"},new int[]{1,1});
  stream=new MockTokenizer(new StringReader(input),MockTokenizer.WHITESPACE,false);
  stream=new KeepWordFilter(false,stream,new CharArraySet(TEST_VERSION_CURRENT,words,false));
  assertTokenStreamContents(stream,new String[]{"aaa"},new int[]{1});
}
