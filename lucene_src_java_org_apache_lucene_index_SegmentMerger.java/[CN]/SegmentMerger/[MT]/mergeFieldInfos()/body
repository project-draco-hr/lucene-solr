{
  for (  MergeState.IndexReaderAndLiveDocs readerAndLiveDocs : mergeState.readers) {
    final IndexReader reader=readerAndLiveDocs.reader;
    if (reader instanceof SegmentReader) {
      SegmentReader segmentReader=(SegmentReader)reader;
      FieldInfos readerFieldInfos=segmentReader.fieldInfos();
      for (      FieldInfo fi : readerFieldInfos) {
        mergeState.fieldInfos.add(fi);
      }
    }
 else {
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.TERMVECTOR_WITH_POSITION_OFFSET),true,true,true,false,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.TERMVECTOR_WITH_POSITION),true,true,false,false,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.TERMVECTOR_WITH_OFFSET),true,false,true,false,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.TERMVECTOR),true,false,false,false,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.OMIT_POSITIONS),false,false,false,false,IndexOptions.DOCS_AND_FREQS);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.OMIT_TERM_FREQ_AND_POSITIONS),false,false,false,false,IndexOptions.DOCS_ONLY);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.STORES_PAYLOADS),false,false,false,true,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS);
      addIndexed(reader,mergeState.fieldInfos,reader.getFieldNames(FieldOption.INDEXED),false,false,false,false,IndexOptions.DOCS_AND_FREQS_AND_POSITIONS);
      mergeState.fieldInfos.addOrUpdate(reader.getFieldNames(FieldOption.UNINDEXED),false);
      mergeState.fieldInfos.addOrUpdate(reader.getFieldNames(FieldOption.DOC_VALUES),false);
    }
  }
}
