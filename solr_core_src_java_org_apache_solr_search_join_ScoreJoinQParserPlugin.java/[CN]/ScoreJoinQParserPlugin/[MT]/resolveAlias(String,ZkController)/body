{
  final Aliases aliases=zkController.getZkStateReader().getAliases();
  if (aliases != null) {
    final String resolved;
    Map<String,String> collectionAliases=aliases.getCollectionAliasMap();
    resolved=(collectionAliases != null) ? collectionAliases.get(fromIndex) : null;
    if (resolved != null) {
      if (resolved.split(",").length > 1) {
        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"SolrCloud join: Collection alias '" + fromIndex + "' maps to multiple collections ("+ resolved+ "), which is not currently supported for joins.");
      }
      return resolved;
    }
  }
  return null;
}
