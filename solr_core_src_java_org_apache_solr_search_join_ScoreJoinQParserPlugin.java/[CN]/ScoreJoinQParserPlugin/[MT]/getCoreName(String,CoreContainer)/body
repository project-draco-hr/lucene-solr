{
  if (container.isZooKeeperAware()) {
    ZkController zkController=container.getZkController();
    final String resolved=zkController.getClusterState().hasCollection(fromIndex) ? fromIndex : resolveAlias(fromIndex,zkController);
    if (resolved == null) {
      throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"SolrCloud join: Collection '" + fromIndex + "' not found!");
    }
    return findLocalReplicaForFromIndex(zkController,resolved);
  }
  return fromIndex;
}
