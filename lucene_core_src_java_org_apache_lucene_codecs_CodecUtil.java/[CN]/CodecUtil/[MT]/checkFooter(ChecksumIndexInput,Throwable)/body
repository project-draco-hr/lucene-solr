{
  if (priorException == null) {
    checkFooter(in);
  }
 else {
    try {
      long remaining=in.length() - in.getFilePointer();
      if (remaining < footerLength()) {
        priorException.addSuppressed(new CorruptIndexException("checksum status indeterminate: remaining=" + remaining + ", please run checkindex for more details",in));
      }
 else {
        in.skipBytes(remaining - footerLength());
        try {
          long checksum=checkFooter(in);
          priorException.addSuppressed(new CorruptIndexException("checksum passed (" + Long.toHexString(checksum) + "). possibly transient resource issue, or a Lucene or JVM bug",in));
        }
 catch (        CorruptIndexException t) {
          priorException.addSuppressed(t);
        }
      }
    }
 catch (    Throwable t) {
      priorException.addSuppressed(new CorruptIndexException("checksum status indeterminate: unexpected exception",in,t));
    }
    IOUtils.reThrow(priorException);
  }
}
