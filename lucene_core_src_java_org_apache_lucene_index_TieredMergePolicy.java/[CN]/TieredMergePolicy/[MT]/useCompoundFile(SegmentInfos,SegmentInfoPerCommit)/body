{
  if (!getUseCompoundFile()) {
    return false;
  }
  long mergedInfoSize=size(mergedInfo);
  if (mergedInfoSize > maxCFSSegmentSize) {
    return false;
  }
  if (getNoCFSRatio() >= 1.0) {
    return true;
  }
  long totalSize=0;
  for (  SegmentInfoPerCommit info : infos) {
    totalSize+=size(info);
  }
  return mergedInfoSize <= getNoCFSRatio() * totalSize;
}
