{
  Analyzer a=new JapaneseAnalyzer(null,Mode.SEARCH,JapaneseAnalyzer.getDefaultStopSet(),JapaneseAnalyzer.getDefaultStopTags());
  assertAnalyzesToPositions(a,"??????????????????????????????????????????",new String[]{"?????????","??????????????????????????????????????????","??????????????????","???????????????"},new int[]{1,0,1,1},new int[]{1,3,1,1});
  assertAnalyzesToPositions(a,"?????????????????????????????????????????????",new String[]{"?????????","??????????????????????????????????????????","??????????????????","???????????????"},new int[]{1,0,1,1},new int[]{1,3,1,1});
  assertAnalyzesToPositions(a,"??????????????????",new String[]{"??????","??????????????????","??????","??????"},new int[]{1,0,1,1},new int[]{1,3,1,1});
  assertAnalyzesToPositions(a,"?????????????????????????????????????????????",new String[]{"?????????","?????????????????????????????????????????????","????????????","????????????????????????"},new int[]{1,0,1,1},new int[]{1,3,1,1});
  assertAnalyzesToPositions(a,"????????????",new String[]{"??????","????????????","??????"},new int[]{1,0,1},new int[]{1,2,1});
  a.close();
  a=new JapaneseAnalyzer();
  assertAnalyzesToPositions(a,"???????????????????????????",new String[]{"?????????","???","??????","??????","???"},new int[]{1,1,1,1,1},new int[]{1,1,1,1,1});
  a.close();
}
