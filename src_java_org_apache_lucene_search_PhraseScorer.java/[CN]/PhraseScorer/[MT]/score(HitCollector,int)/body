{
  Similarity similarity=getSimilarity();
  while (last.doc < end) {
    while (first.doc < last.doc) {
      do {
        first.next();
      }
 while (first.doc < last.doc);
      firstToLast();
      if (last.doc >= end)       return;
    }
    float freq=phraseFreq();
    if (freq > 0.0) {
      float score=similarity.tf(freq) * weight;
      score*=Similarity.decodeNorm(norms[first.doc]);
      results.collect(first.doc,score);
    }
    last.next();
  }
}
