{
  File fdir1=_TestUtil.getTempDir("TestLockFactory.8");
  File fdir2=_TestUtil.getTempDir("TestLockFactory.8.Lockdir");
  Directory dir1=newFSDirectory(fdir1,new NativeFSLockFactory(fdir1));
  Directory dir2=newFSDirectory(fdir1,new NativeFSLockFactory(fdir2));
  String prefix1=dir1.getLockFactory().getLockPrefix();
  assertNull("Lock prefix for lockDir same as directory should be null",prefix1);
  String prefix2=dir2.getLockFactory().getLockPrefix();
  assertNotNull("Lock prefix for lockDir outside of directory should be not null",prefix2);
  dir1.close();
  dir2.close();
  _TestUtil.rmDir(fdir1);
  _TestUtil.rmDir(fdir2);
}
