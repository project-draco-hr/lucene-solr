{
  assertU(adoc("id","0","lowerfilt","This is a title"));
  assertU(commit());
  SolrQueryRequest request=req("qt","spellCheckCompRH","q","*:*","spellcheck.q","ttle","spellcheck","true","spellcheck.dictionary","default","spellcheck.build","true");
  assertQ(request,"//arr[@name='suggestion'][.='title']");
  NamedList args=new NamedList();
  NamedList spellchecker=new NamedList();
  spellchecker.add(AbstractLuceneSpellChecker.DICTIONARY_NAME,"default");
  spellchecker.add(AbstractLuceneSpellChecker.FIELD,"lowerfilt");
  spellchecker.add(AbstractLuceneSpellChecker.INDEX_DIR,"spellchecker1");
  args.add("spellchecker",spellchecker);
  SpellCheckComponent checker=new SpellCheckComponent();
  checker.init(args);
  checker.inform(h.getCore());
  request=req("qt","spellCheckCompRH","q","*:*","spellcheck.q","ttle","spellcheck","true","spellcheck.dictionary","default","spellcheck.reload","true");
  ResponseBuilder rb=new ResponseBuilder();
  rb.req=request;
  rb.rsp=new SolrQueryResponse();
  rb.components=new ArrayList(h.getCore().getSearchComponents().values());
  checker.prepare(rb);
  try {
    checker.process(rb);
  }
 catch (  NullPointerException e) {
    fail("NullPointerException due to reload not initializing analyzers");
  }
}
