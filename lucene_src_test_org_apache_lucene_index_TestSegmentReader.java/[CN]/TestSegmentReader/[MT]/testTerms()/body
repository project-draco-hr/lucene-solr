{
  FieldsEnum fields=MultiFields.getFields(reader).iterator();
  String field;
  while ((field=fields.next()) != null) {
    TermsEnum terms=fields.terms();
    while (terms.next() != null) {
      BytesRef term=terms.term();
      assertTrue(term != null);
      String fieldValue=(String)DocHelper.nameValues.get(field);
      assertTrue(fieldValue.indexOf(term.utf8ToString()) != -1);
    }
  }
  DocsEnum termDocs=MultiFields.getTermDocsEnum(reader,MultiFields.getDeletedDocs(reader),DocHelper.TEXT_FIELD_1_KEY,new BytesRef("field"));
  assertTrue(termDocs.nextDoc() != DocsEnum.NO_MORE_DOCS);
  termDocs=MultiFields.getTermDocsEnum(reader,MultiFields.getDeletedDocs(reader),DocHelper.NO_NORMS_KEY,new BytesRef(DocHelper.NO_NORMS_TEXT));
  assertTrue(termDocs.nextDoc() != DocsEnum.NO_MORE_DOCS);
  DocsAndPositionsEnum positions=MultiFields.getTermPositionsEnum(reader,MultiFields.getDeletedDocs(reader),DocHelper.TEXT_FIELD_1_KEY,new BytesRef("field"));
  assertTrue(positions.nextDoc() != DocsEnum.NO_MORE_DOCS);
  assertTrue(positions.docID() == 0);
  assertTrue(positions.nextPosition() >= 0);
}
