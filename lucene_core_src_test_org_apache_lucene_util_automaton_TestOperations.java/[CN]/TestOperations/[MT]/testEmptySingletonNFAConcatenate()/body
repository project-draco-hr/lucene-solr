{
  Automaton singleton=Automata.makeString("");
  Automaton expandedSingleton=singleton;
  Automaton nfa=Operations.union(Automata.makeString("this"),Automata.makeString("three"));
  Automaton concat1=Operations.concatenate(expandedSingleton,nfa);
  Automaton concat2=Operations.concatenate(singleton,nfa);
  assertFalse(concat2.isDeterministic());
  assertTrue(Operations.sameLanguage(Operations.determinize(concat1,100),Operations.determinize(concat2,100)));
  assertTrue(Operations.sameLanguage(Operations.determinize(nfa,100),Operations.determinize(concat1,100)));
  assertTrue(Operations.sameLanguage(Operations.determinize(nfa,100),Operations.determinize(concat2,100)));
}
