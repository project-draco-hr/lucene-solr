{
  Automaton singleton=Automata.makeString("");
  Automaton expandedSingleton=singleton;
  Automaton nfa=Operations.union(Automata.makeString("this"),Automata.makeString("three"));
  Automaton concat1=Operations.concatenate(expandedSingleton,nfa);
  Automaton concat2=Operations.concatenate(singleton,nfa);
  assertFalse(concat2.isDeterministic());
  assertTrue(Operations.sameLanguage(Operations.determinize(concat1),Operations.determinize(concat2)));
  assertTrue(Operations.sameLanguage(Operations.determinize(nfa),Operations.determinize(concat1)));
  assertTrue(Operations.sameLanguage(Operations.determinize(nfa),Operations.determinize(concat2)));
}
