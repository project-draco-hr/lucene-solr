{
  IndexOptions indexOptions=fieldInfo.getIndexOptions();
  fieldHasFreqs=indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS) >= 0;
  fieldHasPositions=indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS) >= 0;
  fieldHasOffsets=indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS) >= 0;
  fieldHasPayloads=fieldInfo.hasPayloads();
  skipWriter.setField(fieldHasPositions,fieldHasOffsets,fieldHasPayloads);
  if (fieldHasPositions) {
    if (fieldHasPayloads || fieldHasOffsets) {
      return 3;
    }
 else {
      return 2;
    }
  }
 else {
    return 1;
  }
}
