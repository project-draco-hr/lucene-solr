{
  List<Integer> docs=new ArrayList<>();
  final int maxStep=TestUtil.nextInt(random(),1,1 << TestUtil.nextInt(random(),2,20));
  final int numDocs=TestUtil.nextInt(random(),1,Math.min(100000,Integer.MAX_VALUE / maxStep));
  for (int doc=-1, i=0; i < numDocs; ++i) {
    doc+=TestUtil.nextInt(random(),1,maxStep);
    docs.add(doc);
  }
  final int maxDoc=docs.get(docs.size() - 1) + TestUtil.nextInt(random(),1,100);
  FixedBitSet set=new FixedBitSet(maxDoc);
  for (  int doc : docs) {
    set.set(doc);
  }
  doTest(set,dir);
}
