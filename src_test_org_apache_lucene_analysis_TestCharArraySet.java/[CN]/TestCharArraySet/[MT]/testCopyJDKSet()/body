{
  Set<String> set=new HashSet<String>();
  List<String> stopwords=Arrays.asList(TEST_STOP_WORDS);
  List<String> stopwordsUpper=new ArrayList<String>();
  for (  String string : stopwords) {
    stopwordsUpper.add(string.toUpperCase());
  }
  set.addAll(Arrays.asList(TEST_STOP_WORDS));
  CharArraySet copy=CharArraySet.copy(Version.LUCENE_CURRENT,set);
  assertEquals(set.size(),copy.size());
  assertEquals(set.size(),copy.size());
  assertTrue(copy.containsAll(stopwords));
  for (  String string : stopwordsUpper) {
    assertFalse(copy.contains(string));
  }
  List<String> newWords=new ArrayList<String>();
  for (  String string : stopwords) {
    newWords.add(string + "_1");
  }
  copy.addAll(newWords);
  assertTrue(copy.containsAll(stopwords));
  assertTrue(copy.containsAll(newWords));
  for (  String string : newWords) {
    assertFalse(set.contains(string));
  }
}
