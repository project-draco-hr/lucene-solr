{
  IndexSchema schema=h.getCore().getSchema();
  SchemaField home=schema.getField("home");
  assertNotNull(home);
  assertTrue(home.isPolyField());
  SchemaField[] dynFields=schema.getDynamicFieldPrototypes();
  boolean seen=false;
  for (  SchemaField dynField : dynFields) {
    if (dynField.getName().equals("*" + FieldType.POLY_FIELD_SEPARATOR + "double")) {
      seen=true;
    }
  }
  assertTrue("Didn't find the expected dynamic field",seen);
  FieldType homeFT=schema.getFieldType("home");
  assertEquals(home.getType(),homeFT);
  FieldType xy=schema.getFieldTypeByName("xy");
  assertNotNull(xy);
  assertTrue(xy instanceof PointType);
  assertTrue(xy.isPolyField());
  home=schema.getFieldOrNull("home_0" + FieldType.POLY_FIELD_SEPARATOR + "double");
  assertNotNull(home);
  home=schema.getField("home");
  assertNotNull(home);
  homeFT=schema.getPolyFieldType("home");
  assertNotNull(homeFT);
  home=schema.getField("homed");
  assertNotNull(home);
  assertTrue(home.isPolyField());
  try {
    FieldType bad=schema.getPolyFieldType("foo");
    assertTrue(false);
  }
 catch (  Exception e) {
  }
  try {
    FieldType bad=schema.getPolyFieldTypeNoEx("foo");
    assertNull(bad);
  }
 catch (  Exception e) {
    assertTrue(false);
  }
}
