{
  try {
    for (    DocumentsWriterPerThread dwpt : flushQueue) {
      try {
        documentsWriter.subtractFlushedNumDocs(dwpt.getNumDocsInRAM());
        dwpt.abort();
      }
 catch (      Throwable ex) {
      }
 finally {
        doAfterFlush(dwpt);
      }
    }
    for (    BlockedFlush blockedFlush : blockedFlushes) {
      try {
        flushingWriters.put(blockedFlush.dwpt,Long.valueOf(blockedFlush.bytes));
        documentsWriter.subtractFlushedNumDocs(blockedFlush.dwpt.getNumDocsInRAM());
        blockedFlush.dwpt.abort();
      }
 catch (      Throwable ex) {
      }
 finally {
        doAfterFlush(blockedFlush.dwpt);
      }
    }
  }
  finally {
    flushQueue.clear();
    blockedFlushes.clear();
    updateStallState();
  }
}
