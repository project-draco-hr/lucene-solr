{
  if (hasChildren(nd)) {
    NamedList nl=new NamedList<Object>();
    readAttributes(nd,nl);
    NodeList nlist=nd.getChildNodes();
    if (nlist != null) {
      for (int i=0; i < nlist.getLength(); i++) {
        if (nlist.item(i).getNodeType() == Node.ELEMENT_NODE)         addToNamedList(nlist.item(i),nl,null);
      }
    }
    return nl;
  }
 else {
    return getText(nd);
  }
}
