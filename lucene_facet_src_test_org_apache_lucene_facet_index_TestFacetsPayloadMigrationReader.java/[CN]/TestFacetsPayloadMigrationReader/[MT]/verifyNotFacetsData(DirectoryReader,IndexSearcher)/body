{
  TotalHitCountCollector total=new TotalHitCountCollector();
  searcher.search(new PrefixQuery(new Term("foo","content")),total);
  assertEquals("invalid number of results for content query",total.getTotalHits(),indexReader.maxDoc());
  int numDocIDs=0;
  for (  AtomicReaderContext context : indexReader.leaves()) {
    Terms docIDs=context.reader().terms("docid");
    assertNotNull(docIDs);
    TermsEnum te=docIDs.iterator(null);
    while (te.next() != null) {
      ++numDocIDs;
    }
  }
  assertEquals("invalid number of docid terms",indexReader.maxDoc(),numDocIDs);
}
