{
  this._baseURL=baseURL.toExternalForm();
  if (this._baseURL.endsWith("/")) {
    this._baseURL=this._baseURL.substring(0,this._baseURL.length() - 1);
  }
  _httpClient=(client == null) ? new HttpClient(new MultiThreadedHttpConnectionManager()) : client;
  if (client == null) {
    this.setDefaultMaxConnectionsPerHost(32);
    this.setMaxTotalConnections(128);
  }
  _processor=new XMLResponseParser();
  _invariantParams=new ModifiableSolrParams();
  _invariantParams.set(CommonParams.WT,_processor.getWriterType());
  _invariantParams.set(CommonParams.VERSION,"2.2");
}
