{
  Analyzer a=new LimitTokenCountAnalyzer(new WhitespaceAnalyzer(TEST_VERSION_CURRENT),2);
  assertTokenStreamContents(a.tokenStream("dummy",new StringReader("1  2     3  4  5")),new String[]{"1","2"},new int[]{0,3},new int[]{1,4},4);
  assertTokenStreamContents(a.reusableTokenStream("dummy",new StringReader("1 2 3 4 5")),new String[]{"1","2"},new int[]{0,2},new int[]{1,3},3);
  a=new LimitTokenCountAnalyzer(new StandardAnalyzer(TEST_VERSION_CURRENT),2);
  assertTokenStreamContents(a.tokenStream("dummy",new StringReader("1 2 3 4 5")),new String[]{"1","2"},new int[]{0,2},new int[]{1,3},3);
  assertTokenStreamContents(a.reusableTokenStream("dummy",new StringReader("1 2 3 4 5")),new String[]{"1","2"},new int[]{0,2},new int[]{1,3},3);
}
