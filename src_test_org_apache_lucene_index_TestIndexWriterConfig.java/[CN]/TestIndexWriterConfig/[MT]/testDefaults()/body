{
  IndexWriterConfig conf=new IndexWriterConfig(TEST_VERSION_CURRENT);
  assertEquals(WhitespaceAnalyzer.class,conf.getAnalyzer().getClass());
  assertNull(conf.getIndexCommit());
  assertEquals(KeepOnlyLastCommitDeletionPolicy.class,conf.getIndexDeletionPolicy().getClass());
  assertEquals(IndexWriterConfig.UNLIMITED_FIELD_LENGTH,conf.getMaxFieldLength());
  assertEquals(ConcurrentMergeScheduler.class,conf.getMergeScheduler().getClass());
  assertEquals(OpenMode.CREATE_OR_APPEND,conf.getOpenMode());
  assertTrue(Similarity.getDefault() == conf.getSimilarity());
  assertEquals(IndexWriterConfig.DEFAULT_TERM_INDEX_INTERVAL,conf.getTermIndexInterval());
  assertEquals(IndexWriterConfig.getDefaultWriteLockTimeout(),conf.getWriteLockTimeout());
  assertEquals(IndexWriterConfig.WRITE_LOCK_TIMEOUT,IndexWriterConfig.getDefaultWriteLockTimeout());
  assertEquals(IndexWriterConfig.DEFAULT_MAX_BUFFERED_DELETE_TERMS,conf.getMaxBufferedDeleteTerms());
  assertEquals(IndexWriterConfig.DEFAULT_RAM_BUFFER_SIZE_MB,conf.getRAMBufferSizeMB(),0.0);
  assertEquals(IndexWriterConfig.DEFAULT_MAX_BUFFERED_DOCS,conf.getMaxBufferedDocs());
  assertTrue(DocumentsWriter.defaultIndexingChain == conf.getIndexingChain());
  Set<String> getters=new HashSet<String>();
  getters.add("getAnalyzer");
  getters.add("getIndexCommit");
  getters.add("getIndexDeletionPolicy");
  getters.add("getMaxFieldLength");
  getters.add("getMergeScheduler");
  getters.add("getOpenMode");
  getters.add("getSimilarity");
  getters.add("getTermIndexInterval");
  getters.add("getWriteLockTimeout");
  getters.add("getDefaultWriteLockTimeout");
  getters.add("getMaxBufferedDeleteTerms");
  getters.add("getRAMBufferSizeMB");
  getters.add("getMaxBufferedDocs");
  getters.add("getIndexingChain");
  for (  Method m : IndexWriterConfig.class.getDeclaredMethods()) {
    if (m.getDeclaringClass() == IndexWriterConfig.class && m.getName().startsWith("get")) {
      assertTrue("method " + m.getName() + " is not tested for defaults",getters.contains(m.getName()));
    }
  }
}
