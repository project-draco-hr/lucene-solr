{
  directory=newDirectory();
  RandomIndexWriter writer=new RandomIndexWriter(random(),directory,newIndexWriterConfig(new MockAnalyzer(random())).setMaxBufferedDocs(TestUtil.nextInt(random(),100,1000)).setMergePolicy(newLogMergePolicy()));
  final FieldType storedPoint=new FieldType(GeoPointField.TYPE_STORED);
  GeoPointField[] pts=new GeoPointField[]{new GeoPointField(FIELD_NAME,-96.774,32.763420,storedPoint),new GeoPointField(FIELD_NAME,-96.7759895324707,32.7559529921407,storedPoint),new GeoPointField(FIELD_NAME,-96.77701950073242,32.77866942010977,storedPoint),new GeoPointField(FIELD_NAME,-96.7706036567688,32.7756745755423,storedPoint),new GeoPointField(FIELD_NAME,-139.73458170890808,27.703618681345585,storedPoint),new GeoPointField(FIELD_NAME,-96.4538113027811,32.94823588839368,storedPoint),new GeoPointField(FIELD_NAME,-96.65084838867188,33.06047141970814,storedPoint),new GeoPointField(FIELD_NAME,-96.7772,32.778650,storedPoint),new GeoPointField(FIELD_NAME,-83.99724648980559,58.29438379542874,storedPoint),new GeoPointField(FIELD_NAME,-26.779373834241003,33.541429799076354,storedPoint),new GeoPointField(FIELD_NAME,-77.35379276106497,26.774024500421728,storedPoint),new GeoPointField(FIELD_NAME,-14.796283808944777,-62.455081198245665,storedPoint),new GeoPointField(FIELD_NAME,-178.8538113027811,32.94823588839368,storedPoint),new GeoPointField(FIELD_NAME,178.8538113027811,32.94823588839368,storedPoint),new GeoPointField(FIELD_NAME,-73.998776,40.720611,storedPoint),new GeoPointField(FIELD_NAME,-179.5,-44.5,storedPoint)};
  for (  GeoPointField p : pts) {
    Document doc=new Document();
    doc.add(p);
    writer.addDocument(doc);
  }
  for (int i=0; i < pts.length; i+=2) {
    Document doc=new Document();
    doc.add(pts[i]);
    doc.add(pts[i + 1]);
    writer.addDocument(doc);
  }
  reader=writer.getReader();
  searcher=newSearcher(reader);
  writer.close();
}
