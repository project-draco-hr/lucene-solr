{
  Document doc=reader.document(docId);
  String contents=doc.get(field);
  if (contents == null) {
    throw new IllegalArgumentException("Field " + field + " in document #"+ docId+ " is not stored and cannot be analyzed");
  }
  return analyzer.tokenStream(field,new StringReader(contents));
}
