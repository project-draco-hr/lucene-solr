{
synchronized (this) {
    pending=null;
  }
  SolrQueryRequest req=new LocalSolrQueryRequest(core,new ModifiableSolrParams());
  try {
    CommitUpdateCommand command=new CommitUpdateCommand(req,false);
    command.openSearcher=openSearcher;
    command.waitSearcher=waitSearcher;
    command.softCommit=softCommit;
    autoCommitCount.incrementAndGet();
    core.getUpdateHandler().commit(command);
  }
 catch (  Exception e) {
    SolrException.log(log,"auto commit error...",e);
  }
 finally {
    req.close();
  }
}
