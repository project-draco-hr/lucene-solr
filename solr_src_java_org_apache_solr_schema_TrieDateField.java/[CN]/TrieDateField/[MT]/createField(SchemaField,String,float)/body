{
  boolean indexed=field.indexed();
  boolean stored=field.stored();
  if (!indexed && !stored) {
    if (log.isTraceEnabled())     log.trace("Ignoring unindexed/unstored field: " + field);
    return null;
  }
  int ps=precisionStep;
  byte[] arr=null;
  TokenStream ts=null;
  long time=super.parseMath(null,externalVal).getTime();
  if (stored)   arr=TrieField.toArr(time);
  if (indexed)   ts=new NumericTokenStream(ps).setLongValue(time);
  Field f;
  if (stored) {
    f=new Field(field.getName(),arr,Field.Store.YES);
    if (indexed)     f.setTokenStream(ts);
  }
 else {
    f=new Field(field.getName(),ts);
  }
  f.setOmitNorms(field.omitNorms());
  f.setOmitTermFreqAndPositions(field.omitTf());
  f.setBoost(boost);
  return f;
}
