{
  boolean more;
  do {
    while (bucketTable.first != null) {
      current=bucketTable.first;
      bucketTable.first=current.next;
      if ((current.bits & prohibitedMask) == 0 && (current.bits & requiredMask) == requiredMask && current.coord >= minNrShouldMatch) {
        return doc=current.doc;
      }
    }
    more=false;
    end+=BucketTable.SIZE;
    for (SubScorer sub=scorers; sub != null; sub=sub.next) {
      Scorer scorer=sub.scorer;
      sub.collector.setScorer(scorer);
      int doc=scorer.docID();
      while (doc < end) {
        sub.collector.collect(doc);
        doc=scorer.nextDoc();
      }
      more|=(doc != NO_MORE_DOCS);
    }
  }
 while (bucketTable.first != null || more);
  return doc=NO_MORE_DOCS;
}
