{
  assertTrue(reader.numDocs() == 1);
  assertTrue(reader.maxDoc() >= 1);
  StoredDocument result=reader.document(0);
  assertTrue(result != null);
  assertTrue(DocHelper.numFields(result) == DocHelper.numFields(testDoc) - DocHelper.unstored.size());
  List<StorableField> fields=result.getFields();
  for (  final StorableField field : fields) {
    assertTrue(field != null);
    assertTrue(DocHelper.nameValues.containsKey(field.name()));
  }
}
