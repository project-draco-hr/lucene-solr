{
  final TeeSinkTokenFilter source=new TeeSinkTokenFilter(new WhitespaceTokenizer(new StringReader(buffer1.toString())));
  final TokenStream sink1=source.newSinkTokenStream();
  final TokenStream sink2=source.newSinkTokenStream(theFilter);
  source.addAttribute(CheckClearAttributesAttribute.class);
  sink1.addAttribute(CheckClearAttributesAttribute.class);
  sink2.addAttribute(CheckClearAttributesAttribute.class);
  assertTokenStreamContents(source,tokens1);
  assertTokenStreamContents(sink1,tokens1);
  assertTokenStreamContents(sink2,new String[]{"The","the"});
}
