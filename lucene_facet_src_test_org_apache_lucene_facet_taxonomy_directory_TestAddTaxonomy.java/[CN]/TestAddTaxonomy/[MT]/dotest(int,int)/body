{
  Directory dirs[]=new Directory[2];
  Random random=random();
  for (int i=0; i < dirs.length; i++) {
    dirs[i]=newDirectory();
    DirectoryTaxonomyWriter tw=new DirectoryTaxonomyWriter(dirs[i]);
    for (int j=0; j < ncats; j++) {
      String cat=Integer.toString(random.nextInt(range));
      tw.addCategory(new CategoryPath("a",cat));
    }
    tw.close();
  }
  DirectoryTaxonomyWriter tw=new DirectoryTaxonomyWriter(dirs[0]);
  OrdinalMap map=randomOrdinalMap();
  tw.addTaxonomy(dirs[1],map);
  tw.close();
  validate(dirs[0],dirs[1],map);
  IOUtils.close(dirs);
}
