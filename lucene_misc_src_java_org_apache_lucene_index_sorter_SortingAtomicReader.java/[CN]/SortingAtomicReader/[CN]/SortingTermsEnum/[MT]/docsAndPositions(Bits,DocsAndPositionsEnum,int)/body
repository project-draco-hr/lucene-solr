{
  if (reuse != null && reuse instanceof SortingDocsAndPositionsEnum) {
    reuse=((SortingDocsAndPositionsEnum)reuse).getWrapped();
  }
  final DocsAndPositionsEnum positions=in.docsAndPositions(newToOld(liveDocs),reuse,flags);
  if (positions == null) {
    return null;
  }
 else {
    boolean storeOffsets=indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS) >= 0;
    return new SortingDocsAndPositionsEnum(positions,docMap,storeOffsets);
  }
}
