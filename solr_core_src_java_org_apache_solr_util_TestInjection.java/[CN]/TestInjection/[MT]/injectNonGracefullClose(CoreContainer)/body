{
  if (cc.isShutDown() && nonGracefullClose != null) {
    Random rand=random();
    if (null == rand)     return true;
    Pair<Boolean,Integer> pair=parseValue(nonGracefullClose);
    boolean enabled=pair.first();
    int chanceIn100=pair.second();
    if (enabled && rand.nextInt(100) >= (100 - chanceIn100)) {
      if (rand.nextBoolean()) {
        throw new TestShutdownFailError("Test exception for non graceful close");
      }
 else {
        final Thread cthread=Thread.currentThread();
        TimerTask task=new TimerTask(){
          @Override public void run(){
            try {
              Random taskRand=random();
              Thread.sleep(taskRand.nextInt(1000));
            }
 catch (            InterruptedException e) {
            }
            cthread.interrupt();
            timers.remove(this);
            cancel();
          }
        }
;
        Timer timer=new Timer();
        timers.add(timer);
        timer.schedule(task,rand.nextInt(500));
      }
    }
  }
  return true;
}
