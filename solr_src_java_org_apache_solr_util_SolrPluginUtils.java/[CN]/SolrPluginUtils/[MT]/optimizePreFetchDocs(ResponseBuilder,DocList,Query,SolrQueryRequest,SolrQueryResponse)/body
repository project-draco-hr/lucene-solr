{
  SolrIndexSearcher searcher=req.getSearcher();
  if (!searcher.enableLazyFieldLoading) {
    return;
  }
  ReturnFields returnFields=res.getReturnFields();
  if (returnFields.getLuceneFieldNames() != null) {
    Set<String> fieldFilter=returnFields.getLuceneFieldNames();
    if (rb.doHighlights) {
      fieldFilter=new HashSet<String>(fieldFilter);
      SolrHighlighter highlighter=HighlightComponent.getHighlighter(req.getCore());
      for (      String field : highlighter.getHighlightFields(query,req,null))       fieldFilter.add(field);
      SchemaField keyField=req.getSearcher().getSchema().getUniqueKeyField();
      if (null != keyField)       fieldFilter.add(keyField.getName());
    }
    DocIterator iter=docs.iterator();
    for (int i=0; i < docs.size(); i++) {
      searcher.doc(iter.nextDoc(),fieldFilter);
    }
  }
}
