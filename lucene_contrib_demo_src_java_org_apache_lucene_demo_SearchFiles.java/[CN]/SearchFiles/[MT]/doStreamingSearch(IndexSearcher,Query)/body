{
  Collector streamingHitCollector=new Collector(){
    private Scorer scorer;
    private int docBase;
    @Override public void collect(    int doc) throws IOException {
      System.out.println("doc=" + doc + docBase+ " score="+ scorer.score());
    }
    @Override public boolean acceptsDocsOutOfOrder(){
      return true;
    }
    @Override public void setNextReader(    IndexReader reader,    int docBase) throws IOException {
      this.docBase=docBase;
    }
    @Override public void setScorer(    Scorer scorer) throws IOException {
      this.scorer=scorer;
    }
  }
;
  searcher.search(query,streamingHitCollector);
}
