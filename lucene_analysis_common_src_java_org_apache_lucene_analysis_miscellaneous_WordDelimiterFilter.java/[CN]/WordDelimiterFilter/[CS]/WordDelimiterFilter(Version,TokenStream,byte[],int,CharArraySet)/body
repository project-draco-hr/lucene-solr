{
  super(in);
  if (!matchVersion.onOrAfter(Version.LUCENE_4_8)) {
    throw new IllegalArgumentException("This class only works with Lucene 4.8+. To emulate the old (broken) behavior of WordDelimiterFilter, use Lucene47WordDelimiterFilter");
  }
  this.flags=configurationFlags;
  this.protWords=protWords;
  this.iterator=new WordDelimiterIterator(charTypeTable,has(SPLIT_ON_CASE_CHANGE),has(SPLIT_ON_NUMERICS),has(STEM_ENGLISH_POSSESSIVE));
}
