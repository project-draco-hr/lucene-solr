{
  long timeoutTime=System.currentTimeMillis() + timeout;
  while (System.currentTimeMillis() < timeoutTime) {
    if (triggered) {
      RefCounted<SolrIndexSearcher> registeredSearcherH=newSearcher.getCore().getSearcher();
      SolrIndexSearcher registeredSearcher=registeredSearcherH.get();
      registeredSearcherH.decref();
      if (registeredSearcher == newSearcher)       return true;
    }
    try {
      Thread.sleep(250);
    }
 catch (    InterruptedException e) {
    }
  }
  return false;
}
