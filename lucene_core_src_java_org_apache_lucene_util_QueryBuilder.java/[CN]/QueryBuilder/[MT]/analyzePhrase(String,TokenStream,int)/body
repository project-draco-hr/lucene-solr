{
  PhraseQuery.Builder builder=new PhraseQuery.Builder();
  builder.setSlop(slop);
  TermToBytesRefAttribute termAtt=stream.getAttribute(TermToBytesRefAttribute.class);
  BytesRef bytes=termAtt.getBytesRef();
  PositionIncrementAttribute posIncrAtt=stream.getAttribute(PositionIncrementAttribute.class);
  int position=-1;
  stream.reset();
  while (stream.incrementToken()) {
    termAtt.fillBytesRef();
    if (enablePositionIncrements) {
      position+=posIncrAtt.getPositionIncrement();
    }
 else {
      position+=1;
    }
    builder.add(new Term(field,bytes),position);
  }
  return builder.build();
}
