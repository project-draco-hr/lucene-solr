{
  int docCount=0;
  for (  MergeState.IndexReaderAndLiveDocs reader : mergeState.readers) {
    final int maxDoc=reader.reader.maxDoc();
    final Bits liveDocs=reader.liveDocs;
    for (int i=0; i < maxDoc; i++) {
      if (liveDocs != null && !liveDocs.get(i)) {
        continue;
      }
      Document doc=reader.reader.document(i);
      addDocument(doc,mergeState.fieldInfos);
      docCount++;
      mergeState.checkAbort.work(300);
    }
  }
  finish(docCount);
  return docCount;
}
