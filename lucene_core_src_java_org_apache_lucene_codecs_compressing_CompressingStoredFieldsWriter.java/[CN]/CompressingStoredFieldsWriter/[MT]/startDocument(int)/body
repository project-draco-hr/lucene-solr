{
  endWithPreviousDocument();
  if (triggerFlush()) {
    flush();
  }
  if (numBufferedDocs == this.numStoredFields.length) {
    final int newLength=ArrayUtil.oversize(numBufferedDocs + 1,4);
    this.numStoredFields=Arrays.copyOf(this.numStoredFields,newLength);
    endOffsets=Arrays.copyOf(endOffsets,newLength);
  }
  this.numStoredFields[numBufferedDocs]=numStoredFields;
  ++numBufferedDocs;
}
