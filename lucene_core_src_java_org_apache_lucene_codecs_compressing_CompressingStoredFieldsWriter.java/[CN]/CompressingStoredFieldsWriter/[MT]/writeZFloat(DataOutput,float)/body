{
  int intVal=(int)f;
  final int floatBits=Float.floatToIntBits(f);
  if (f == intVal && intVal >= -1 && intVal <= 0x7D && floatBits != NEGATIVE_ZERO_FLOAT) {
    out.writeByte((byte)(0x80 | (1 + intVal)));
  }
 else   if ((floatBits >>> 31) == 0) {
    out.writeInt(floatBits);
  }
 else {
    out.writeByte((byte)0xFF);
    out.writeInt(floatBits);
  }
}
