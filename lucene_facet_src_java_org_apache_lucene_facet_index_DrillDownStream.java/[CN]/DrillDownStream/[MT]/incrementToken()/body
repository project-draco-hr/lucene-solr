{
  if (current.length == 0) {
    if (!categories.hasNext()) {
      return false;
    }
    current=categories.next();
    termAttribute.resizeBuffer(current.fullPathLength());
    isParent=false;
  }
  int nChars=indexingParams.drillDownTermText(current,termAttribute.buffer());
  termAttribute.setLength(nChars);
  addAdditionalAttributes(current,isParent);
  do {
    current=current.subpath(current.length - 1);
  }
 while (!pathPolicy.shouldAdd(current) && current.length > 0);
  isParent=true;
  return true;
}
