{
  if (current.length() == 0) {
    if (!categories.hasNext()) {
      return false;
    }
    current=categories.next();
    termAttribute.resizeBuffer(current.charsNeededForFullPath());
    isParent=false;
  }
  int nChars=indexingParams.drillDownTermText(current,termAttribute.buffer());
  termAttribute.setLength(nChars);
  addAdditionalAttributes(current,isParent);
  do {
    current.trim(1);
  }
 while (!pathPolicy.shouldAdd(current) && current.length() > 0);
  isParent=true;
  return true;
}
