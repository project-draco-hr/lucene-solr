{
  destTaxWriter.addTaxonomy(srcTaxDir,map);
  PayloadProcessorProvider payloadProcessor=new FacetsPayloadProcessorProvider(srcIndexDir,map.getMap(),new DefaultFacetIndexingParams());
  destIndexWriter.setPayloadProcessorProvider(payloadProcessor);
  IndexReader reader=DirectoryReader.open(srcIndexDir);
  try {
    destIndexWriter.addIndexes(reader);
    destTaxWriter.commit();
    destIndexWriter.commit();
  }
  finally {
    reader.close();
  }
}
