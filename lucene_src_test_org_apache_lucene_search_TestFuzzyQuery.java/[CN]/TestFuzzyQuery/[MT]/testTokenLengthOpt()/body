{
  RAMDirectory directory=new RAMDirectory();
  RandomIndexWriter writer=new RandomIndexWriter(newRandom(),directory);
  addDoc("12345678911",writer);
  addDoc("segment",writer);
  IndexReader reader=writer.getReader();
  IndexSearcher searcher=new IndexSearcher(reader);
  writer.close();
  Query query;
  query=new FuzzyQuery(new Term("field","1234569"),0.9f);
  ScoreDoc[] hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
  query=new FuzzyQuery(new Term("field","1234567891"),0.9f);
  hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
  query=new FuzzyQuery(new Term("field","12345678911"),0.9f);
  hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(1,hits.length);
  query=new FuzzyQuery(new Term("field","sdfsdfsdfsdf"),0.9f);
  hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
  searcher.close();
  reader.close();
  directory.close();
}
