{
  Query q=new MatchAllDocsQuery();
  TopScoreDocCollector topDocsCollector=TopScoreDocCollector.create(10,true);
  List<FacetRequest> facetRequests=new ArrayList<FacetRequest>();
  facetRequests.add(new CountFacetRequest(new FacetLabel("Band"),10));
  CountFacetRequest bandDepth=new CountFacetRequest(new FacetLabel("Band"),10);
  bandDepth.setDepth(2);
  bandDepth.setResultMode(ResultMode.GLOBAL_FLAT);
  facetRequests.add(bandDepth);
  facetRequests.add(new CountFacetRequest(new FacetLabel("Author"),10));
  facetRequests.add(new CountFacetRequest(new FacetLabel("Band","Rock & Pop"),10));
  FacetSearchParams facetSearchParams=new FacetSearchParams(iParams,facetRequests);
  FacetsCollector facetsCollector=FacetsCollector.create(facetSearchParams,ir,tr);
  searcher.search(q,MultiCollector.wrap(topDocsCollector,facetsCollector));
  return facetsCollector;
}
