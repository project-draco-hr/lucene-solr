{
  int skippedPositions=0;
  while (input.incrementToken()) {
    if (termAtt.length() != 1 || !isStopChar(termAtt.charAt(0),numStopChars)) {
      int posInc=posIncrAtt.getPositionIncrement() + skippedPositions;
      if (first) {
        if (posInc == 0) {
          posInc=1;
        }
        first=false;
      }
      posIncrAtt.setPositionIncrement(posInc);
      return true;
    }
    if (preserveHoles) {
      skippedPositions+=posIncrAtt.getPositionIncrement();
    }
  }
  return false;
}
