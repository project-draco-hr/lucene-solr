{
  Analyzer a=new MockAnalyzer(random());
  Directory tempDir=getDirectory();
  AnalyzingSuggester suggester=new AnalyzingSuggester(tempDir,"suggest",a);
  String bigString=TestUtil.randomSimpleString(random(),30000,30000);
  try {
    suggester.build(new InputArrayIterator(new Input[]{new Input(bigString,7)}));
    fail("did not hit expected exception");
  }
 catch (  StackOverflowError soe) {
  }
catch (  IllegalArgumentException iae) {
  }
  IOUtils.close(a,tempDir);
}
