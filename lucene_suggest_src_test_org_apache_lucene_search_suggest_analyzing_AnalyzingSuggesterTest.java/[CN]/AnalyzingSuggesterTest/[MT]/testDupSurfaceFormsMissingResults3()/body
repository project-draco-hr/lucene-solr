{
  Analyzer a=new MockAnalyzer(random());
  AnalyzingSuggester suggester=new AnalyzingSuggester(a,a,AnalyzingSuggester.PRESERVE_SEP,256,-1);
  suggester.build(new TermFreqPayloadArrayIterator(new TermFreqPayload[]{new TermFreqPayload("a a",7),new TermFreqPayload("a a",7),new TermFreqPayload("a c",6),new TermFreqPayload("a c",3),new TermFreqPayload("a b",5)}));
  assertEquals("[a a/7, a c/6, a b/5]",suggester.lookup("a",false,3).toString());
}
