{
  if (includeLower == false && lower != null) {
    if (lower == Long.MAX_VALUE) {
      return false;
    }
    lower++;
  }
  if (includeUpper == false && upper != null) {
    if (upper == Long.MIN_VALUE) {
      return false;
    }
    upper--;
  }
  return (lower == null || value >= lower) && (upper == null || value <= upper);
}
