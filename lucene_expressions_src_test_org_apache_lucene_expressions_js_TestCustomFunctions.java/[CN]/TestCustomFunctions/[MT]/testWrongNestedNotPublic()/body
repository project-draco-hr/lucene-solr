{
  Map<String,Method> functions=new HashMap<String,Method>();
  functions.put("foo",NestedNotPublic.class.getMethod("method"));
  try {
    JavascriptCompiler.compile("foo()",functions,getClass().getClassLoader());
  }
 catch (  IllegalArgumentException e) {
    assertTrue(e.getMessage().contains("is not public"));
  }
}
