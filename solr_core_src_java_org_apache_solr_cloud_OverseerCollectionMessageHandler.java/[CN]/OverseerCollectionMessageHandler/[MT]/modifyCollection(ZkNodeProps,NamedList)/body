{
  final String collectionName=message.getStr(ZkStateReader.COLLECTION_PROP);
  String configName=(String)message.getProperties().remove(COLL_CONF);
  if (configName != null) {
    validateConfigOrThrowSolrException(configName);
    boolean isLegacyCloud=Overseer.isLegacy(zkStateReader);
    createConfNode(configName,collectionName,isLegacyCloud);
    reloadCollection(new ZkNodeProps(NAME,collectionName),results);
  }
  overseer.getStateUpdateQueue(zkStateReader.getZkClient()).offer(Utils.toJSON(message));
}
