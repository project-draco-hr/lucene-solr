{
  this.searcher=searcher;
  this.docs=docs;
  this.request=request;
  statsCollectorArraySupplier=StatsCollectorSupplierFactory.create(searcher.getSchema(),request);
  statsCollectors=statsCollectorArraySupplier.get();
  int size=request.getExpressions().size();
  expressionNames=new String[size];
  expressionStrings=new String[size];
  int count=0;
  Collections.sort(request.getExpressions());
  for (  ExpressionRequest expRequest : request.getExpressions()) {
    expressionNames[count]=expRequest.getName();
    expressionStrings[count++]=expRequest.getExpressionString();
  }
  expressions=makeExpressions(statsCollectors);
  hiddenExpressions=request.getHiddenExpressions();
}
