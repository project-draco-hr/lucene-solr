def checkSummary(fullPath):
    printed = False
    f = open(fullPath, encoding='UTF-8')
    anyMissing = False
    sawPackage = False
    desc = []
    lastHREF = None
    for line in f.readlines():
        lineLower = line.strip().lower()
        if (desc is not None):
            if (lineLower.startswith('package ') or lineLower.startswith('<h1 title="package" ')):
                sawPackage = True
            elif sawPackage:
                if (lineLower.startswith('<table ') or lineLower.startswith('<b>see: ') or lineLower.startswith('<p>see:')):
                    desc = ' '.join(desc)
                    desc = reMarkup.sub(' ', desc)
                    desc = desc.strip()
                    if (desc == ''):
                        if (not printed):
                            print ()
                            print fullPath
                            printed = True
                        print '  no package description (missing package.html in src?)'
                        anyMissing = True
                    desc = None
                else:
                    desc.append(lineLower)
        if (lineLower in ('<td>&nbsp;</td>', '<td></td>', '<td class="collast">&nbsp;</td>')):
            if (not printed):
                print ()
                print fullPath
                printed = True
            print ('  missing: %s' % unescapeHTML(lastHREF))
            anyMissing = True
        elif ((lineLower.find('licensed to the apache software foundation') != (-1)) or (lineLower.find('copyright 2004 the apache software foundation') != (-1))):
            if (not printed):
                print ()
                print fullPath
                printed = True
            print ('  license-is-javadoc: %s' % unescapeHTML(lastHREF))
            anyMissing = True
        m = reHREF.search(line)
        if (m is not None):
            lastHREF = m.group(1)
    if ((desc is not None) and (fullPath.find('/overview-summary.html') == (-1))):
        raise RuntimeError(('BUG: failed to locate description in %s' % fullPath))
    f.close()
    return anyMissing
