{
  if (VERBOSE) {
    System.out.println("TEST: verify input=" + input + " expectedOutput="+ output);
  }
  tokensIn.reset(new StringReader(input));
  tokensOut.reset();
  final String[] expected=output.split(" ");
  int expectedUpto=0;
  while (tokensOut.incrementToken()) {
    if (VERBOSE) {
      System.out.println("  incr token=" + termAtt.toString() + " posIncr="+ posIncrAtt.getPositionIncrement());
    }
    assertTrue(expectedUpto < expected.length);
    final int startOffset=offsetAtt.startOffset();
    final int endOffset=offsetAtt.endOffset();
    final String[] expectedAtPos=expected[expectedUpto++].split("/");
    for (int atPos=0; atPos < expectedAtPos.length; atPos++) {
      if (atPos > 0) {
        assertTrue(tokensOut.incrementToken());
        if (VERBOSE) {
          System.out.println("  incr token=" + termAtt.toString() + " posIncr="+ posIncrAtt.getPositionIncrement());
        }
      }
      assertEquals(termAtt,expectedAtPos[atPos]);
      assertEquals(atPos == 0 ? 1 : 0,posIncrAtt.getPositionIncrement());
      assertEquals(startOffset,offsetAtt.startOffset());
      assertEquals(endOffset,offsetAtt.endOffset());
    }
  }
  tokensOut.end();
  tokensOut.close();
  if (VERBOSE) {
    System.out.println("  incr: END");
  }
  assertEquals(expectedUpto,expected.length);
}
