{
  buf.offset=buf.length=0;
  int upto=values.offset + values.length;
  for (int i=values.offset; i < upto; i++) {
    int value=values.ints[i];
    if (value <= 3) {
      indicator|=ENCODE_TABLE[value][ordinal];
    }
 else {
      encodeQueue.ints[encodeQueue.length++]=value - 4;
    }
    ++ordinal;
    if (ordinal == 4) {
      encodeChunk(buf);
    }
  }
  if (ordinal != 0) {
    encodeChunk(buf);
  }
}
