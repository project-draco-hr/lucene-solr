{
  TermRangeQueryNode rangeNode=(TermRangeQueryNode)queryNode;
  FieldQueryNode upper=rangeNode.getUpperBound();
  FieldQueryNode lower=rangeNode.getLowerBound();
  String field=StringUtils.toString(rangeNode.getField());
  TermRangeQuery rangeQuery=TermRangeQuery.newStringRange(field,lower.getTextAsString(),upper.getTextAsString(),rangeNode.isLowerInclusive(),rangeNode.isUpperInclusive());
  MultiTermQuery.RewriteMethod method=(MultiTermQuery.RewriteMethod)queryNode.getTag(MultiTermRewriteMethodProcessor.TAG_ID);
  if (method != null) {
    rangeQuery.setRewriteMethod(method);
  }
  return rangeQuery;
}
