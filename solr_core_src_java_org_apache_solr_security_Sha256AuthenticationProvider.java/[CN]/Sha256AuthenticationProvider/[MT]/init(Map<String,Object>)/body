{
  if (pluginConfig.get("realm") != null)   this.realm=(String)pluginConfig.get("realm");
 else   this.realm="solr";
  promptHeader=Collections.unmodifiableMap(Collections.singletonMap("WWW-Authenticate","Basic realm=\"" + realm + "\""));
  credentials=new LinkedHashMap<>();
  Map<String,String> users=(Map<String,String>)pluginConfig.get("credentials");
  if (users == null) {
    log.debug("No users configured yet");
    return;
  }
  for (  Map.Entry<String,String> e : users.entrySet()) {
    String v=e.getValue();
    if (v == null) {
      log.warn("user has no password " + e.getKey());
      continue;
    }
    credentials.put(e.getKey(),v);
  }
}
