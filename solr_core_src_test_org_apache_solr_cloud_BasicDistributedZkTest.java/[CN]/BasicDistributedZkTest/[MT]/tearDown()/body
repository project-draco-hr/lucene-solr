{
  super.tearDown();
  if (commondCloudSolrServer != null) {
    commondCloudSolrServer.shutdown();
  }
  if (otherCollectionClients != null) {
    for (    List<SolrServer> clientList : otherCollectionClients.values()) {
      for (      SolrServer client : clientList) {
        client.shutdown();
      }
    }
  }
  otherCollectionClients=null;
  List<Runnable> tasks=executor.shutdownNow();
  assertTrue(tasks.isEmpty());
  System.clearProperty("numShards");
  System.clearProperty("zkHost");
  System.clearProperty("solr.xml.persist");
  DirectUpdateHandler2.commitOnClose=true;
}
