{
  super.distribTearDown();
  if (commondCloudSolrClient != null) {
    commondCloudSolrClient.close();
  }
  if (otherCollectionClients != null) {
    for (    List<SolrClient> clientList : otherCollectionClients.values()) {
      IOUtils.close(clientList);
    }
  }
  otherCollectionClients=null;
  List<Runnable> tasks=executor.shutdownNow();
  assertTrue(tasks.isEmpty());
  System.clearProperty("numShards");
  System.clearProperty("solr.xml.persist");
  DirectUpdateHandler2.commitOnClose=true;
}
