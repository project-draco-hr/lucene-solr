{
  SolrServer client=clients.get(0);
  String url3=getBaseUrl(client);
  final HttpSolrServer server=new HttpSolrServer(url3);
  ThreadPoolExecutor executor=new ThreadPoolExecutor(0,Integer.MAX_VALUE,5,TimeUnit.SECONDS,new SynchronousQueue<Runnable>(),new DefaultSolrThreadFactory("testExecutor"));
  int cnt=3;
  createCores(server,executor,"multiunload2",1,cnt);
  executor.shutdown();
  executor.awaitTermination(120,TimeUnit.SECONDS);
  ChaosMonkey.stop(cloudJettys.get(0).jetty);
  printLayout();
  System.out.println("start again");
  Thread.sleep(5000);
  ChaosMonkey.start(cloudJettys.get(0).jetty);
  cloudClient.getZkStateReader().updateClusterState(true);
  try {
    cloudClient.getZkStateReader().getLeaderProps("multiunload2","shard1",30000);
  }
 catch (  SolrException e) {
    printLayout();
    throw e;
  }
  printLayout();
}
