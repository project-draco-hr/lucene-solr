{
  for (int i=0; i < cnt; i++) {
    final int freezeI=i;
    executor.execute(new Runnable(){
      @Override public void run(){
        Create createCmd=new Create();
        createCmd.setCoreName(collection + freezeI);
        createCmd.setCollection(collection);
        String core3dataDir=dataDir.getAbsolutePath() + File.separator + System.currentTimeMillis()+ collection+ "_3n"+ freezeI;
        createCmd.setDataDir(core3dataDir);
        createCmd.setNumShards(numShards);
        try {
          server.request(createCmd);
        }
 catch (        SolrServerException e) {
          throw new RuntimeException(e);
        }
catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
    }
);
  }
}
