{
  si=info;
  if (indexDivisor < 0) {
    indexDivisor=-indexDivisor;
  }
  boolean success=false;
  try {
    TermInfosReader r=new TermInfosReader(dir,info.name,fieldInfos,readBufferSize,indexDivisor);
    if (indexDivisor == -1) {
      tisNoIndex=r;
    }
 else {
      tisNoIndex=null;
      tis=r;
    }
    this.readBufferSize=readBufferSize;
    this.fieldInfos=fieldInfos;
    freqStream=dir.openInput(info.name + ".frq",readBufferSize);
    boolean anyProx=false;
    for (    FieldInfo fi : fieldInfos) {
      if (fi.isIndexed) {
        fields.put(fi.name,fi);
        preTerms.put(fi.name,new PreTerms(fi));
        if (!fi.omitTermFreqAndPositions) {
          anyProx=true;
        }
      }
    }
    if (anyProx) {
      proxStream=dir.openInput(info.name + ".prx",readBufferSize);
    }
 else {
      proxStream=null;
    }
    success=true;
  }
  finally {
    if (!success) {
      close();
    }
  }
  this.dir=dir;
}
