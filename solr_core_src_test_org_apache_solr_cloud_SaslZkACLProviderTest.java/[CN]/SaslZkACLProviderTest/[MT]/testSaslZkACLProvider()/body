{
  SolrZkClient zkClient=new SolrZkClientWithACLs(zkServer.getZkAddress(),AbstractZkTestCase.TIMEOUT);
  try {
    VMParamsZkACLAndCredentialsProvidersTest.doTest(zkClient,true,true,true,true,true);
  }
  finally {
    zkClient.close();
  }
  setupZNodes();
  System.setProperty("zookeeper.sasl.client","false");
  zkClient=new SolrZkClientNoACLs(zkServer.getZkAddress(),AbstractZkTestCase.TIMEOUT);
  try {
    VMParamsZkACLAndCredentialsProvidersTest.doTest(zkClient,true,true,false,false,false);
  }
  finally {
    zkClient.close();
    System.clearProperty("zookeeper.sasl.client");
  }
}
