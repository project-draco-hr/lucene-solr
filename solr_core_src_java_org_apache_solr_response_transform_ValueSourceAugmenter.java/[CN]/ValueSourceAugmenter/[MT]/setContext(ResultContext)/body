{
  super.setContext(context);
  try {
    IndexReader reader=qparser.getReq().getSearcher().getIndexReader();
    readerContexts=reader.leaves();
    docValuesArr=new FunctionValues[readerContexts.size()];
    searcher=qparser.getReq().getSearcher();
    fcontext=ValueSource.newContext(searcher);
    this.valueSource.createWeight(fcontext,searcher);
  }
 catch (  IOException e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,e);
  }
}
