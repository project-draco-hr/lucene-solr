{
  super.setContext(context);
  try {
    searcher=context.getSearcher();
    readerContexts=searcher.getIndexReader().leaves();
    docValuesArr=new FunctionValues[readerContexts.size()];
    fcontext=ValueSource.newContext(searcher);
    this.valueSource.createWeight(fcontext,searcher);
  }
 catch (  IOException e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,e);
  }
}
