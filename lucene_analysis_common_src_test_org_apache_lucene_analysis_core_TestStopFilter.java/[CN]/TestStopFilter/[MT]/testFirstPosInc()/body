{
  Analyzer analyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new MockTokenizer(reader,MockTokenizer.WHITESPACE,false);
      TokenFilter filter=new MockSynonymFilter(tokenizer);
      StopFilter stopfilter=new StopFilter(Version.LUCENE_43,filter,StopAnalyzer.ENGLISH_STOP_WORDS_SET);
      stopfilter.setEnablePositionIncrements(false);
      return new TokenStreamComponents(tokenizer,stopfilter);
    }
  }
;
  assertAnalyzesTo(analyzer,"the quick brown fox",new String[]{"hte","quick","brown","fox"},new int[]{1,1,1,1});
}
