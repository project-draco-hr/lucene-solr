{
  DateResolutionAttribute fieldDateResAttr=fieldConfig.addAttribute(DateResolutionAttribute.class);
  DateTools.Resolution dateRes=null;
  if (this.config.hasAttribute(FieldDateResolutionMapAttribute.class)) {
    FieldDateResolutionMapAttribute dateResMapAttr=this.config.addAttribute(FieldDateResolutionMapAttribute.class);
    dateRes=dateResMapAttr.getFieldDateResolutionMap().get(fieldConfig.getField());
  }
  if (dateRes == null) {
    if (this.config.hasAttribute(DateResolutionAttribute.class)) {
      DateResolutionAttribute dateResAttr=this.config.addAttribute(DateResolutionAttribute.class);
      dateRes=dateResAttr.getDateResolution();
    }
  }
  fieldDateResAttr.setDateResolution(dateRes);
}
