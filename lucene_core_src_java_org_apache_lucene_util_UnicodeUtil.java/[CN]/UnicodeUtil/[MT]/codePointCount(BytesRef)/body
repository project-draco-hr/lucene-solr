{
  int upto=utf8.offset;
  final int limit=utf8.offset + utf8.length;
  final byte[] bytes=utf8.bytes;
  int codePointCount=0;
  while (upto < limit) {
    codePointCount++;
    upto+=utf8CodeLength[bytes[upto] & 0xFF];
  }
  return codePointCount;
}
