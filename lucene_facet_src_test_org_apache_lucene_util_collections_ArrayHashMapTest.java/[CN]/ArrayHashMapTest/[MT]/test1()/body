{
  ArrayHashMap<Integer,Integer> map=new ArrayHashMap<Integer,Integer>();
  for (int i=0; i < 100; ++i) {
    map.put(i,Integer.valueOf(100 + i));
  }
  HashSet<Integer> set=new HashSet<Integer>();
  for (Iterator<Integer> iterator=map.iterator(); iterator.hasNext(); ) {
    set.add(iterator.next());
  }
  assertEquals(set.size(),map.size());
  for (int i=0; i < 100; ++i) {
    assertTrue(set.contains(Integer.valueOf(100 + i)));
  }
  set.clear();
  for (Iterator<Integer> iterator=map.iterator(); iterator.hasNext(); ) {
    Integer integer=iterator.next();
    if (integer % 2 == 1) {
      iterator.remove();
      continue;
    }
    set.add(integer);
  }
  assertEquals(set.size(),map.size());
  for (int i=0; i < 100; i+=2) {
    assertTrue(set.contains(Integer.valueOf(100 + i)));
  }
}
