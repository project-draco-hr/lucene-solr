{
  int numDisjunctions=disjuncts.size();
  if (numDisjunctions == 1) {
    return disjuncts.get(0);
  }
  DisjunctionMaxQuery rewritten=new DisjunctionMaxQuery(tieBreakerMultiplier);
  boolean actuallyRewritten=false;
  for (  Query sub : disjuncts) {
    Query rewrittenSub=sub.rewrite(reader);
    actuallyRewritten|=rewrittenSub != sub;
    rewritten.add(rewrittenSub);
  }
  if (actuallyRewritten) {
    return rewritten;
  }
  return super.rewrite(reader);
}
