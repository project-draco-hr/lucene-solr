{
  if (shape instanceof Point) {
    Point point=(Point)shape;
    IndexableField[] f=new IndexableField[(index ? 2 : 0) + (store ? 1 : 0)];
    if (index) {
      f[0]=createDouble(fieldNameX,point.getX(),index,store);
      f[1]=createDouble(fieldNameY,point.getY(),index,store);
    }
    if (store) {
      FieldType customType=new FieldType();
      customType.setStored(true);
      f[f.length - 1]=new Field(getFieldName(),ctx.toString(shape),customType);
    }
    return f;
  }
  if (!ignoreIncompatibleGeometry) {
    throw new IllegalArgumentException("TwoDoublesStrategy can not index: " + shape);
  }
  return new IndexableField[0];
}
