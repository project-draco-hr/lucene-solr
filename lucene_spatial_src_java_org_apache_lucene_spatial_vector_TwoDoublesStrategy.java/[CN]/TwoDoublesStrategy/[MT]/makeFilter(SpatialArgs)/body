{
  if (args.getShape() instanceof Circle) {
    if (SpatialOperation.is(args.getOperation(),SpatialOperation.Intersects,SpatialOperation.IsWithin)) {
      Circle circle=(Circle)args.getShape();
      Query bbox=makeWithin(circle.getBoundingBox());
      ValueSource valueSource=makeValueSource(args);
      return new ValueSourceFilter(new QueryWrapperFilter(bbox),valueSource,0,circle.getDistance());
    }
  }
  return new QueryWrapperFilter(makeQuery(args));
}
