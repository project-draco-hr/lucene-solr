{
  MoreLikeThis mlt=new MoreLikeThis(reader);
  mlt.setFieldNames(moreLikeFields);
  mlt.setAnalyzer(analyzer);
  mlt.setMinTermFreq(minTermFrequency);
  mlt.setMaxQueryTerms(maxQueryTerms);
  BooleanQuery bq=(BooleanQuery)mlt.like(new ByteArrayInputStream(likeText.getBytes()));
  BooleanClause[] clauses=bq.getClauses();
  bq.setMinimumNumberShouldMatch((int)(clauses.length * percentTermsToMatch));
  return bq;
}
