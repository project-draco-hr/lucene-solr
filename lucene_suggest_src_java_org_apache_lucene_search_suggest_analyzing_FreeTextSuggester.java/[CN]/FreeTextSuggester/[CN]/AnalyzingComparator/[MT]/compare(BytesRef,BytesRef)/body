{
  readerA.reset(a.bytes,a.offset,a.length);
  readerB.reset(b.bytes,b.offset,b.length);
  scratchA.length=readerA.readShort();
  scratchA.bytes=a.bytes;
  scratchA.offset=readerA.getPosition();
  scratchB.bytes=b.bytes;
  scratchB.length=readerB.readShort();
  scratchB.offset=readerB.getPosition();
  int cmp=scratchA.compareTo(scratchB);
  if (cmp != 0) {
    return cmp;
  }
  readerA.skipBytes(scratchA.length);
  readerB.skipBytes(scratchB.length);
  cmp=a.length - b.length;
  if (cmp != 0) {
    return cmp;
  }
  scratchA.offset=readerA.getPosition();
  scratchA.length=a.length - scratchA.offset;
  scratchB.offset=readerB.getPosition();
  scratchB.length=b.length - scratchB.offset;
  return scratchA.compareTo(scratchB);
}
