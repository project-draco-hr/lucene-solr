{
  input=i;
  fieldInfos=fis;
  isIndex=isi;
  int firstInt=input.readInt();
  if (firstInt >= 0) {
    format=0;
    size=firstInt;
    indexInterval=128;
    skipInterval=Integer.MAX_VALUE;
  }
 else {
    format=firstInt;
    if (format < TermInfosWriter.FORMAT)     throw new IOException("Unknown format version:" + format);
    size=input.readLong();
    if (!isIndex) {
      indexInterval=input.readInt();
      skipInterval=input.readInt();
    }
  }
}
