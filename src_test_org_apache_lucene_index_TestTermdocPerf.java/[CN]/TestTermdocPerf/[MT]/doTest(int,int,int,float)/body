{
  Directory dir=new RAMDirectory();
  long start=System.currentTimeMillis();
  addDocs(dir,ndocs,"foo","val",maxTF,percentDocs);
  long end=System.currentTimeMillis();
  if (VERBOSE)   System.out.println("milliseconds for creation of " + ndocs + " docs = "+ (end - start));
  IndexReader reader=IndexReader.open(dir,true);
  TermEnum tenum=reader.terms(new Term("foo","val"));
  TermDocs tdocs=reader.termDocs();
  start=System.currentTimeMillis();
  int ret=0;
  for (int i=0; i < iter; i++) {
    tdocs.seek(tenum);
    while (tdocs.next()) {
      ret+=tdocs.doc();
    }
  }
  end=System.currentTimeMillis();
  if (VERBOSE)   System.out.println("milliseconds for " + iter + " TermDocs iteration: "+ (end - start));
  return ret;
}
