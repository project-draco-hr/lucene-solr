{
  File path=_TestUtil.getTempDir("testsubdir");
  try {
    path.mkdirs();
    new File(path,"subdir").mkdirs();
    Directory fsDir=new SimpleFSDirectory(path,null);
    assertEquals(0,new RAMDirectory(fsDir,newIOContext(random())).listAll().length);
  }
  finally {
    _TestUtil.rmDir(path);
  }
}
