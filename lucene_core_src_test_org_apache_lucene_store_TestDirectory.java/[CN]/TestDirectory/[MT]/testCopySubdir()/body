{
  Path path=createTempDir("testsubdir");
  try {
    Files.createDirectory(path.resolve("subdir"));
    FSDirectory fsDir=new SimpleFSDirectory(path);
    assertEquals(0,new RAMDirectory(fsDir,newIOContext(random())).listAll().length);
  }
  finally {
    IOUtils.rm(path);
  }
}
