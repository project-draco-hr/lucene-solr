{
  File tempDir=TestUtil.createTempDir(LuceneTestCase.getTestClass().getSimpleName());
  Directory[] dirs=new Directory[]{new RAMDirectory(),new SimpleFSDirectory(tempDir),new NIOFSDirectory(tempDir)};
  for (  Directory dir : dirs) {
    dir.close();
    try {
      dir.createOutput("test",newIOContext(random()));
      fail("did not hit expected exception");
    }
 catch (    AlreadyClosedException ace) {
    }
  }
}
