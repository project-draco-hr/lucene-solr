{
  final String baseUrl=getBaseUrl((HttpSolrClient)clients.get(0));
  String collectionName="onlyinzk";
  cloudClient.getZkStateReader().getZkClient().makePath(ZkStateReader.COLLECTIONS_ZKNODE + "/" + collectionName,true);
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.set("action",CollectionAction.DELETE.toString());
  params.set("name",collectionName);
  QueryRequest request=new QueryRequest(params);
  request.setPath("/admin/collections");
  makeRequest(baseUrl,request);
  assertCollectionNotExists(collectionName,45);
  params=new ModifiableSolrParams();
  params.set("action",CollectionAction.CREATE.toString());
  params.set("name",collectionName);
  params.set("numShards",2);
  request=new QueryRequest(params);
  request.setPath("/admin/collections");
  if (secondConfigSet) {
    params.set("collection.configName","conf1");
  }
  makeRequest(baseUrl,request);
  waitForRecoveriesToFinish(collectionName,false);
  params=new ModifiableSolrParams();
  params.set("action",CollectionAction.DELETE.toString());
  params.set("name",collectionName);
  request=new QueryRequest(params);
  request.setPath("/admin/collections");
  makeRequest(baseUrl,request);
}
