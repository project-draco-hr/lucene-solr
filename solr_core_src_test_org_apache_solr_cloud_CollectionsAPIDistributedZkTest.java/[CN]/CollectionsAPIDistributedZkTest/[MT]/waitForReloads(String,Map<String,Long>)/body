{
  TimeOut timeout=new TimeOut(45,TimeUnit.SECONDS);
  boolean allTimesAreCorrect=false;
  while (!timeout.hasTimedOut()) {
    Map<String,Long> urlToTimeAfter=new HashMap<>();
    collectStartTimes(collectionName,urlToTimeAfter);
    boolean retry=false;
    Set<Entry<String,Long>> entries=urlToTimeBefore.entrySet();
    for (    Entry<String,Long> entry : entries) {
      Long beforeTime=entry.getValue();
      Long afterTime=urlToTimeAfter.get(entry.getKey());
      assertNotNull(afterTime);
      if (afterTime <= beforeTime) {
        retry=true;
        break;
      }
    }
    if (!retry) {
      allTimesAreCorrect=true;
      break;
    }
  }
  return allTimesAreCorrect;
}
