{
  CollectionAdminRequest.AddReplica addReplica=new CollectionAdminRequest.AddReplica();
  addReplica.setCollectionName(collectionName);
  addReplica.setShardName(shard);
  if (node != null) {
    addReplica.setNode(node);
  }
  if (props != null) {
    addReplica.setProperties(props);
  }
  client.request(addReplica);
  long timeout=System.currentTimeMillis() + 3000;
  Replica newReplica=null;
  for (; System.currentTimeMillis() < timeout; ) {
    Slice slice=client.getZkStateReader().getClusterState().getSlice(collectionName,shard);
    newReplica=slice.getReplica(newReplicaName);
  }
  assertNotNull(newReplica);
  return newReplica;
}
