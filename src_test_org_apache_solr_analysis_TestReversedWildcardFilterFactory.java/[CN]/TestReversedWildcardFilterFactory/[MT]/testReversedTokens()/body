{
  String text="simple text";
  String expected1="simple \u0001elpmis text \u0001txet";
  String expected2="\u0001elpmis \u0001txet";
  args.put("withOriginal","true");
  factory.init(args);
  TokenStream input=factory.create(new WhitespaceTokenizer(new StringReader(text)));
  List<Token> realTokens=getTokens(input);
  List<Token> expectedTokens=tokens(expected1);
  for (int i=1; i < expectedTokens.size(); i+=2) {
    expectedTokens.get(i).setPositionIncrement(0);
  }
  assertTokEqual(realTokens,expectedTokens);
  args.put("withOriginal","false");
  factory.init(args);
  input=factory.create(new WhitespaceTokenizer(new StringReader(text)));
  realTokens=getTokens(input);
  expectedTokens=tokens(expected2);
  assertTokEqual(realTokens,expectedTokens);
}
