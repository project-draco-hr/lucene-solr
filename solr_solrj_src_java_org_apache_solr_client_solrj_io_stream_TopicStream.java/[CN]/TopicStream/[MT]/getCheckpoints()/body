{
  this.checkpoints=new HashMap();
  ZkStateReader zkStateReader=cloudSolrClient.getZkStateReader();
  ClusterState clusterState=zkStateReader.getClusterState();
  Collection<Slice> slices=clusterState.getActiveSlices(collection);
  for (  Slice slice : slices) {
    String sliceName=slice.getName();
    long checkpoint=getCheckpoint(slice,clusterState.getLiveNodes());
    this.checkpoints.put(sliceName,checkpoint);
  }
}
