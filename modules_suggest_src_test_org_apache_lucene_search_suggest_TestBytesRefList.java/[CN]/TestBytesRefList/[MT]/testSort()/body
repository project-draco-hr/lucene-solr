{
  BytesRefList list=new BytesRefList();
  List<String> stringList=new ArrayList<String>();
  int entries=atLeast(500);
  BytesRef spare=new BytesRef();
  for (int i=0; i < entries; i++) {
    String randomRealisticUnicodeString=_TestUtil.randomRealisticUnicodeString(random);
    spare.copyChars(randomRealisticUnicodeString);
    list.append(spare);
    stringList.add(randomRealisticUnicodeString);
  }
  Collections.sort(stringList);
  int[] sortedOrds=list.sort(BytesRef.getUTF8SortedAsUTF16Comparator());
  for (int i=0; i < entries; i++) {
    assertNotNull(list.get(spare,sortedOrds[i]));
    assertEquals("entry " + i + " doesn't match",stringList.get(i),spare.utf8ToString());
  }
}
