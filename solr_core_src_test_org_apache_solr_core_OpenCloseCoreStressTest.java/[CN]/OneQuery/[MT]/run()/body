{
  verbose(String.format(Locale.ROOT,"Starting query thread: " + getId()));
  String core=OCCST.getRandomCore();
  int repeated=0;
  while (Queries._keepon.get()) {
    core=OCCST.getRandomCore();
    for (int idx=0; idx < 3; ++idx) {
      ModifiableSolrParams params=new ModifiableSolrParams();
      params.set("qt","/select");
      params.set("q","*:*");
      QueryResponse response=new QueryResponse();
      try {
        Thread.sleep(100L);
        server.setBaseURL(baseUrl + core);
        response=server.query(params);
        break;
      }
 catch (      Exception e) {
        if (e instanceof InterruptedException)         return;
        Queries._errors.incrementAndGet();
        if (idx == 2) {
          fail("Could not reach server while indexing for three tries, quitting " + e.getMessage() + " "+ response.toString());
        }
 else {
          verbose("Querying thread: " + Thread.currentThread().getId() + " swallowed exception: "+ e.getMessage()+ " "+ response.toString());
          try {
            Thread.sleep(500L);
          }
 catch (          InterruptedException tex) {
            return;
          }
        }
      }
    }
  }
  verbose(String.format(Locale.ROOT,"Leaving query thread: " + getId()));
}
