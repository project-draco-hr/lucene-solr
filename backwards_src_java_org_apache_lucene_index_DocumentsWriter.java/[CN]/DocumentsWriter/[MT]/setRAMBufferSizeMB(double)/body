{
  if (mb == IndexWriter.DISABLE_AUTO_FLUSH) {
    ramBufferSize=IndexWriter.DISABLE_AUTO_FLUSH;
    waitQueuePauseBytes=4 * 1024 * 1024;
    waitQueueResumeBytes=2 * 1024 * 1024;
  }
 else {
    ramBufferSize=(long)(mb * 1024 * 1024);
    waitQueuePauseBytes=(long)(ramBufferSize * 0.1);
    waitQueueResumeBytes=(long)(ramBufferSize * 0.05);
    freeTrigger=(long)(1.05 * ramBufferSize);
    freeLevel=(long)(0.95 * ramBufferSize);
  }
}
