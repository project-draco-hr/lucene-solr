{
  if (field.hasDocValues() && !(field.isRequired() || field.getDefaultValue() != null)) {
    throw new IllegalStateException("Field " + this + " has doc values enabled, but has no default value and is not required");
  }
}
