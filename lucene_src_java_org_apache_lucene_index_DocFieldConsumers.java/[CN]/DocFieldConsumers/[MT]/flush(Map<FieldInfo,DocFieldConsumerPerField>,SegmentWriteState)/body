{
  Map<FieldInfo,DocFieldConsumerPerField> oneFieldsToFlush=new HashMap<FieldInfo,DocFieldConsumerPerField>();
  Map<FieldInfo,DocFieldConsumerPerField> twoFieldsToFlush=new HashMap<FieldInfo,DocFieldConsumerPerField>();
  for (  Map.Entry<FieldInfo,DocFieldConsumerPerField> fieldToFlush : fieldsToFlush.entrySet()) {
    DocFieldConsumersPerField perField=(DocFieldConsumersPerField)fieldToFlush.getValue();
    oneFieldsToFlush.put(fieldToFlush.getKey(),perField.one);
    twoFieldsToFlush.put(fieldToFlush.getKey(),perField.two);
  }
  one.flush(oneFieldsToFlush,state);
  two.flush(twoFieldsToFlush,state);
}
