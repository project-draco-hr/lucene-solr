{
  final float raw=tf(freq) * weightValue;
  if (norms == null) {
    return raw;
  }
 else {
    long normValue;
    if (norms.advanceExact(doc)) {
      normValue=norms.longValue();
    }
 else {
      normValue=0;
    }
    return raw * decodeNormValue(normValue);
  }
}
