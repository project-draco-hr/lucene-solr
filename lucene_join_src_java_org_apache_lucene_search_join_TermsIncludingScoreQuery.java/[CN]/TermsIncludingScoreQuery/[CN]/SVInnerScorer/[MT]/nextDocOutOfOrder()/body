{
  while (true) {
    if (docsEnum != null) {
      int docId=docsEnumNextDoc();
      if (docId == DocIdSetIterator.NO_MORE_DOCS) {
        docsEnum=null;
      }
 else {
        return doc=docId;
      }
    }
    if (upto == terms.size()) {
      return doc=DocIdSetIterator.NO_MORE_DOCS;
    }
    scoreUpto=upto;
    if (termsEnum.seekExact(terms.get(ords[upto++],spare),true)) {
      docsEnum=reuse=termsEnum.docs(acceptDocs,reuse,DocsEnum.FLAG_NONE);
    }
  }
}
