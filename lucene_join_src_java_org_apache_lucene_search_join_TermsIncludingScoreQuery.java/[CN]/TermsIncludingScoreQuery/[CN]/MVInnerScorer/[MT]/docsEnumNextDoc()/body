{
  while (true) {
    int docId=docsEnum.nextDoc();
    if (docId == DocIdSetIterator.NO_MORE_DOCS) {
      return docId;
    }
    if (!alreadyEmittedDocs.getAndSet(docId)) {
      return docId;
    }
  }
}
