{
  boolean readOnly=false;
  boolean add=false;
  for (int i=0; i < args.length; i++) {
    if ("-ro".equals(args[i]))     readOnly=true;
    if ("-add".equals(args[i]))     add=true;
  }
  File indexDir=new File("index");
  if (!indexDir.exists())   indexDir.mkdirs();
  IndexReader.unlock(FSDirectory.getDirectory(indexDir));
  if (!readOnly) {
    IndexWriter writer=new IndexWriter(indexDir,ANALYZER,!add,IndexWriter.MaxFieldLength.LIMITED);
    Thread indexerThread=new IndexerThread(writer);
    indexerThread.start();
    Thread.sleep(1000);
  }
  SearcherThread searcherThread1=new SearcherThread(false);
  searcherThread1.start();
  SEARCHER=new IndexSearcher(indexDir.toString());
  SearcherThread searcherThread2=new SearcherThread(true);
  searcherThread2.start();
  SearcherThread searcherThread3=new SearcherThread(true);
  searcherThread3.start();
}
