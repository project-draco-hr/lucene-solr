{
  System.setProperty("solr.test.sys.prop1","propone");
  System.setProperty("solr.test.sys.prop2","proptwo");
  String home=System.getProperty("java.io.tmpdir") + System.getProperty("file.separator") + getClass().getName()+ "-"+ System.currentTimeMillis()+ System.getProperty("file.separator");
  if (type == 1) {
    homeDir=new File(home + "master" + System.getProperty("file.separator"));
    dataDir=new File(home + "master" + System.getProperty("file.separator")+ "data"+ System.getProperty("file.separator"));
    confDir=new File(home + "master" + System.getProperty("file.separator")+ "conf"+ System.getProperty("file.separator"));
  }
  if (type == 0) {
    homeDir=new File(home + "slave" + System.getProperty("file.separator"));
    dataDir=new File(home + "slave" + System.getProperty("file.separator")+ "data"+ System.getProperty("file.separator"));
    confDir=new File(home + "slave" + System.getProperty("file.separator")+ "conf"+ System.getProperty("file.separator"));
  }
  homeDir.mkdirs();
  dataDir.mkdirs();
  confDir.mkdirs();
  File f=new File(confDir,"solrconfig.xml");
  copyFile(new File(getSolrConfigFile()),f);
  f=new File(confDir,"schema.xml");
  copyFile(new File(getSchemaFile()),f);
}
