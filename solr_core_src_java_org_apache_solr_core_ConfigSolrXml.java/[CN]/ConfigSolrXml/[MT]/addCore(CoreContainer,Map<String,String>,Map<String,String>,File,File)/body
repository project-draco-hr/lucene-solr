{
  log.info("Discovered properties file {}, adding to cores",propFile.getAbsolutePath());
  Properties propsOrig=new Properties();
  InputStream is=new FileInputStream(propFile);
  try {
    propsOrig.load(is);
  }
  finally {
    IOUtils.closeQuietly(is);
  }
  Properties props=new Properties();
  for (  String prop : propsOrig.stringPropertyNames()) {
    props.put(prop,PropertiesUtil.substituteProperty(propsOrig.getProperty(prop),null));
  }
  props.setProperty(CoreDescriptor.CORE_INSTDIR,childFile.getPath());
  if (props.getProperty(CoreDescriptor.CORE_NAME) == null) {
    props.setProperty(CoreDescriptor.CORE_NAME,childFile.getName());
  }
  CoreDescriptor desc=new CoreDescriptor(container,props);
  coreDescriptorMap.put(desc.getName(),desc);
}
