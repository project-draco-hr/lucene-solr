{
  List<Object> values=config.removeAll(name);
  if (null != values && 0 != values.size()) {
    if (1 < values.size()) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,String.format(Locale.ROOT,"%s section of solr.xml contains duplicated '%s'" + " in solr.xml: %s",section,name,values));
    }
 else {
      Object value=values.get(0);
      if (value != null) {
        if (value.getClass().isAssignableFrom(clazz)) {
          propMap.put(propertyKey,value);
        }
 else {
          propMap.put(propertyKey,valueTransformer.apply(value));
        }
      }
 else {
        propMap.put(propertyKey,null);
      }
    }
  }
}
