{
  Map<String,String> attrs=new HashMap<String,String>();
  if (isAutoDiscover) {
    return attrs;
  }
synchronized (coreNodes) {
    for (int idx=0; idx < coreNodes.getLength(); ++idx) {
      Node node=coreNodes.item(idx);
      if (coreName.equals(DOMUtil.getAttr(node,CoreDescriptor.CORE_NAME,null))) {
        NamedNodeMap attributes=node.getAttributes();
        for (int i=0; i < attributes.getLength(); i++) {
          Node attribute=attributes.item(i);
          String val=attribute.getNodeValue();
          if (CoreDescriptor.CORE_DATADIR.equals(attribute.getNodeName()) || CoreDescriptor.CORE_INSTDIR.equals(attribute.getNodeName())) {
            if (val.indexOf('$') == -1) {
              val=(val != null && !val.endsWith("/")) ? val + '/' : val;
            }
          }
          attrs.put(attribute.getNodeName(),val);
        }
        return attrs;
      }
    }
  }
  return attrs;
}
