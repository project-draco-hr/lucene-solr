{
  if (input.incrementToken()) {
    String term=termAtt.term();
    if (!keywordAttr.isKeyword() && (exclusionSet == null || !exclusionSet.contains(term))) {
      String s=stemmer.stem(term);
      if ((s != null) && !s.equals(term))       termAtt.setTermBuffer(s);
    }
    return true;
  }
 else {
    return false;
  }
}
