{
  Analyzer analyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new MockTokenizer(reader,MockTokenizer.WHITESPACE,false);
      TokenFilter filters=new ASCIIFoldingFilter(tokenizer);
      filters=new NGramTokenFilter(TEST_VERSION_CURRENT,filters,2,2);
      return new TokenStreamComponents(tokenizer,filters);
    }
  }
;
  assertAnalyzesTo(analyzer,"mosfellsb??r",new String[]{"mo","os","sf","fe","el","ll","ls","sb","ba","ae","er"},new int[]{0,0,0,0,0,0,0,0,0,0,0},new int[]{11,11,11,11,11,11,11,11,11,11,11},new int[]{1,0,0,0,0,0,0,0,0,0,0});
}
