{
  int numBits=getNumBits(data,size);
  for (int i=0; i < size; ++i) {
    encodeNormalValue(intBuffer,i,data[i],numBits);
  }
  encodeHeader(intBuffer,size,numBits);
  return (HEADER_INT_SIZE + (size * numBits + 31) / 32) * 4;
}
