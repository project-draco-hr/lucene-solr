{
  Query q=new MatchAllDocsQuery();
  TopScoreDocCollector topDocsCollector=TopScoreDocCollector.create(10,true);
  FacetSearchParams facetSearchParams=new FacetSearchParams(iParams);
  facetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath("Band"),10));
  CountFacetRequest bandDepth=new CountFacetRequest(new CategoryPath("Band"),10);
  bandDepth.setDepth(2);
  facetSearchParams.addFacetRequest(bandDepth);
  facetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath("Author"),10));
  facetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath("Band","Rock & Pop"),10));
  FacetsCollector facetsCollector=new FacetsCollector(facetSearchParams,ir,tr);
  searcher.search(q,MultiCollector.wrap(topDocsCollector,facetsCollector));
  return facetsCollector;
}
