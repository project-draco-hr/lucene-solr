{
  final int[] docs=bulkResult.docs.ints;
  final int[] freqs=bulkResult.freqs.ints;
  int i=0;
  final int length=docs.length;
  while (i < length && count < docFreq) {
    count++;
    doc+=docReader.next();
    if (!omitTF) {
      freq=freqReader.next();
    }
    if (skipDocs == null || !skipDocs.get(doc)) {
      docs[i]=doc;
      freqs[i]=freq;
      i++;
    }
  }
  return i;
}
