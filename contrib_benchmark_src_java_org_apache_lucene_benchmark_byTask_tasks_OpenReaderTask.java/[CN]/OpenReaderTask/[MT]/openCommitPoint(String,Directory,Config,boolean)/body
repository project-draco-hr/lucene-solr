{
  IndexReader r=null;
  Collection<IndexCommit> commits=IndexReader.listCommits(dir);
  for (  final IndexCommit ic : commits) {
    Map<String,String> map=ic.getUserData();
    String ud=null;
    if (map != null) {
      ud=map.get(USER_DATA);
    }
    if (ud != null && ud.equals(userData)) {
      IndexDeletionPolicy indexDeletionPolicy=CreateIndexTask.getIndexDeletionPolicy(config);
      r=IndexReader.open(ic,indexDeletionPolicy,readOnly);
      break;
    }
  }
  if (r == null)   throw new IOException("cannot find commitPoint userData:" + userData);
  return r;
}
