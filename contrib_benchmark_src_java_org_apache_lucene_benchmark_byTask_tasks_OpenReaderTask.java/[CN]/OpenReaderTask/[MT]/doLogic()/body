{
  Directory dir=getRunData().getDirectory();
  Config config=getRunData().getConfig();
  IndexReader r=null;
  if (commitUserData != null) {
    r=openCommitPoint(commitUserData,dir,config,readOnly);
  }
 else {
    IndexDeletionPolicy indexDeletionPolicy=CreateIndexTask.getIndexDeletionPolicy(config);
    r=IndexReader.open(dir,indexDeletionPolicy,readOnly);
  }
  getRunData().setIndexReader(r);
  return 1;
}
