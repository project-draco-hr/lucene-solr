{
  StandardQueryParser qp=new StandardQueryParser();
  CharacterRunAutomaton stopSet=new CharacterRunAutomaton(new RegExp("the|foo").toAutomaton());
  qp.setAnalyzer(new MockAnalyzer(random(),MockTokenizer.SIMPLE,true,stopSet));
  Query result=qp.parse("a:the OR a:foo","a");
  assertNotNull("result is null and it shouldn't be",result);
  assertTrue("result is not a MatchNoDocsQuery",result instanceof MatchNoDocsQuery);
  result=qp.parse("a:woo OR a:the","a");
  assertNotNull("result is null and it shouldn't be",result);
  assertTrue("result is not a TermQuery",result instanceof TermQuery);
  result=qp.parse("(fieldX:xxxxx OR fieldy:xxxxxxxx)^2 AND (fieldx:the OR fieldy:foo)","a");
  assertNotNull("result is null and it shouldn't be",result);
  assertTrue("result is not a BooleanQuery",result instanceof BooleanQuery);
  if (VERBOSE)   System.out.println("Result: " + result);
  assertTrue(((BooleanQuery)result).clauses().size() + " does not equal: " + 2,((BooleanQuery)result).clauses().size() == 2);
}
