{
  this.scorer=new ScoreCachingWrappingScorer(scorer);
  for (int compIDX=0; compIDX < comparators.length; compIDX++) {
    comparators[compIDX].setScorer(this.scorer);
  }
  Arrays.fill(joinScorers,null);
  Queue<Scorer> queue=new LinkedList<Scorer>();
  queue.add(scorer);
  while ((scorer=queue.poll()) != null) {
    if (scorer instanceof ToParentBlockJoinQuery.BlockJoinScorer) {
      enroll((ToParentBlockJoinQuery)scorer.getWeight().getQuery(),(ToParentBlockJoinQuery.BlockJoinScorer)scorer);
    }
    for (    ChildScorer sub : scorer.getChildren()) {
      queue.add(sub.child);
    }
  }
}
