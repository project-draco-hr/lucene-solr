{
  String algLines[]={"# ----- properties ","content.source=" + Reuters20ContentSource.class.getName(),"content.source.log.step=3","ram.flush.mb=-1","max.buffered=3","doc.term.vector=false","content.source.forever=false","directory=RAMDirectory","merge.policy=org.apache.lucene.index.LogDocMergePolicy","doc.stored=false","doc.tokenized=false","debug.level=1","# ----- alg ","{ \"Rounds\"","  ResetSystemErase","  CreateIndex","  { \"AddDocs\"  AddDoc > : * ","  Optimize(3)","  CloseIndex()","} : 2"};
  Benchmark benchmark=execBenchmark(algLines);
  IndexReader ir=IndexReader.open(benchmark.getRunData().getDirectory(),true);
  int ndocsExpected=20;
  assertEquals("wrong number of docs in the index!",ndocsExpected,ir.numDocs());
  ir.close();
  final String[] files=benchmark.getRunData().getDirectory().listAll();
  int cfsCount=0;
  for (int i=0; i < files.length; i++)   if (files[i].endsWith(".cfs"))   cfsCount++;
  assertEquals(3,cfsCount);
}
