{
  String algLines[]={"# ----- properties ","doc.maker=" + Reuters20DocMaker.class.getName(),"doc.add.log.step=3","ram.flush.mb=-1","max.buffered=2","doc.term.vector=false","doc.maker.forever=false","directory=RAMDirectory","merge.policy=" + MyMergePolicy.class.getName(),"doc.stored=false","doc.tokenized=false","debug.level=1","# ----- alg ","{ \"Rounds\"","  ResetSystemErase","  CreateIndex","  { \"AddDocs\"  AddDoc > : * ","} : 2"};
  Benchmark benchmark=execBenchmark(algLines);
  assertTrue("did not use the specified MergeScheduler",((MyMergePolicy)benchmark.getRunData().getIndexWriter().getMergePolicy()).called);
  benchmark.getRunData().getIndexWriter().close();
  IndexReader ir=IndexReader.open(benchmark.getRunData().getDirectory());
  int ndocsExpected=20;
  assertEquals("wrong number of docs in the index!",ndocsExpected,ir.numDocs());
  ir.close();
}
