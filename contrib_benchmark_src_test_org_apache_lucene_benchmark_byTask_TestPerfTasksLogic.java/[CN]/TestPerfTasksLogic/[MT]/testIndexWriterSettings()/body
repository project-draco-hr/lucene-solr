{
  String algLines[]={"# ----- properties ","content.source=org.apache.lucene.benchmark.byTask.feeds.LineDocSource","docs.file=" + getReuters20LinesFile(),"content.source.log.step=3","ram.flush.mb=-1","max.buffered=2","compound=cmpnd:true:false","doc.term.vector=vector:false:true","content.source.forever=false","directory=RAMDirectory","doc.stored=false","merge.factor=3","doc.tokenized=false","debug.level=1","# ----- alg ","{ \"Rounds\"","  ResetSystemErase","  CreateIndex","  { \"AddDocs\"  AddDoc > : * ","  NewRound","} : 2"};
  Benchmark benchmark=execBenchmark(algLines);
  final IndexWriter writer=benchmark.getRunData().getIndexWriter();
  assertEquals(2,writer.getConfig().getMaxBufferedDocs());
  assertEquals(IndexWriterConfig.DISABLE_AUTO_FLUSH,(int)writer.getConfig().getRAMBufferSizeMB());
  assertEquals(3,((LogMergePolicy)writer.getMergePolicy()).getMergeFactor());
  assertFalse(((LogMergePolicy)writer.getMergePolicy()).getUseCompoundFile());
  writer.close();
  Directory dir=benchmark.getRunData().getDirectory();
  IndexReader reader=IndexReader.open(dir,true);
  TermFreqVector[] tfv=reader.getTermFreqVectors(0);
  assertNotNull(tfv);
  assertTrue(tfv.length > 0);
  reader.close();
}
