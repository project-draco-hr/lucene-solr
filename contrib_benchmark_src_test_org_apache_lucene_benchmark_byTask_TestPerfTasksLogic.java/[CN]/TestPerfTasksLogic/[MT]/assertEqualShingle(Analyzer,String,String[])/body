{
  TokenStream stream=analyzer.tokenStream("bogus",new StringReader(text));
  stream.reset();
  TermAttribute termAtt=stream.addAttribute(TermAttribute.class);
  int termNum=0;
  while (stream.incrementToken()) {
    assertTrue("Extra output term(s), starting with '" + new String(termAtt.termBuffer(),0,termAtt.termLength()) + "'",termNum < expected.length);
    assertEquals("Mismatch in output term # " + termNum + " - ",expected[termNum],new String(termAtt.termBuffer(),0,termAtt.termLength()));
    ++termNum;
  }
  assertEquals("Too few output terms",expected.length,termNum);
  stream.close();
}
