{
  String algLines[]={"doc.stored=true","content.source=org.apache.lucene.benchmark.byTask.feeds.LineDocSource","docs.file=" + getReuters20LinesFile(),"query.maker=" + ReutersQueryMaker.class.getName(),"ResetSystemErase","CreateIndex","{ AddDoc } : 100","Optimize","CloseIndex","OpenReader(true)","{ CountingHighlighterTest(size[1],highlight[1],mergeContiguous[true],maxFrags[1],fields[body]) } : 200","CloseReader"};
  CountingHighlighterTestTask.numHighlightedResults=0;
  CountingHighlighterTestTask.numDocsRetrieved=0;
  Benchmark benchmark=execBenchmark(algLines);
  assertEquals("TestSearchTask was supposed to be called!",92,CountingHighlighterTestTask.numDocsRetrieved);
  assertTrue("TestSearchTask was supposed to be called!",CountingHighlighterTestTask.numDocsRetrieved >= CountingHighlighterTestTask.numHighlightedResults && CountingHighlighterTestTask.numHighlightedResults > 0);
  assertTrue("Index does not exist?...!",IndexReader.indexExists(benchmark.getRunData().getDirectory()));
  IndexWriter iw=new IndexWriter(benchmark.getRunData().getDirectory(),new IndexWriterConfig(TEST_VERSION_CURRENT).setOpenMode(OpenMode.APPEND));
  iw.close();
  IndexReader ir=IndexReader.open(benchmark.getRunData().getDirectory(),true);
  assertEquals("100 docs were added to the index, this is what we expect to find!",100,ir.numDocs());
  ir.close();
}
