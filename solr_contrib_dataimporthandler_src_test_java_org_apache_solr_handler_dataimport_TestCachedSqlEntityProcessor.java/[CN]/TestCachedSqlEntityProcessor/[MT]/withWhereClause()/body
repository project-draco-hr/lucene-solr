{
  List fields=new ArrayList();
  fields.add(createMap("column","id"));
  fields.add(createMap("column","desc"));
  String q="select * from x";
  Map<String,String> entityAttrs=createMap("query",q,EntityProcessorBase.CACHE_KEY,"id",EntityProcessorBase.CACHE_LOOKUP,"x.id");
  MockDataSource ds=new MockDataSource();
  VariableResolverImpl vr=new VariableResolverImpl();
  Map xNamespace=createMap("id",0);
  vr.addNamespace("x",xNamespace);
  Context context=getContext(null,vr,ds,Context.FULL_DUMP,fields,entityAttrs);
  doWhereTest(q,context,ds,xNamespace);
}
