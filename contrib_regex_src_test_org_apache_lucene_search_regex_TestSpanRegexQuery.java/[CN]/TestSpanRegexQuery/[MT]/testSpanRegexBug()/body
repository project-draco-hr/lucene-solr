{
  createRAMDirectories();
  SpanRegexQuery srq=new SpanRegexQuery(new Term("field","a.*"));
  SpanRegexQuery stq=new SpanRegexQuery(new Term("field","b.*"));
  SpanNearQuery query=new SpanNearQuery(new SpanQuery[]{srq,stq},6,true);
  IndexSearcher[] arrSearcher=new IndexSearcher[2];
  arrSearcher[0]=new IndexSearcher(indexStoreA);
  arrSearcher[1]=new IndexSearcher(indexStoreB);
  MultiSearcher searcher=new MultiSearcher(arrSearcher);
  Hits hits=searcher.search(query);
  arrSearcher[0].close();
  arrSearcher[1].close();
  assertEquals(2,hits.length());
  indexStoreA.close();
  indexStoreB.close();
}
