{
  IndexInput input=dir.openInput(name);
  try {
    long size=dir.fileLength(name);
    long bytesLeft=size;
    while (bytesLeft > 0) {
      final int numToRead;
      if (bytesLeft < buffer.length)       numToRead=(int)bytesLeft;
 else       numToRead=buffer.length;
      input.readBytes(buffer,0,numToRead,false);
      bytesLeft-=numToRead;
    }
    try {
      Thread.sleep(1);
    }
 catch (    InterruptedException ie) {
      Thread.currentThread().interrupt();
    }
  }
  finally {
    input.close();
  }
}
