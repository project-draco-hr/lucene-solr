{
  if (s == null)   throw new NullPointerException("Trie encoded string may not be NULL");
  final int len=s.length();
  if (len != TRIE_CODED_LENGTH)   throw new NumberFormatException("Invalid trie encoded numerical value representation (incompatible length, must be " + TRIE_CODED_LENGTH + ")");
  long l=0L;
  for (int i=0; i < len; i++) {
    char ch=s.charAt(i);
    if (ch >= TRIE_CODED_SYMBOL_MIN && ch <= TRIE_CODED_SYMBOL_MAX) {
      l=(l << TRIE_BITS) | (long)(ch - TRIE_CODED_SYMBOL_MIN);
    }
 else {
      throw new NumberFormatException("Invalid trie encoded numerical value representation (char " + Integer.toHexString((int)ch) + " at position "+ i+ " is invalid)");
    }
  }
  return l;
}
