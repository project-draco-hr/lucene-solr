{
  final String error="error";
  String updateXMLSafe="<add><doc><field name=\"id\">\"testdoc\"</field></doc></add>";
  String response=restTestHarness.update(updateXMLSafe);
  XMLResponseParser parser=new XMLResponseParser();
  NamedList<Object> listResponse=parser.processResponse(new StringReader(response));
  assertNull(listResponse.get(error));
  String updateXMLNotSafe="<add><doc><field name=\"id\">\"testdoc\"</field>" + "<field name=\"newField67\">\"foobar\"</field></doc></add>";
  response=restTestHarness.update(updateXMLNotSafe);
  listResponse=parser.processResponse(new StringReader(response));
  assertNotNull(listResponse.get(error));
  assertTrue(listResponse.get(error).toString().contains("immutable"));
}
