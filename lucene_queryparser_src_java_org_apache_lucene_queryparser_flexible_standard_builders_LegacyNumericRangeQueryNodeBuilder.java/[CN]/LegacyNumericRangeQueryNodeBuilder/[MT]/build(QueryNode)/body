{
  LegacyNumericRangeQueryNode numericRangeNode=(LegacyNumericRangeQueryNode)queryNode;
  LegacyNumericQueryNode lowerNumericNode=numericRangeNode.getLowerBound();
  LegacyNumericQueryNode upperNumericNode=numericRangeNode.getUpperBound();
  Number lowerNumber=lowerNumericNode.getValue();
  Number upperNumber=upperNumericNode.getValue();
  LegacyNumericConfig numericConfig=numericRangeNode.getNumericConfig();
  LegacyNumericType numberType=numericConfig.getType();
  String field=StringUtils.toString(numericRangeNode.getField());
  boolean minInclusive=numericRangeNode.isLowerInclusive();
  boolean maxInclusive=numericRangeNode.isUpperInclusive();
  int precisionStep=numericConfig.getPrecisionStep();
switch (numberType) {
case LONG:
    return LegacyNumericRangeQuery.newLongRange(field,precisionStep,(Long)lowerNumber,(Long)upperNumber,minInclusive,maxInclusive);
case INT:
  return LegacyNumericRangeQuery.newIntRange(field,precisionStep,(Integer)lowerNumber,(Integer)upperNumber,minInclusive,maxInclusive);
case FLOAT:
return LegacyNumericRangeQuery.newFloatRange(field,precisionStep,(Float)lowerNumber,(Float)upperNumber,minInclusive,maxInclusive);
case DOUBLE:
return LegacyNumericRangeQuery.newDoubleRange(field,precisionStep,(Double)lowerNumber,(Double)upperNumber,minInclusive,maxInclusive);
default :
throw new QueryNodeException(new MessageImpl(QueryParserMessages.UNSUPPORTED_NUMERIC_DATA_TYPE,numberType));
}
}
