{
  directory=newDirectory();
  Analyzer analyzer=new Analyzer(){
    @Override public TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      return new TokenStreamComponents(new MockTokenizer(reader,MockTokenizer.WHITESPACE,false));
    }
    @Override public int getPositionIncrementGap(    String fieldName){
      return 100;
    }
  }
;
  RandomIndexWriter writer=new RandomIndexWriter(random(),directory,analyzer);
  Document doc=new Document();
  doc.add(newField("field","one two three four five",TextField.TYPE_STORED));
  doc.add(newField("repeated","this is a repeated field - first part",TextField.TYPE_STORED));
  IndexableField repeatedField=newField("repeated","second part of a repeated field",TextField.TYPE_STORED);
  doc.add(repeatedField);
  doc.add(newField("palindrome","one two three two one",TextField.TYPE_STORED));
  writer.addDocument(doc);
  doc=new Document();
  doc.add(newField("nonexist","phrase exist notexist exist found",TextField.TYPE_STORED));
  writer.addDocument(doc);
  doc=new Document();
  doc.add(newField("nonexist","phrase exist notexist exist found",TextField.TYPE_STORED));
  writer.addDocument(doc);
  reader=writer.getReader();
  writer.close();
  searcher=newSearcher(reader);
}
