{
  List<Automaton> automata=new ArrayList<Automaton>();
  String wildcardText=wildcardquery.text();
  for (int i=0; i < wildcardText.length(); ) {
    final int c=wildcardText.codePointAt(i);
switch (c) {
case WILDCARD_STRING:
      automata.add(BasicAutomata.makeAnyString());
    break;
case WILDCARD_CHAR:
  automata.add(BasicAutomata.makeAnyChar());
break;
default :
automata.add(BasicAutomata.makeChar(c));
}
i+=Character.charCount(c);
}
return BasicOperations.concatenate(automata);
}
