{
  QueryParser parser=new QueryParser("field",new Analyzer1());
  assertTrue(parser.getSplitOnWhitespace());
  BooleanQuery.Builder bqBuilder=new BooleanQuery.Builder();
  bqBuilder.add(new TermQuery(new Term("field","guinea")),BooleanClause.Occur.SHOULD);
  bqBuilder.add(new TermQuery(new Term("field","pig")),BooleanClause.Occur.SHOULD);
  assertEquals(bqBuilder.build(),parser.parse("guinea pig"));
  boolean oldSplitOnWhitespace=splitOnWhitespace;
  splitOnWhitespace=QueryParser.DEFAULT_SPLIT_ON_WHITESPACE;
  assertQueryEquals("guinea pig",new MockSynonymAnalyzer(),"guinea pig");
  splitOnWhitespace=oldSplitOnWhitespace;
}
