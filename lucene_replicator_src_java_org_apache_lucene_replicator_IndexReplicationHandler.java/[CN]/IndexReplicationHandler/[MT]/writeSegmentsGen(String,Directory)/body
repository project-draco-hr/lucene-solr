{
  if (segmentsFile != null) {
    SegmentInfos.writeSegmentsGen(dir,SegmentInfos.generationFromSegmentsFileName(segmentsFile));
  }
 else {
    try {
      if (dir.fileExists(IndexFileNames.SEGMENTS_GEN)) {
        dir.deleteFile(IndexFileNames.SEGMENTS_GEN);
      }
    }
 catch (    Throwable t) {
    }
  }
}
