{
  Directory dir1=FSDirectory.open(new File("TestLockFactory.8"),new NativeFSLockFactory("TestLockFactory.8"));
  Directory dir2=FSDirectory.open(new File("TestLockFactory.9"),new NativeFSLockFactory("TestLockFactory.9"));
  String prefix1=dir1.getLockFactory().getLockPrefix();
  String prefix2=dir2.getLockFactory().getLockPrefix();
  assertTrue("Native Lock Factories are incorrectly shared: dir1 and dir2 have same lock prefix '" + prefix1 + "'; they should be different",!prefix1.equals(prefix2));
  rmDir("TestLockFactory.8");
  rmDir("TestLockFactory.9");
}
