{
  File fdir1=_TestUtil.getTempDir("TestLockFactory.8");
  Directory dir1=FSDirectory.open(fdir1,new NativeFSLockFactory(fdir1));
  File fdir2=_TestUtil.getTempDir("TestLockFactory.9");
  Directory dir2=FSDirectory.open(fdir2,new NativeFSLockFactory(fdir2));
  String prefix1=dir1.getLockFactory().getLockPrefix();
  String prefix2=dir2.getLockFactory().getLockPrefix();
  assertTrue("Native Lock Factories are incorrectly shared: dir1 and dir2 have same lock prefix '" + prefix1 + "'; they should be different",!prefix1.equals(prefix2));
  _TestUtil.rmDir(fdir1);
  _TestUtil.rmDir(fdir2);
}
