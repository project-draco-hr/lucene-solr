{
  SolrCore core=h.getCore();
  TermsComponent tc=(TermsComponent)core.getSearchComponent("termsComp");
  assertTrue("tc is null and it shouldn't be",tc != null);
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.add(TermsParams.TERMS,"true");
  params.add(TermsParams.TERMS_LOWER,"d");
  params.add(TermsParams.TERMS_LIMIT,String.valueOf(50));
  SolrRequestHandler handler;
  SolrQueryResponse rsp;
  handler=core.getRequestHandler("/terms");
  assertTrue("handler is null and it shouldn't be",handler != null);
  rsp=new SolrQueryResponse();
  rsp.add("responseHeader",new SimpleOrderedMap());
  ignoreException("No terms.fl parameter specified");
  handler.handleRequest(new LocalSolrQueryRequest(core,params),rsp);
  resetExceptionIgnores();
  Exception exception=rsp.getException();
  assertTrue("exception is null and it shouldn't be",exception != null);
}
