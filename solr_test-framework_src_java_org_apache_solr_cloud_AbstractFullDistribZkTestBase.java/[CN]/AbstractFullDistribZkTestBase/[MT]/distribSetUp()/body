{
  super.distribSetUp();
  if (sliceCount > 0) {
    System.setProperty("numShards",Integer.toString(sliceCount));
  }
 else {
    System.clearProperty("numShards");
  }
  if (isSSLMode()) {
    System.clearProperty("urlScheme");
    try (ZkStateReader zkStateReader=new ZkStateReader(zkServer.getZkAddress(),AbstractZkTestCase.TIMEOUT,AbstractZkTestCase.TIMEOUT)){
      zkStateReader.getZkClient().create(ZkStateReader.CLUSTER_PROPS,Utils.toJSON(Collections.singletonMap("urlScheme","https")),CreateMode.PERSISTENT,true);
    }
   }
}
