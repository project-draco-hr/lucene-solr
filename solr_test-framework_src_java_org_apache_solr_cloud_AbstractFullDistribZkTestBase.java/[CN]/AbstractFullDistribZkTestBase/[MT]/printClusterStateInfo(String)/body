{
  cloudClient.getZkStateReader().updateClusterState(true);
  String cs=null;
  ClusterState clusterState=cloudClient.getZkStateReader().getClusterState();
  if (collection != null) {
    cs=clusterState.getCollection(collection).toString();
  }
 else {
    Map<String,DocCollection> map=new HashMap<String,DocCollection>();
    for (    String coll : clusterState.getCollections())     map.put(coll,clusterState.getCollection(coll));
    CharArr out=new CharArr();
    new JSONWriter(out,2).write(map);
    cs=out.toString();
  }
  return cs;
}
