{
  long timeoutAt=System.currentTimeMillis() + 45000;
  boolean found=true;
  while (System.currentTimeMillis() < timeoutAt) {
    getCommonCloudSolrClient().getZkStateReader().updateClusterState(true);
    ClusterState clusterState=getCommonCloudSolrClient().getZkStateReader().getClusterState();
    if (!clusterState.hasCollection(collectionName)) {
      found=false;
      break;
    }
    Thread.sleep(100);
  }
  if (found) {
    fail("Found collection that should be gone " + collectionName);
  }
}
