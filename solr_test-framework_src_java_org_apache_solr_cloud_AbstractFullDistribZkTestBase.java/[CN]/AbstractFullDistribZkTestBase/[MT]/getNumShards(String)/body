{
  ZkStateReader zkStateReader=cloudClient.getZkStateReader();
  Map<String,Slice> slices=zkStateReader.getClusterState().getSlices(collection);
  if (slices == null) {
    throw new IllegalArgumentException("Could not find collection:" + collection);
  }
  int cnt=0;
  for (  Map.Entry<String,Slice> entry : slices.entrySet()) {
    cnt+=entry.getValue().getReplicasMap().size();
  }
  return cnt;
}
