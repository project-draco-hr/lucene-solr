{
  CloudSolrClient client=new CloudSolrClient(zkServer.getZkAddress(),random().nextBoolean());
  client.setParallelUpdates(random().nextBoolean());
  if (defaultCollection != null)   client.setDefaultCollection(defaultCollection);
  client.getLbClient().getHttpClient().getParams().setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT,30000);
  client.getLbClient().getHttpClient().getParams().setParameter(CoreConnectionPNames.SO_TIMEOUT,60000);
  return client;
}
