{
  if (random().nextBoolean()) {
    solrHome=getRelativeSolrHomePath(solrHome);
  }
  JettySolrRunner jetty=new JettySolrRunner(solrHome.getPath(),context,0,solrConfigOverride,schemaOverride,false,getExtraServlets(),null,getExtraRequestFilters());
  jetty.setShards(shardList);
  jetty.setDataDir(getDataDir(dataDir));
  jetty.start();
  return jetty;
}
