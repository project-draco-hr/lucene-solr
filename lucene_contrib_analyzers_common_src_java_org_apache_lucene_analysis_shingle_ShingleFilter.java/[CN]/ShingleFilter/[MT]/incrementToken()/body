{
  boolean tokenAvailable=false;
  if (gramSize.atMinValue() || inputWindow.size() < gramSize.getValue()) {
    shiftInputWindow();
  }
  if (!inputWindow.isEmpty()) {
    restoreState(inputWindow.getFirst());
    if (1 == gramSize.getValue()) {
      posIncrAtt.setPositionIncrement(1);
      gramSize.advance();
      tokenAvailable=true;
    }
 else     if (inputWindow.size() >= gramSize.getValue()) {
      getNextShingle();
      gramSize.advance();
      tokenAvailable=true;
    }
  }
  return tokenAvailable;
}
