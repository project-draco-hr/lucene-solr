{
  super(field);
  GeoUtils.checkLatitude(minLat);
  GeoUtils.checkLatitude(maxLat);
  GeoUtils.checkLongitude(minLon);
  GeoUtils.checkLongitude(maxLon);
  final long minHash=GeoEncodingUtils.mortonHash(minLat,minLon);
  final long maxHash=GeoEncodingUtils.mortonHash(maxLat,maxLon);
  this.minLat=GeoEncodingUtils.mortonUnhashLat(minHash);
  this.maxLat=GeoEncodingUtils.mortonUnhashLat(maxHash);
  this.minLon=GeoEncodingUtils.mortonUnhashLon(minHash);
  this.maxLon=GeoEncodingUtils.mortonUnhashLon(maxHash);
  this.maxShift=computeMaxShift();
  this.termEncoding=termEncoding;
  this.cellComparator=newCellComparator();
  this.rewriteMethod=GEO_CONSTANT_SCORE_REWRITE;
}
