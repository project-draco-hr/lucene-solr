{
  super(field);
  if (GeoUtils.isValidLat(minLat) == false) {
    throw new IllegalArgumentException("invalid minLat " + minLat);
  }
  if (GeoUtils.isValidLat(maxLat) == false) {
    throw new IllegalArgumentException("invalid maxLat " + maxLat);
  }
  if (GeoUtils.isValidLon(minLon) == false) {
    throw new IllegalArgumentException("invalid minLon " + minLon);
  }
  if (GeoUtils.isValidLon(maxLon) == false) {
    throw new IllegalArgumentException("invalid maxLon " + maxLon);
  }
  final long minHash=GeoEncodingUtils.mortonHash(minLat,minLon);
  final long maxHash=GeoEncodingUtils.mortonHash(maxLat,maxLon);
  this.minLat=GeoEncodingUtils.mortonUnhashLat(minHash);
  this.maxLat=GeoEncodingUtils.mortonUnhashLat(maxHash);
  this.minLon=GeoEncodingUtils.mortonUnhashLon(minHash);
  this.maxLon=GeoEncodingUtils.mortonUnhashLon(maxHash);
  this.maxShift=computeMaxShift();
  this.termEncoding=termEncoding;
  this.cellComparator=newCellComparator();
  this.rewriteMethod=GEO_CONSTANT_SCORE_REWRITE;
}
