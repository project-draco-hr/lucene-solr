{
  final int heapSize;
  if (0 == maxSize) {
    heapSize=2;
  }
 else {
    heapSize=maxSize + 1;
    if (heapSize > ArrayUtil.MAX_ARRAY_LENGTH) {
      throw new IllegalArgumentException("maxSize must be <= " + (ArrayUtil.MAX_ARRAY_LENGTH - 1) + "; got: "+ maxSize);
    }
  }
  @SuppressWarnings("unchecked") final T[] h=(T[])new Object[heapSize];
  this.heap=h;
  this.maxSize=maxSize;
  if (prepopulate) {
    T sentinel=getSentinelObject();
    if (sentinel != null) {
      heap[1]=sentinel;
      for (int i=2; i < heap.length; i++) {
        heap[i]=getSentinelObject();
      }
      size=maxSize;
    }
  }
}
