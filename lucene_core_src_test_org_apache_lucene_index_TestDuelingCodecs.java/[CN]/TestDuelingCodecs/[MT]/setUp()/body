{
  super.setUp();
  leftCodec=Codec.forName("SimpleText");
  rightCodec=new RandomCodec(random());
  leftDir=newFSDirectory(createTempDir("leftDir"));
  rightDir=newFSDirectory(createTempDir("rightDir"));
  seed=random().nextLong();
  int maxTermLength=TestUtil.nextInt(random(),1,IndexWriter.MAX_TERM_LENGTH);
  MockAnalyzer leftAnalyzer=new MockAnalyzer(new Random(seed));
  leftAnalyzer.setMaxTokenLength(maxTermLength);
  MockAnalyzer rightAnalyzer=new MockAnalyzer(new Random(seed));
  rightAnalyzer.setMaxTokenLength(maxTermLength);
  IndexWriterConfig leftConfig=newIndexWriterConfig(leftAnalyzer);
  leftConfig.setCodec(leftCodec);
  leftConfig.setMergePolicy(newLogMergePolicy());
  IndexWriterConfig rightConfig=newIndexWriterConfig(rightAnalyzer);
  rightConfig.setCodec(rightCodec);
  rightConfig.setMergePolicy(newLogMergePolicy());
  leftWriter=new RandomIndexWriter(new Random(seed),leftDir,leftConfig);
  rightWriter=new RandomIndexWriter(new Random(seed),rightDir,rightConfig);
  info="left: " + leftCodec.toString() + " / right: "+ rightCodec.toString();
}
