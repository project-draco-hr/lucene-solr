{
  log.info("connecting to " + host + " "+ port);
  BufferedReader reader=null;
  try (Socket sock=new Socket(host,port)){
    OutputStream outstream=sock.getOutputStream();
    outstream.write(cmd.getBytes(StandardCharsets.US_ASCII));
    outstream.flush();
    sock.shutdownOutput();
    reader=new BufferedReader(new InputStreamReader(sock.getInputStream(),"US-ASCII"));
    StringBuilder sb=new StringBuilder();
    String line;
    while ((line=reader.readLine()) != null) {
      sb.append(line).append("\n");
    }
    return sb.toString();
  }
  finally {
    if (reader != null) {
      reader.close();
    }
  }
}
