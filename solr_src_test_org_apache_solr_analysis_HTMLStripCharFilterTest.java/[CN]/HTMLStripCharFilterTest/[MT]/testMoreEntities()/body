{
  String test="&nbsp; &lt;junk/&gt; &nbsp; &#33; &#64; and &#8217;";
  String gold="  <junk/>   ! @ and ???";
  Set<String> set=new HashSet<String>();
  set.add("reserved");
  Reader reader=new HTMLStripCharFilter(CharReader.get(new StringReader(test)),set);
  StringBuilder builder=new StringBuilder();
  int ch=0;
  while ((ch=reader.read()) != -1) {
    builder.append((char)ch);
  }
  String result=builder.toString();
  assertTrue(result + " is not equal to " + gold,result.equals(gold) == true);
}
