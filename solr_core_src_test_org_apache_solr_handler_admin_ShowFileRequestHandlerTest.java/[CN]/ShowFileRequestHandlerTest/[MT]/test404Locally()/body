{
  initCore("solrconfig.xml","schema.xml");
  try {
    SolrCore core=h.getCore();
    SolrQueryResponse rsp=new SolrQueryResponse();
    core.execute(core.getRequestHandler("/admin/file"),req("file","does-not-exist-404.txt"),rsp);
    assertNotNull("no exception in response",rsp.getException());
    assertTrue("wrong type of exception: " + rsp.getException().getClass(),rsp.getException() instanceof SolrException);
    assertEquals(404,((SolrException)rsp.getException()).code());
  }
 catch (  Exception e) {
    assertNull("Should not have caught an exception",e);
  }
}
