{
  SolrClient client=getSolrClient();
  QueryRequest request=new QueryRequest(params("file","schema.xml"));
  request.setPath("/admin/file");
  final AtomicBoolean readFile=new AtomicBoolean();
  request.setResponseParser(new ResponseParser(){
    @Override public String getWriterType(){
      return "mock";
    }
    @Override public NamedList<Object> processResponse(    InputStream body,    String encoding){
      try {
        if (body.read() >= 0)         readFile.set(true);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
      return null;
    }
    @Override public NamedList<Object> processResponse(    Reader reader){
      throw new UnsupportedOperationException("TODO unimplemented");
    }
  }
);
  client.request(request);
  assertTrue(readFile.get());
}
