{
  QueryScorer scorer=new QueryScorer(query,request.getParams().getFieldBool(fieldName,HighlightParams.FIELD_MATCH,false) ? fieldName : null);
  scorer.setExpandMultiTermQuery(request.getParams().getBool(HighlightParams.HIGHLIGHT_MULTI_TERM,true));
  scorer.setUsePayloads(request.getParams().getFieldBool(fieldName,HighlightParams.PAYLOADS,request.getSearcher().getLeafReader().getFieldInfos().fieldInfo(fieldName).hasPayloads()));
  return scorer;
}
