{
  Analyzer analyzer=new ShingleAnalyzerWrapper(new WhitespaceAnalyzer(),2);
  searcher=setUpSearcher(analyzer);
  BooleanQuery q=new BooleanQuery();
  TokenStream ts=analyzer.tokenStream("content",new StringReader("test sentence"));
  final Token reusableToken=new Token();
  for (Token nextToken=ts.next(reusableToken); nextToken != null; nextToken=ts.next(reusableToken)) {
    String termText=nextToken.term();
    q.add(new TermQuery(new Term("content",termText)),BooleanClause.Occur.SHOULD);
  }
  Hits hits=searcher.search(q);
  int[] ranks=new int[]{1,2,0};
  compareRanks(hits,ranks);
}
