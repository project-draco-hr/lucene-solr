{
  Analyzer analyzer=new ShingleAnalyzerWrapper(new WhitespaceAnalyzer(),2);
  searcher=setUpSearcher(analyzer);
  PhraseQuery q=new PhraseQuery();
  TokenStream ts=analyzer.tokenStream("content",new StringReader("this sentence"));
  Token token;
  int j=-1;
  while ((token=ts.next()) != null) {
    j+=token.getPositionIncrement();
    String termText=new String(token.termBuffer(),0,token.termLength());
    q.add(new Term("content",termText),j);
  }
  Hits hits=searcher.search(q);
  int[] ranks=new int[]{0};
  compareRanks(hits,ranks);
}
