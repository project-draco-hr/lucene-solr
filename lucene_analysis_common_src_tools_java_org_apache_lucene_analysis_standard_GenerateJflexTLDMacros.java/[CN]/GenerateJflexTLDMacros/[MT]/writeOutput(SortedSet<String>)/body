{
  final DateFormat dateFormat=DateFormat.getDateTimeInstance(DateFormat.FULL,DateFormat.FULL,Locale.ROOT);
  dateFormat.setTimeZone(TimeZone.getTimeZone("UTC"));
  final Writer writer=new OutputStreamWriter(new FileOutputStream(outputFile),StandardCharsets.UTF_8);
  try {
    writer.write(APACHE_LICENSE);
    writer.write("// Generated from IANA Root Zone Database <");
    writer.write(tldFileURL.toString());
    writer.write(">");
    writer.write(NL);
    if (tldFileLastModified > 0L) {
      writer.write("// file version from ");
      writer.write(dateFormat.format(tldFileLastModified));
      writer.write(NL);
    }
    writer.write("// generated on ");
    writer.write(dateFormat.format(new Date()));
    writer.write(NL);
    writer.write("// by ");
    writer.write(this.getClass().getName());
    writer.write(NL);
    writer.write(NL);
    writer.write("ASCIITLD = \".\" (");
    writer.write(NL);
    boolean isFirst=true;
    for (    String ASCIITLD : ASCIITLDs) {
      writer.write("\t");
      if (isFirst) {
        isFirst=false;
        writer.write("  ");
      }
 else {
        writer.write("| ");
      }
      writer.write(getCaseInsensitiveRegex(ASCIITLD));
      writer.write(NL);
    }
    writer.write("\t) \".\"?   // Accept trailing root (empty) domain");
    writer.write(NL);
    writer.write(NL);
  }
  finally {
    writer.close();
  }
}
