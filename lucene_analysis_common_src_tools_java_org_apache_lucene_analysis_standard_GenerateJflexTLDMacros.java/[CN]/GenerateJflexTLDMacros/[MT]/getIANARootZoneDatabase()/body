{
  final SortedSet<String> TLDs=new TreeSet<String>();
  final URLConnection connection=tldFileURL.openConnection();
  connection.setUseCaches(false);
  connection.addRequestProperty("Cache-Control","no-cache");
  connection.connect();
  tldFileLastModified=connection.getLastModified();
  BufferedReader reader=new BufferedReader(new InputStreamReader(connection.getInputStream(),"US-ASCII"));
  try {
    String line;
    while (null != (line=reader.readLine())) {
      Matcher matcher=TLD_PATTERN_1.matcher(line);
      if (matcher.matches()) {
        TLDs.add(matcher.group(1).toLowerCase(Locale.US));
      }
 else {
        matcher=TLD_PATTERN_2.matcher(line);
        if (matcher.matches()) {
          TLDs.add(matcher.group(1).toLowerCase(Locale.US));
        }
      }
    }
  }
  finally {
    reader.close();
  }
  return TLDs;
}
