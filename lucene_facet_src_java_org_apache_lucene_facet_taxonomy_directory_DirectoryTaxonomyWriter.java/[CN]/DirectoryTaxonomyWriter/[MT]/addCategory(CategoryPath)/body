{
  ensureOpen();
  int res=cache.get(categoryPath);
  if (res < 0) {
synchronized (this) {
      res=findCategory(categoryPath);
      if (res < 0) {
        res=internalAddCategory(categoryPath,categoryPath.length());
      }
    }
  }
  return res;
}
