{
  if (map != null) {
    return map;
  }
  addDone();
  try (DataInputStream in=new DataInputStream(new BufferedInputStream(Files.newInputStream(tmpfile)))){
    map=new int[in.readInt()];
    for (int i=0; i < map.length; i++) {
      int origordinal=in.readInt();
      int newordinal=in.readInt();
      map[origordinal]=newordinal;
    }
  }
   Files.delete(tmpfile);
  return map;
}
