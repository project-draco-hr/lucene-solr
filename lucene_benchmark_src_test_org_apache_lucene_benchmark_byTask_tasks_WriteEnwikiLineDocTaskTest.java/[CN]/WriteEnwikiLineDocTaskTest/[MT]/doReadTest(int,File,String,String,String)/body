{
  InputStream in=new FileInputStream(file);
  BufferedReader br=new BufferedReader(new InputStreamReader(in,"utf-8"));
  try {
    String line=br.readLine();
    WriteLineDocTaskTest.assertHeaderLine(line);
    for (int i=0; i < n; i++) {
      line=br.readLine();
      assertNotNull(line);
      String[] parts=line.split(Character.toString(WriteLineDocTask.SEP));
      int numExpParts=expBody == null ? 2 : 3;
      assertEquals(numExpParts,parts.length);
      assertEquals(expTitle,parts[0]);
      assertEquals(expDate,parts[1]);
      if (expBody != null) {
        assertEquals(expBody,parts[2]);
      }
    }
    assertNull(br.readLine());
  }
  finally {
    br.close();
  }
}
