{
  InputStream is=new BufferedInputStream(new FileInputStream(file),BUFFER_SIZE);
  String fileName=file.getName();
  int idx=fileName.lastIndexOf('.');
  int type=OTHER;
  if (idx != -1) {
    Integer typeInt=(Integer)extensionToType.get(fileName.substring(idx));
    if (typeInt != null) {
      type=typeInt.intValue();
    }
  }
switch (type) {
case BZIP:
    try {
      is=csFactory.createCompressorInputStream("bzip2",is);
    }
 catch (    CompressorException e) {
      IOException ioe=new IOException(e.getMessage());
      ioe.initCause(e);
      throw ioe;
    }
  break;
default :
}
return is;
}
