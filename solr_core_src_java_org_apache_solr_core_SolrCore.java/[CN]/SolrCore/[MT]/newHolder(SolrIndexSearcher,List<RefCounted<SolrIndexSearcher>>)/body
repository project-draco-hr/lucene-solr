{
  RefCounted<SolrIndexSearcher> holder=new RefCounted<SolrIndexSearcher>(newSearcher){
    @Override public void close(){
      try {
synchronized (searcherLock) {
          if (refcount.get() > 0)           return;
          searcherList.remove(this);
        }
        resource.close();
      }
 catch (      Exception e) {
        SolrException.log(log,"Error closing searcher:" + this,e);
      }
    }
  }
;
  holder.incref();
  return holder;
}
