{
synchronized (searcherLock) {
    if (realtimeSearcher != null) {
      realtimeSearcher.incref();
      return realtimeSearcher;
    }
  }
  openSearcherLock.lock();
  try {
synchronized (searcherLock) {
      if (realtimeSearcher != null) {
        realtimeSearcher.incref();
        return realtimeSearcher;
      }
    }
    return openNewSearcher(true,true);
  }
  finally {
    openSearcherLock.unlock();
  }
}
