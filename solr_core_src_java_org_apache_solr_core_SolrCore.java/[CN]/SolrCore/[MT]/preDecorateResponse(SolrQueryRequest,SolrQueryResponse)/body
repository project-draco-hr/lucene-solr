{
  final NamedList<Object> responseHeader=new SimpleOrderedMap<Object>();
  rsp.add("responseHeader",responseHeader);
  NamedList<Object> toLog=rsp.getToLog();
  toLog.add("webapp",req.getContext().get("webapp"));
  toLog.add("path",req.getContext().get("path"));
  final SolrParams params=req.getParams();
  final String lpList=params.get(CommonParams.LOG_PARAMS_LIST);
  if (lpList == null) {
    toLog.add("params","{" + req.getParamString() + "}");
  }
 else   if (lpList.length() > 0) {
    toLog.add("params","{" + params.toFilteredSolrParams(Arrays.asList(lpList.split(","))).toString() + "}");
  }
}
