{
  RefCounted<SolrIndexSearcher> holder=new RefCounted<SolrIndexSearcher>(newSearcher){
    @Override public void close(){
      try {
synchronized (searcherLock) {
          if (refcount.get() > 0)           return;
          _searchers.remove(this);
        }
        resource.close();
      }
 catch (      IOException e) {
        log.error("Error closing searcher:" + SolrException.toStr(e));
      }
    }
  }
;
  holder.incref();
  return holder;
}
