{
synchronized (searcherLock) {
    RefCounted<SolrIndexSearcher> searcherRef=getNewestSearcher(false);
    String indexDir;
    try {
      if (searcherRef == null) {
        return dataDir + "index/";
      }
      SolrIndexSearcher searcher=searcherRef.get();
      indexDir=searcher.getIndexDir() == null ? dataDir + "index/" : searcher.getIndexDir();
    }
  finally {
      if (searcherRef != null) {
        searcherRef.decref();
      }
    }
    return indexDir;
  }
}
