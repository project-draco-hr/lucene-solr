{
  Class<? extends UpdateHandler> clazz=null;
  if (msg == null)   msg="SolrCore Object";
  try {
    clazz=getResourceLoader().findClass(className,UpdateHandler.class);
    Constructor justSolrCoreCon=null;
    Constructor[] cons=clazz.getConstructors();
    for (    Constructor con : cons) {
      Class[] types=con.getParameterTypes();
      if (types.length == 2 && types[0] == SolrCore.class && types[1] == UpdateHandler.class) {
        return (UpdateHandler)con.newInstance(this,updateHandler);
      }
    }
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Error Instantiating " + msg + ", "+ className+ " could not find proper constructor for "+ UpdateHandler.class.getName());
  }
 catch (  SolrException e) {
    throw e;
  }
catch (  Exception e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Error Instantiating " + msg + ", "+ className+ " failed to instantiate "+ UpdateHandler.class.getName(),e);
  }
}
