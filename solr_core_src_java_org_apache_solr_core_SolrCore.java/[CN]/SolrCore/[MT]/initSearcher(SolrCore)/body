{
  RefCounted<IndexWriter> iwRef=null;
  if (prev != null) {
    iwRef=prev.getUpdateHandler().getSolrCoreState().getIndexWriter(null);
    if (iwRef != null) {
      final IndexWriter iw=iwRef.get();
      final SolrCore core=this;
      newReaderCreator=new Callable<DirectoryReader>(){
        @Override public DirectoryReader call() throws Exception {
          return indexReaderFactory.newReader(iw,core);
        }
      }
;
    }
  }
  try {
    getSearcher(false,false,null,true);
  }
  finally {
    newReaderCreator=null;
    if (iwRef != null) {
      iwRef.decref();
    }
  }
}
