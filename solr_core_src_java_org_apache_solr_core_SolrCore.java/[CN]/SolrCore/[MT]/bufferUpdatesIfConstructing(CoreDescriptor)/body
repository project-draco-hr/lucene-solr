{
  final CoreContainer cc=coreDescriptor.getCoreContainer();
  if (cc != null && cc.isZooKeeperAware()) {
    if (reqHandlers.get("/get") == null) {
      log.warn("WARNING: RealTimeGetHandler is not registered at /get. " + "SolrCloud will always use full index replication instead of the more efficient PeerSync method.");
    }
    final ClusterState clusterState=cc.getZkController().getClusterState();
    final DocCollection collection=clusterState.getCollection(coreDescriptor.getCloudDescriptor().getCollectionName());
    final Slice slice=collection.getSlice(coreDescriptor.getCloudDescriptor().getShardId());
    if (slice.getState() == Slice.State.CONSTRUCTION) {
      getUpdateHandler().getUpdateLog().bufferUpdates();
    }
  }
}
