{
  Class<? extends T> clazz=null;
  if (msg == null)   msg="SolrCore Object";
  try {
    clazz=getResourceLoader().findClass(className,cast);
    Constructor[] cons=clazz.getConstructors();
    for (    Constructor con : cons) {
      Class[] types=con.getParameterTypes();
      if (types.length == 1 && types[0] == SolrCore.class) {
        return (T)con.newInstance(this);
      }
    }
    return getResourceLoader().newInstance(className,cast);
  }
 catch (  SolrException e) {
    throw e;
  }
catch (  Exception e) {
    if (null != e.getCause() && e.getCause() instanceof SolrException) {
      SolrException inner=(SolrException)e.getCause();
      throw inner;
    }
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Error Instantiating " + msg + ", "+ className+ " failed to instantiate "+ cast.getName(),e);
  }
}
