{
  if (newMap != null) {
    if (name != null) {
      String[] nameParts=DOT_PATTERN.split(name);
      Map<String,Object> nameResolveLevel=currentLevelMap(nameParts,rootNamespace,false).map;
      nameResolveLevel.put(nameParts[nameParts.length - 1],newMap);
    }
 else {
      for (      Map.Entry<String,Object> entry : newMap.entrySet()) {
        String[] keyParts=DOT_PATTERN.split(entry.getKey());
        Map<String,Object> currentLevel=rootNamespace;
        currentLevel=currentLevelMap(keyParts,currentLevel,false).map;
        currentLevel.put(keyParts[keyParts.length - 1],entry.getValue());
      }
    }
  }
}
