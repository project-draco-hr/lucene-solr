{
  if (writeLock == null) {
    Lock writeLock=directory.makeLock("write.lock");
    if (!writeLock.obtain())     throw new IOException("Index locked for write: " + writeLock);
    this.writeLock=writeLock;
  }
  doDelete(docNum);
}
