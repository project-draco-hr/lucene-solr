{
  ShardRequest s=new ShardRequest();
  s.params=new ModifiableSolrParams(rb.req.getParams());
  s.purpose|=ShardRequest.PURPOSE_GET_MLT_RESULTS;
  s.purpose|=ShardRequest.PURPOSE_PRIVATE;
  s.params.remove(ShardParams.SHARDS);
  s.params.set(MoreLikeThisComponent.DIST_DOC_ID,key);
  s.params.set(CommonParams.START,0);
  int mltcount=s.params.getInt(MoreLikeThisParams.DOC_COUNT,20);
  s.params.set(CommonParams.ROWS,mltcount);
  s.params.remove(CommonParams.FL);
  String id=rb.req.getSchema().getUniqueKeyField().getName();
  s.params.set(CommonParams.FL,"score," + id);
  s.params.set("sort","score desc");
  s.params.set(CommonParams.Q,q);
  s.shards=ShardRequest.ALL_SHARDS;
  return s;
}
