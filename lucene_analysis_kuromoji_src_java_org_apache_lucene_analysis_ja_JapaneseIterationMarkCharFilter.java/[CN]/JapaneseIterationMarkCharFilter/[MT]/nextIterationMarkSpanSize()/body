{
  int spanSize=0;
  for (int i=bufferPosition; buffer.get(i) != -1 && isIterationMark((char)(buffer.get(i))); i++) {
    spanSize++;
  }
  if (bufferPosition - spanSize < iterationMarkSpanEndPosition) {
    spanSize=bufferPosition - iterationMarkSpanEndPosition;
  }
  return spanSize;
}
