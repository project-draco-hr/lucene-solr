{
  Sampler sampler=new RandomSampler(params,random());
  StandardFacetsAccumulator sfa=new SamplingAccumulator(sampler,fsp,r,tr);
  FacetsCollector fcWithSampling=FacetsCollector.create(sfa);
  IndexSearcher s=new IndexSearcher(r);
  s.search(new MatchAllDocsQuery(),fcWithSampling);
  return fcWithSampling.getFacetResults().get(0);
}
