{
  if (validate) {
    for (    AtomicReader reader : readers) {
      reader.checkIntegrity();
    }
  }
  mergeState=new MergeState(readers,segmentInfo,infoStream,checkAbort);
  directory=dir;
  this.codec=segmentInfo.getCodec();
  this.context=context;
  this.fieldInfosBuilder=new FieldInfos.Builder(fieldNumbers);
  mergeState.segmentInfo.setDocCount(setDocMaps());
}
