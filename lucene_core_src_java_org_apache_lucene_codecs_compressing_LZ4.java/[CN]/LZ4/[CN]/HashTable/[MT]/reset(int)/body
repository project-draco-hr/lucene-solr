{
  final int bitsPerOffset=PackedInts.bitsRequired(len - LAST_LITERALS);
  final int bitsPerOffsetLog=32 - Integer.numberOfLeadingZeros(bitsPerOffset - 1);
  hashLog=MEMORY_USAGE + 3 - bitsPerOffsetLog;
  if (hashTable == null || hashTable.size() < 1 << hashLog || hashTable.getBitsPerValue() < bitsPerOffset) {
    hashTable=PackedInts.getMutable(1 << hashLog,bitsPerOffset,PackedInts.DEFAULT);
  }
 else {
    hashTable.clear();
  }
}
