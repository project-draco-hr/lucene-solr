{
  Map<String,Map<String,String>> map=new HashMap<String,Map<String,String>>();
  NamedList fieldMappings=(NamedList)args.get("fieldMappings");
  for (int i=0; i < fieldMappings.size(); i++) {
    NamedList type=(NamedList)fieldMappings.get("type",i);
    String typeName=(String)type.get("name");
    Map<String,String> subMap=new HashMap<String,String>();
    for (int j=0; j < type.size() - 1; j++) {
      NamedList mapping=(NamedList)type.get("mapping",j + 1);
      String featureName=(String)mapping.get("feature");
      String mappedFieldName=(String)mapping.get("field");
      subMap.put(featureName,mappedFieldName);
    }
    map.put(typeName,subMap);
  }
  return map;
}
