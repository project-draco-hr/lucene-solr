{
  if (feedId == null)   throw new StorageException("can not get Service for feed -- feed id is null");
  if (LOG.isInfoEnabled())   LOG.info("Retrieving Service for feed -- feed id: " + feedId);
  Query query=this.container.query();
  query.constrain(ServerBaseFeed.class);
  query.descend("feed").descend("id").constrain(feedId);
  ObjectSet<ServerBaseFeed> feed=query.execute();
  if (feed.size() > 1)   throw new StorageException("Query for feed id " + feedId + " returns more than one result");
  if (feed.size() < 1)   throw new StorageException("can not find feed for given feed id -- " + feedId);
  ServerBaseFeed result=feed.next();
  if (LOG.isInfoEnabled())   LOG.info("Retrieved Service for feed -- serviceType: " + result.getServiceType());
  return result.getServiceType();
}
