{
  System.setProperty("coreRootDirectory","myCoreRoot" + File.separator);
  System.setProperty("hostPort","8888");
  System.setProperty("shareSchema","false");
  System.setProperty("socketTimeout","220");
  System.setProperty("connTimeout","200");
  File testSrcRoot=new File(SolrTestCaseJ4.TEST_HOME());
  FileUtils.copyFile(new File(testSrcRoot,"solr-50-all.xml"),new File(solrHome,"solr.xml"));
  NodeConfig cfg=SolrXmlConfig.fromSolrHome(loader,solrHome.getAbsolutePath());
  assertThat(cfg.getCoreRootDirectory(),containsString("myCoreRoot"));
  assertEquals("solr host port",8888,cfg.getCloudConfig().getSolrHostPort());
  assertEquals("schema cache",false,cfg.hasSchemaCache());
}
