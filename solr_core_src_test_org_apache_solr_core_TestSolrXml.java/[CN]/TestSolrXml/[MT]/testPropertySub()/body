{
  System.setProperty("coreRootDirectory","myCoreRoot");
  System.setProperty("hostPort","8888");
  System.setProperty("shareSchema","newShareSchema");
  System.setProperty("socketTimeout","220");
  System.setProperty("connTimeout","200");
  File testSrcRoot=new File(SolrTestCaseJ4.TEST_HOME());
  FileUtils.copyFile(new File(testSrcRoot,"solr-50-all.xml"),new File(solrHome,"solr.xml"));
  SolrResourceLoader loader=null;
  try {
    loader=new SolrResourceLoader(solrHome.getAbsolutePath());
    ConfigSolr cfg=ConfigSolr.fromSolrHome(loader,solrHome.getAbsolutePath());
    assertEquals("Did not find expected value",cfg.get(ConfigSolr.CfgProp.SOLR_COREROOTDIRECTORY,null),"myCoreRoot");
    assertEquals("Did not find expected value",cfg.getInt(ConfigSolr.CfgProp.SOLR_HOSTPORT,0),8888);
    assertEquals("Did not find expected value",cfg.get(ConfigSolr.CfgProp.SOLR_SHARESCHEMA,null),"newShareSchema");
  }
  finally {
    loader.close();
  }
}
