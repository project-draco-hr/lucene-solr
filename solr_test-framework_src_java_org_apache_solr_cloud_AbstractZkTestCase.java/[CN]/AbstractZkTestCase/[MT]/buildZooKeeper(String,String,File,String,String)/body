{
  SolrZkClient zkClient=new SolrZkClient(zkHost,AbstractZkTestCase.TIMEOUT);
  zkClient.makePath("/solr",false,true);
  zkClient.close();
  zkClient=new SolrZkClient(zkAddress,AbstractZkTestCase.TIMEOUT);
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("configName","conf1");
  final ZkNodeProps zkProps=new ZkNodeProps(props);
  zkClient.makePath("/collections/collection1",ZkStateReader.toJSON(zkProps),CreateMode.PERSISTENT,true);
  zkClient.makePath("/collections/collection1/shards",CreateMode.PERSISTENT,true);
  zkClient.makePath("/collections/control_collection",ZkStateReader.toJSON(zkProps),CreateMode.PERSISTENT,true);
  zkClient.makePath("/collections/control_collection/shards",CreateMode.PERSISTENT,true);
  putConfig(zkClient,solrhome,config);
  putConfig(zkClient,solrhome,schema);
  putConfig(zkClient,solrhome,"solrconfig.xml");
  putConfig(zkClient,solrhome,"stopwords.txt");
  putConfig(zkClient,solrhome,"protwords.txt");
  putConfig(zkClient,solrhome,"currency.xml");
  putConfig(zkClient,solrhome,"open-exchange-rates.json");
  putConfig(zkClient,solrhome,"mapping-ISOLatin1Accent.txt");
  putConfig(zkClient,solrhome,"old_synonyms.txt");
  putConfig(zkClient,solrhome,"synonyms.txt");
  zkClient.close();
}
