{
  while (input.incrementToken()) {
    final char term[]=termAttribute.termBuffer();
    final int length=termAttribute.termLength();
    final int posIncrement=posIncAttribute.getPositionIncrement();
    if (posIncrement > 0) {
      previous.clear();
    }
    boolean duplicate=(posIncrement == 0 && previous.get(term,0,length) != null);
    char saved[]=new char[length];
    System.arraycopy(term,0,saved,0,length);
    previous.put(saved,Boolean.TRUE);
    if (!duplicate) {
      return true;
    }
  }
  return false;
}
