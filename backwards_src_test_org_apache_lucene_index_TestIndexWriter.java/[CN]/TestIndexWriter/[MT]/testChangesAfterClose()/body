{
  Directory dir=new RAMDirectory();
  IndexWriter writer=null;
  writer=new IndexWriter(dir,new WhitespaceAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
  addDoc(writer);
  writer.close();
  try {
    addDoc(writer);
    fail("did not hit AlreadyClosedException");
  }
 catch (  AlreadyClosedException e) {
  }
}
