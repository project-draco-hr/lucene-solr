{
  final ReaderContext context=searcher.getTopReaderContext();
  final int weightDocFreq;
  final PerReaderTermState termState;
  if (perReaderTermState == null || perReaderTermState.topReaderContext != context) {
    termState=PerReaderTermState.build(context,term,true);
    weightDocFreq=docFreq == -1 ? termState.docFreq() : docFreq;
  }
 else {
    termState=this.perReaderTermState;
    weightDocFreq=docFreq;
  }
  return new TermWeight(searcher,termState,weightDocFreq);
}
