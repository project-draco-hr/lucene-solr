{
  DoubleMetaphoneFilterFactory factory=new DoubleMetaphoneFilterFactory();
  factory.init(new HashMap<String,String>());
  TokenStream inputStream=new IterTokenStream("international");
  TokenStream filteredStream=factory.create(inputStream);
  assertEquals(DoubleMetaphoneFilter.class,filteredStream.getClass());
  Token token=filteredStream.next(new Token());
  assertEquals(13,token.termLength());
  assertEquals("international",new String(token.termBuffer(),0,token.termLength()));
  token=filteredStream.next(new Token());
  assertEquals(4,token.termLength());
  assertEquals("ANTR",new String(token.termBuffer(),0,token.termLength()));
  assertNull(filteredStream.next(new Token()));
}
