{
  long loIndex=index;
  long step=1;
  long hiIndex;
  int hiDoc;
  do {
    hiIndex=index + step;
    if (hiIndex >= docIDsLength) {
      hiIndex=docIDsLength;
      hiDoc=NO_MORE_DOCS;
      break;
    }
    hiDoc=(int)docIds.get(hiIndex);
    if (hiDoc >= target) {
      break;
    }
    step<<=1;
  }
 while (true);
  while (loIndex + 1 < hiIndex) {
    final long midIndex=(loIndex + 1 + hiIndex) >>> 1;
    final int midDoc=(int)docIds.get(midIndex);
    if (midDoc >= target) {
      hiIndex=midIndex;
      hiDoc=midDoc;
    }
 else {
      loIndex=midIndex;
    }
  }
  index=(int)hiIndex;
  return doc=hiDoc;
}
