{
  int upto=ordinals.length;
  for (int i=0; i < upto; i++) {
    int ordinal=ordinals.ints[i];
    int parent=taxoWriter.getParent(ordinal);
    while (parent > 0) {
      if (ordinalPolicy.shouldAdd(parent)) {
        ordinals.ints[ordinals.length++]=parent;
      }
      parent=taxoWriter.getParent(parent);
    }
  }
  return ordinalsEncoder.encode(ordinals);
}
