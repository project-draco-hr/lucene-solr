{
  int upto=ordinals.length;
  if (ordinalPolicy == OrdinalPolicy.ALL_PARENTS) {
    for (int i=0; i < upto; i++) {
      int ordinal=ordinals.ints[i];
      int parent=taxoWriter.getParent(ordinal);
      while (parent > 0) {
        ordinals.ints[ordinals.length++]=parent;
        parent=taxoWriter.getParent(parent);
      }
    }
  }
  return ordinalsEncoder.encode(ordinals);
}
