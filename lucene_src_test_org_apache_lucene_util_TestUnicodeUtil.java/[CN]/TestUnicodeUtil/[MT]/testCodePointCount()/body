{
  final Random r=newRandom();
  BytesRef utf8=new BytesRef(20);
  for (int i=0; i < 50000 * _TestUtil.getRandomMultiplier(); i++) {
    final String s=_TestUtil.randomUnicodeString(r);
    UnicodeUtil.UTF16toUTF8(s,0,s.length(),utf8);
    assertEquals(s.codePointCount(0,s.length()),UnicodeUtil.codePointCount(utf8));
  }
}
