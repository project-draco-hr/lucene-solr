{
  SpanQuery q1=new SpanTermQuery(new Term("gender","female"));
  SpanQuery q2=new SpanTermQuery(new Term("first","james"));
  SpanQuery q=new SpanOrQuery(q1,new FieldMaskingSpanQuery(q2,"gender"));
  check(q,new int[]{0,1,2,3,4});
  Spans span=q.getSpans(new SlowMultiReaderWrapper(searcher.getIndexReader()));
  assertEquals(true,span.next());
  assertEquals(s(0,0,1),s(span));
  assertEquals(true,span.next());
  assertEquals(s(1,0,1),s(span));
  assertEquals(true,span.next());
  assertEquals(s(1,1,2),s(span));
  assertEquals(true,span.next());
  assertEquals(s(2,0,1),s(span));
  assertEquals(true,span.next());
  assertEquals(s(2,1,2),s(span));
  assertEquals(true,span.next());
  assertEquals(s(2,2,3),s(span));
  assertEquals(true,span.next());
  assertEquals(s(3,0,1),s(span));
  assertEquals(true,span.next());
  assertEquals(s(4,0,1),s(span));
  assertEquals(true,span.next());
  assertEquals(s(4,1,2),s(span));
  assertEquals(false,span.next());
}
