{
  SpanQuery q1=new SpanTermQuery(new Term("first","sally"));
  SpanQuery q2=new SpanTermQuery(new Term("first","james"));
  SpanQuery qA=new SpanOrQuery(q1,q2);
  SpanQuery qB=new FieldMaskingSpanQuery(qA,"id");
  check(qA,new int[]{0,1,2,4});
  check(qB,new int[]{0,1,2,4});
  Spans spanA=qA.getSpans(new SlowMultiReaderWrapper(searcher.getIndexReader()));
  Spans spanB=qB.getSpans(new SlowMultiReaderWrapper(searcher.getIndexReader()));
  while (spanA.next()) {
    assertTrue("spanB not still going",spanB.next());
    assertEquals("spanA not equal spanB",s(spanA),s(spanB));
  }
  assertTrue("spanB still going even tough spanA is done",!(spanB.next()));
}
