{
  parameters=new ModifiableSolrParams();
  parameters.add("langid.fl","name");
  parameters.add("langid.map.lcmap","jp:s zh:cjk ko:cjk");
  parameters.add("langid.enforceSchema","true");
  liProcessor=createLangIdProcessor(parameters);
  assertEquals("test_no",liProcessor.getMappedField("test","no"));
  assertEquals("test_en",liProcessor.getMappedField("test","en"));
  assertEquals("test_s",liProcessor.getMappedField("test","jp"));
  assertEquals("test_cjk",liProcessor.getMappedField("test","zh"));
  assertEquals("test_cjk",liProcessor.getMappedField("test","ko"));
  parameters.add("langid.map.pattern","text_(.*?)_field");
  parameters.add("langid.map.replace","$1_{lang}Text");
  liProcessor=createLangIdProcessor(parameters);
  assertEquals("title_noText",liProcessor.getMappedField("text_title_field","no"));
  assertEquals("body_svText",liProcessor.getMappedField("text_body_field","sv"));
}
