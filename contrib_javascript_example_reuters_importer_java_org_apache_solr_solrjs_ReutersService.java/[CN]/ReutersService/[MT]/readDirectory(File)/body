{
  File[] files=directory.listFiles(new FileFilter(){
    public boolean accept(    File pathname){
      if (pathname.getName().contains(".sgm")) {
        return true;
      }
      return false;
    }
  }
);
  if (files.length == 0) {
    throw new RuntimeException("Directory doesn't contain sgml files!");
  }
  for (int i=0; i < files.length; i++) {
    File file=files[i];
    readFile(file);
  }
}
