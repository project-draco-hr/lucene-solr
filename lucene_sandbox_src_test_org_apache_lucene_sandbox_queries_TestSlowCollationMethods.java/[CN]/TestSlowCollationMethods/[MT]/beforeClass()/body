{
  final Locale locale=LuceneTestCase.randomLocale(random());
  collator=Collator.getInstance(locale);
  collator.setStrength(Collator.IDENTICAL);
  collator.setDecomposition(Collator.NO_DECOMPOSITION);
  numDocs=1000 * RANDOM_MULTIPLIER;
  dir=newDirectory();
  RandomIndexWriter iw=new RandomIndexWriter(random(),dir);
  for (int i=0; i < numDocs; i++) {
    Document doc=new Document();
    String value=TestUtil.randomUnicodeString(random());
    Field field=newStringField("field",value,Field.Store.YES);
    doc.add(field);
    Field dvField=new SortedDocValuesField("field",new BytesRef(value));
    doc.add(dvField);
    iw.addDocument(doc);
  }
  splitDoc=TestUtil.randomUnicodeString(random());
  reader=iw.getReader();
  iw.close();
  searcher=newSearcher(reader);
}
