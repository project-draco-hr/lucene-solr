{
  SortField sf=new SortField("field",new FieldComparatorSource(){
    @Override public FieldComparator<String> newComparator(    String fieldname,    int numHits,    int sortPos,    boolean reversed){
      return new SlowCollatedStringComparator(numHits,fieldname,collator);
    }
  }
);
  final Sort sort=new Sort(sf);
  final TopFieldDocs docs1=searcher.search(TermRangeQuery.newStringRange("field",null,splitDoc,true,true),null,numDocs / (1 + random().nextInt(4)),sort);
  doCheckSorting(docs1);
  final TopFieldDocs docs2=searcher.search(TermRangeQuery.newStringRange("field",splitDoc,null,true,true),null,numDocs / (1 + random().nextInt(4)),sort);
  doCheckSorting(docs2);
  final TopFieldDocs docs=TopDocs.merge(sort,numDocs / (1 + random().nextInt(4)),new TopFieldDocs[]{docs1,docs2});
  doCheckSorting(docs);
}
