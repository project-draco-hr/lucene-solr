{
  this.context=context;
  server=new Server(port);
  if (System.getProperty("jetty.insecurerandom") != null)   server.setSessionIdManager(new HashSessionIdManager(new Random()));
  server.setStopAtShutdown(true);
  Context root=new Context(server,context,Context.SESSIONS);
  root.addServlet(Servlet404.class,"/*");
  dispatchFilter=root.addFilter(SolrDispatchFilter.class,"*",Handler.REQUEST);
}
