{
  if (!hasMore) {
    return false;
  }
  if (tp.docID() > docId) {
    return false;
  }
  if (tp.docID() < docId) {
    if (tp.advance(docId) == DocIdSetIterator.NO_MORE_DOCS) {
      this.hasMore=false;
      return false;
    }
    if (tp.docID() != docId) {
      return false;
    }
  }
  tp.nextPosition();
  if (!tp.hasPayload()) {
    return false;
  }
  BytesRef br=tp.getPayload();
  if (br == null || br.length == 0) {
    return false;
  }
  this.payloadLength=br.length;
  if (this.payloadLength > this.buffer.length) {
    this.buffer=new byte[this.payloadLength * 2 + 1];
  }
  System.arraycopy(br.bytes,br.offset,this.buffer,0,payloadLength);
  return true;
}
