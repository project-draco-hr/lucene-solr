{
  NamedList status=null;
  String state=null;
  String message=null;
  NamedList r;
  while (maxCounter-- > 0) {
    r=sendRequest(params);
    status=(NamedList)r.get("status");
    state=(String)status.get("state");
    message=(String)status.get("msg");
    if (state.equals("completed") || state.equals("failed"))     return (String)status.get("msg");
    try {
      Thread.sleep(1000);
    }
 catch (    InterruptedException e) {
    }
  }
  return message;
}
