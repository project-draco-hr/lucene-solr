{
  DirectoryTaxonomyReader taxoReader=new DirectoryTaxonomyReader(taxoDir);
  SimpleFacetsCollector fc=new SimpleFacetsCollector();
  IndexSearcher searcher=newSearcher(reader);
  searcher.search(new MatchAllDocsQuery(),fc);
  SumFloatAssociationFacets facets=new SumFloatAssociationFacets(taxoReader,new FacetsConfig(),fc);
  assertEquals("Wrong count for category 'a'!",50f,facets.getSpecificValue("float","a").floatValue(),0.00001);
  assertEquals("Wrong count for category 'b'!",10f,facets.getSpecificValue("float","b").floatValue(),0.00001);
  taxoReader.close();
}
