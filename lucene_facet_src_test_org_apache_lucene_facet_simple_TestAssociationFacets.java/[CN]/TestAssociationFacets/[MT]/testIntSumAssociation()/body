{
  TaxonomyReader taxoReader=new DirectoryTaxonomyReader(taxoDir);
  SimpleFacetsCollector fc=new SimpleFacetsCollector();
  IndexSearcher searcher=newSearcher(reader);
  searcher.search(new MatchAllDocsQuery(),fc);
  SumIntAssociationFacets facets=new SumIntAssociationFacets(taxoReader,new FacetsConfig(),fc);
  assertEquals("Wrong count for category 'a'!",200,facets.getSpecificValue("int","a").intValue());
  assertEquals("Wrong count for category 'b'!",150,facets.getSpecificValue("int","b").intValue());
  taxoReader.close();
}
