{
  this.params=req.getParams();
  schema=req.getSchema();
  this.config=config;
  this.processor=processor;
  templateAdd=new AddUpdateCommand();
  templateAdd.allowDups=false;
  templateAdd.overwriteCommitted=true;
  templateAdd.overwritePending=true;
  if (params.getBool(UpdateParams.OVERWRITE,true)) {
    templateAdd.allowDups=false;
    templateAdd.overwriteCommitted=true;
    templateAdd.overwritePending=true;
  }
 else {
    templateAdd.allowDups=true;
    templateAdd.overwriteCommitted=false;
    templateAdd.overwritePending=false;
  }
  autoDetectParser=new AutoDetectParser(config);
  this.factory=factory;
}
