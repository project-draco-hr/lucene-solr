{
  Path tmp=createTempDir("downConfigNewPlace");
  Path configSet=TEST_PATH().resolve("configsets");
  Path srcPathCheck=configSet.resolve("cloud-subdirs").resolve("conf");
  copyConfigUp(configSet,"cloud-subdirs","downconfig1");
  verifyZkLocalPathsMatch(srcPathCheck,"/configs/downconfig1");
  String[] args=new String[]{"-confname","downconfig1","-confdir",tmp.toAbsolutePath().toString(),"-zkHost",zkAddr};
  SolrCLI.ConfigSetDownloadTool downTool=new SolrCLI.ConfigSetDownloadTool();
  int res=downTool.runTool(SolrCLI.processCommandLineArgs(SolrCLI.joinCommonAndToolOptions(downTool.getOptions()),args));
  assertEquals("Download should have succeeded.",0,res);
  verifyZkLocalPathsMatch(Paths.get(tmp.toAbsolutePath().toString(),"conf"),"/configs/downconfig1");
}
