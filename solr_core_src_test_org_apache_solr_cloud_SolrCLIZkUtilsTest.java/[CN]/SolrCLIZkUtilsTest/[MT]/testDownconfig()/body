{
  Path tmp=createTempDir("downConfigNewPlace");
  Path src=TEST_PATH().resolve("configsets").resolve("cloud-subdirs").resolve("conf");
  Path configSet=TEST_PATH().resolve("configsets").resolve("cloud-subdirs");
  copyConfigUp(src,configSet,"downconfig1");
  verifyZkLocalPathsMatch(src,"/configs/downconfig1");
  String[] args=new String[]{"-confname","downconfig1","-confdir",tmp.toAbsolutePath().toString(),"-zkHost",zkAddr};
  SolrCLI.ConfigSetDownloadTool downTool=new SolrCLI.ConfigSetDownloadTool();
  int res=downTool.runTool(SolrCLI.processCommandLineArgs(SolrCLI.joinCommonAndToolOptions(downTool.getOptions()),args));
  assertEquals("Download should have succeeded.",0,res);
  verifyZkLocalPathsMatch(Paths.get(tmp.toAbsolutePath().toString(),"conf"),"/configs/downconfig1");
}
