{
  SolrParams solrParams=sreq.getParams();
  String urlField=solrParams.get(CarrotParams.URL_FIELD_NAME,"url");
  String titleField=solrParams.get(CarrotParams.TITLE_FIELD_NAME,"title");
  String snippetField=solrParams.get(CarrotParams.SNIPPET_FIELD_NAME,titleField);
  if (StringUtils.isBlank(snippetField)) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,CarrotParams.SNIPPET_FIELD_NAME + " must not be blank.");
  }
  return Sets.newHashSet(urlField,titleField,snippetField,idFieldName);
}
