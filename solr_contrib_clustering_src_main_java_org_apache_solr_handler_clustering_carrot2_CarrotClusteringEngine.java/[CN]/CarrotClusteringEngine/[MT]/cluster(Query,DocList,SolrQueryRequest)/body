{
  SolrIndexSearcher searcher=sreq.getSearcher();
  SolrDocumentList solrDocList;
  try {
    Map<SolrDocument,Integer> docIds=new HashMap<SolrDocument,Integer>(docList.size());
    solrDocList=SolrPluginUtils.docListToSolrDocumentList(docList,searcher,getFieldsToLoad(sreq),docIds);
    return cluster(query,solrDocList,docIds,sreq);
  }
 catch (  IOException e) {
    throw new SolrException(ErrorCode.SERVER_ERROR,e);
  }
}
