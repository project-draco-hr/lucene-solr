{
  String name=op.getStr(NAME);
  String clz=info.options.contains(REQUIRE_CLASS) ? op.getStr(CLASS_NAME) : op.getStr(CLASS_NAME,null);
  op.getMap(PluginInfo.DEFAULTS,null);
  op.getMap(PluginInfo.INVARIANTS,null);
  op.getMap(PluginInfo.APPENDS,null);
  if (op.hasError())   return overlay;
  if (!verifyClass(op,clz,info.clazz))   return overlay;
  if (overlay.getNamedPlugins(info.tag).containsKey(name)) {
    if (isCeate) {
      op.addError(StrUtils.formatString(" ''{0}'' already exists . Do an ''{1}'' , if you want to change it ",name,"update-" + info.tag.toLowerCase(Locale.ROOT)));
      return overlay;
    }
 else {
      return overlay.addNamedPlugin(op.getDataMap(),info.tag);
    }
  }
 else {
    if (isCeate) {
      return overlay.addNamedPlugin(op.getDataMap(),info.tag);
    }
 else {
      op.addError(StrUtils.formatString(" ''{0}'' does not exist . Do an ''{1}'' , if you want to create it ",name,"create-" + info.tag.toLowerCase(Locale.ROOT)));
      return overlay;
    }
  }
}
