{
  setWt(req,CommonParams.JSON);
  String httpMethod=(String)req.getContext().get("httpMethod");
  Command command=new Command(req,rsp,httpMethod);
  if ("POST".equals(httpMethod)) {
    if (configEditing_disabled)     throw new SolrException(SolrException.ErrorCode.FORBIDDEN," solrconfig editing is not enabled");
    try {
      command.handlePOST();
    }
  finally {
      RequestHandlerUtils.addExperimentalFormatWarning(rsp);
    }
  }
 else {
    command.handleGET();
  }
}
