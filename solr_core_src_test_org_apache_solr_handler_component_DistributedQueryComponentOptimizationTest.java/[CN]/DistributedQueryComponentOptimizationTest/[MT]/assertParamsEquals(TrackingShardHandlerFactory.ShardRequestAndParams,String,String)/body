{
  if (requestAndParams == null)   return;
  int expectedCount=values.length;
  String[] params=requestAndParams.params.getParams(paramName);
  if (expectedCount > 0 && (params == null || params.length == 0)) {
    fail("Expected non-zero number of '" + paramName + "' parameters in request");
  }
  Set<String> requestedFields=new HashSet<>();
  for (  String p : params) {
    requestedFields.addAll(StrUtils.splitSmart(p,','));
  }
  assertEquals("Number of requested fields do not match with expectations",expectedCount,requestedFields.size());
  for (  String field : values) {
    if (!requestedFields.contains(field)) {
      fail("Field " + field + " not found in param: "+ paramName+ " request had "+ paramName+ "="+ requestedFields);
    }
  }
}
