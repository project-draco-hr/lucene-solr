{
  Directory dir2=newFSDirectory(_TestUtil.getTempDir("2BDocs2"));
  IndexWriter iw=new IndexWriter(dir2,new IndexWriterConfig(TEST_VERSION_CURRENT,null));
  Document doc=new Document();
  for (int i=0; i < 262143; i++) {
    iw.addDocument(doc);
  }
  iw.close();
  DirectoryReader ir=DirectoryReader.open(dir);
  DirectoryReader ir2=DirectoryReader.open(dir2);
  IndexReader subReaders[]=new IndexReader[8192];
  Arrays.fill(subReaders,ir);
  subReaders[subReaders.length - 1]=ir2;
  MultiReader mr=new MultiReader(subReaders);
  assertEquals(Integer.MAX_VALUE,mr.maxDoc());
  assertEquals(Integer.MAX_VALUE,mr.numDocs());
  ir.close();
  ir2.close();
  dir2.close();
}
