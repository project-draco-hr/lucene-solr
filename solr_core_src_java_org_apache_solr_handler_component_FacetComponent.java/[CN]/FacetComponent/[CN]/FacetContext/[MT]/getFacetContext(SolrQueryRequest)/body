{
  FacetContext result=(FacetContext)req.getContext().get(FACET_CONTEXT_KEY);
  if (null == result) {
    throw new IllegalStateException("FacetContext can't be accessed before it's initialized in request context");
  }
  return result;
}
