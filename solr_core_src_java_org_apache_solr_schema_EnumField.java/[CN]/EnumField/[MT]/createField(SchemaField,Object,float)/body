{
  final boolean indexed=field.indexed();
  final boolean stored=field.stored();
  final boolean docValues=field.hasDocValues();
  if (!indexed && !stored && !docValues) {
    if (log.isTraceEnabled())     log.trace("Ignoring unindexed/unstored field: " + field);
    return null;
  }
  final Integer intValue=stringValueToIntValue(value.toString());
  if (intValue == null || intValue.equals(DEFAULT_VALUE))   throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unknown value for enum field: " + value.toString());
  String intAsString=intValue.toString();
  final FieldType newType=new FieldType();
  newType.setTokenized(field.isTokenized());
  newType.setStored(field.stored());
  newType.setOmitNorms(field.omitNorms());
  newType.setIndexOptions(field.indexed() ? getIndexOptions(field,intAsString) : IndexOptions.NONE);
  newType.setStoreTermVectors(field.storeTermVector());
  newType.setStoreTermVectorOffsets(field.storeTermOffsets());
  newType.setStoreTermVectorPositions(field.storeTermPositions());
  newType.setStoreTermVectorPayloads(field.storeTermPayloads());
  newType.setNumericType(FieldType.NumericType.INT);
  newType.setNumericPrecisionStep(DEFAULT_PRECISION_STEP);
  final org.apache.lucene.document.Field f;
  f=new org.apache.lucene.document.IntField(field.getName(),intValue.intValue(),newType);
  f.setBoost(boost);
  return f;
}
