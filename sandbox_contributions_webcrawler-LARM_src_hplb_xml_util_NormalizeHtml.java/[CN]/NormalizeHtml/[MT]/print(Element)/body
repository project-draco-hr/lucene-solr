{
  String tagName=elm.getTagName();
  AttributeList attrs=elm.attributes();
  boolean isHtmlElm=isHtmlElm(tagName);
  boolean isEmpty=(elm.getFirstChild() == null);
  boolean isHtmlEmptyElm=(tagName == HTML.AREA || tagName == HTML.BASE || tagName == HTML.BR || tagName == HTML.COL || tagName == HTML.FRAME || tagName == HTML.HR || tagName == HTML.IMG || tagName == HTML.LINK || tagName == HTML.META || tagName == HTML.PARAM);
  if (isHtmlElm)   tagName=tagName.toUpperCase();
  out.print("<" + tagName);
  int len=attrs.getLength();
  for (int i=0; i < len; i++) {
    print(attrs.item(i),isHtmlElm);
  }
  if (isEmpty && !isHtmlEmptyElm)   out.print("/");
  out.print(">");
  if (isEmpty)   return;
  NodeIterator iter=elm.getChildNodes();
  while (iter.toNext() != null) {
    printNode(iter.getCurrent());
  }
  out.print("</" + tagName + ">");
}
