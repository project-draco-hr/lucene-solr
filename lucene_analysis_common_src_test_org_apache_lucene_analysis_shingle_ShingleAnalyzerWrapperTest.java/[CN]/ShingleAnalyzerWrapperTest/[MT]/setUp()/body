{
  super.setUp();
  analyzer=new ShingleAnalyzerWrapper(new MockAnalyzer(random(),MockTokenizer.WHITESPACE,false),2);
  directory=newDirectory();
  IndexWriter writer=new IndexWriter(directory,new IndexWriterConfig(TEST_VERSION_CURRENT,analyzer));
  Document doc;
  doc=new Document();
  doc.add(new TextField("content","please divide this sentence into shingles",Field.Store.YES));
  writer.addDocument(doc);
  doc=new Document();
  doc.add(new TextField("content","just another test sentence",Field.Store.YES));
  writer.addDocument(doc);
  doc=new Document();
  doc.add(new TextField("content","a sentence which contains no test",Field.Store.YES));
  writer.addDocument(doc);
  writer.close();
  reader=DirectoryReader.open(directory);
  searcher=new IndexSearcher(reader);
}
