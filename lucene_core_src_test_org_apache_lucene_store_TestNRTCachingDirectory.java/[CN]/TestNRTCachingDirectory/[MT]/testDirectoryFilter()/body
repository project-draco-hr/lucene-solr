{
  Directory dir=new NRTCachingDirectory(newFSDirectory(_TestUtil.getTempDir("foo")),2.0,25.0);
  String name="file";
  try {
    dir.createOutput(name,newIOContext(random())).close();
    assertTrue(dir.fileExists(name));
    assertTrue(Arrays.asList(dir.listAll()).contains(name));
  }
  finally {
    dir.close();
  }
}
