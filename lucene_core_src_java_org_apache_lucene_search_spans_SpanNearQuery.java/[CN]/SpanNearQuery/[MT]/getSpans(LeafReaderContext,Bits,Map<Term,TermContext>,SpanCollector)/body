{
  Terms terms=context.reader().terms(field);
  if (terms == null) {
    return null;
  }
  ArrayList<Spans> subSpans=new ArrayList<>(clauses.size());
  SpanCollector subSpanCollector=inOrder ? collector.bufferedCollector() : collector;
  for (  SpanQuery seq : clauses) {
    Spans subSpan=seq.getSpans(context,acceptDocs,termContexts,subSpanCollector);
    if (subSpan != null) {
      subSpans.add(subSpan);
    }
 else {
      return null;
    }
  }
  return (!inOrder) ? new NearSpansUnordered(this,subSpans) : new NearSpansOrdered(this,subSpans,collector);
}
