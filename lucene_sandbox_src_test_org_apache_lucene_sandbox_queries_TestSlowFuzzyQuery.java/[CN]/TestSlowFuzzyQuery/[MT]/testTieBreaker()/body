{
  Directory directory=newDirectory();
  RandomIndexWriter writer=new RandomIndexWriter(random(),directory);
  addDoc("a123456",writer);
  addDoc("c123456",writer);
  addDoc("d123456",writer);
  addDoc("e123456",writer);
  Directory directory2=newDirectory();
  RandomIndexWriter writer2=new RandomIndexWriter(random(),directory2);
  addDoc("a123456",writer2);
  addDoc("b123456",writer2);
  addDoc("b123456",writer2);
  addDoc("b123456",writer2);
  addDoc("c123456",writer2);
  addDoc("f123456",writer2);
  IndexReader ir1=writer.getReader();
  IndexReader ir2=writer2.getReader();
  MultiReader mr=new MultiReader(ir1,ir2);
  IndexSearcher searcher=newSearcher(mr);
  SlowFuzzyQuery fq=new SlowFuzzyQuery(new Term("field","z123456"),1f,0,2);
  TopDocs docs=searcher.search(fq,2);
  assertEquals(5,docs.totalHits);
  mr.close();
  ir1.close();
  ir2.close();
  writer.shutdown();
  writer2.shutdown();
  directory.close();
  directory2.close();
}
