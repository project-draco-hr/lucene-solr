{
  if (isReadOnly()) {
    return this;
  }
  final FieldInfos roFis=new FieldInfos((FieldNumberBiMap)null);
  for (  FieldInfo fieldInfo : this) {
    FieldInfo clone=fieldInfo.clone();
    roFis.putInternal(clone);
    roFis.hasVectors|=clone.storeTermVector;
    roFis.hasProx|=clone.isIndexed && clone.indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS) >= 0;
    roFis.hasFreq|=clone.isIndexed && clone.indexOptions != IndexOptions.DOCS_ONLY;
  }
  return roFis;
}
