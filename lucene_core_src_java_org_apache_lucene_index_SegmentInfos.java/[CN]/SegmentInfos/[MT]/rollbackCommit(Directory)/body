{
  if (pendingSegnOutput != null) {
    IOUtils.closeWhileHandlingException(pendingSegnOutput);
    pendingSegnOutput=null;
    final String segmentFileName=IndexFileNames.fileNameFromGeneration(IndexFileNames.SEGMENTS,"",generation);
    IOUtils.deleteFilesIgnoringExceptions(dir,segmentFileName);
  }
}
