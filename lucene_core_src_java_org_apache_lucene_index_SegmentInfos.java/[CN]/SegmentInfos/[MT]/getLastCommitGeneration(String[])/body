{
  long max=-1;
  for (  String file : files) {
    if (file.startsWith(IndexFileNames.SEGMENTS) && !file.equals(IndexFileNames.OLD_SEGMENTS_GEN)) {
      long gen=generationFromSegmentsFileName(file);
      if (gen > max) {
        max=gen;
      }
    }
  }
  return max;
}
