{
  DirectoryReader reader=null;
  Directory dir=directoryFactory.get(path,DirContext.DEFAULT,config.lockType);
  try {
    reader=core.getIndexReaderFactory().newReader(dir,core);
  }
 catch (  Exception e) {
    directoryFactory.release(dir);
    throw new SolrException(ErrorCode.SERVER_ERROR,"Error opening Reader",e);
  }
  return reader;
}
