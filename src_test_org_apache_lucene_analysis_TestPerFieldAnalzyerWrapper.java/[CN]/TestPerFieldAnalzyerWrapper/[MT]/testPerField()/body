{
  String text="Qwerty";
  PerFieldAnalyzerWrapper analyzer=new PerFieldAnalyzerWrapper(new WhitespaceAnalyzer());
  analyzer.addAnalyzer("special",new SimpleAnalyzer());
  TokenStream tokenStream=analyzer.tokenStream("field",new StringReader(text));
  final Token reusableToken=new Token();
  Token nextToken=tokenStream.next(reusableToken);
  assertEquals("WhitespaceAnalyzer does not lowercase","Qwerty",nextToken.term());
  tokenStream=analyzer.tokenStream("special",new StringReader(text));
  nextToken=tokenStream.next(reusableToken);
  assertEquals("SimpleAnalyzer lowercases","qwerty",nextToken.term());
}
