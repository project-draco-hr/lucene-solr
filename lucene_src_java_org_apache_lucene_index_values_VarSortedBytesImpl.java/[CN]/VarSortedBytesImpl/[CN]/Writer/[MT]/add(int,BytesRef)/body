{
  if (bytes.length == 0)   return;
  if (docID >= docToEntry.length) {
    int[] newArray=new int[ArrayUtil.oversize(1 + docID,RamUsageEstimator.NUM_BYTES_OBJECT_REF)];
    System.arraycopy(docToEntry,0,newArray,0,docToEntry.length);
    Arrays.fill(newArray,docToEntry.length,newArray.length,-1);
    bytesUsed.addAndGet((newArray.length - docToEntry.length) * RamUsageEstimator.NUM_BYTES_INT);
    docToEntry=newArray;
  }
  final int e=hash.add(bytes);
  docToEntry[docID]=e < 0 ? (-e) - 1 : e;
}
