{
  final LongTrieTokenStream stream=new LongTrieTokenStream(value,precisionStep);
  stream.setUseNewAPI(false);
  Token tok=new Token();
  for (int shift=0; shift < 64; shift+=precisionStep) {
    assertNotNull("New token is available",tok=stream.next(tok));
    assertEquals("Term is correctly encoded",TrieUtils.longToPrefixCoded(value,shift),tok.term());
  }
  assertNull("No more tokens available",stream.next(tok));
}
