{
  for (int i=0; i < positions.length; i++) {
    final int pos=posEnum.nextPosition();
    assertEquals(positions[i].pos,pos);
    if (positions[i].payload != null) {
      assertTrue(posEnum.hasPayload());
      if (LuceneTestCase.random.nextInt(3) < 2) {
        final BytesRef otherPayload=posEnum.getPayload();
        assertTrue("expected=" + positions[i].payload.toString() + " got="+ otherPayload.toString(),positions[i].payload.equals(otherPayload));
      }
    }
 else {
      assertFalse(posEnum.hasPayload());
    }
  }
}
