{
  String masterUrl=buildUrl(masterJetty.getLocalPort(),context) + "/" + DEFAULT_TEST_CORENAME+ "/replication?command="+ ReplicationHandler.CMD_RESTORE_STATUS;
  final Pattern pException=Pattern.compile("<str name=\"exception\">(.*?)</str>");
  InputStream stream=null;
  try {
    URL url=new URL(masterUrl);
    stream=url.openStream();
    String response=IOUtils.toString(stream,"UTF-8");
    if (pException.matcher(response).find()) {
      fail("Failed to complete restore action");
    }
    if (response.contains("<str name=\"status\">success</str>")) {
      return true;
    }
 else     if (response.contains("<str name=\"status\">failed</str>")) {
      fail("Restore Failed");
    }
    stream.close();
  }
  finally {
    IOUtils.closeQuietly(stream);
  }
  return false;
}
