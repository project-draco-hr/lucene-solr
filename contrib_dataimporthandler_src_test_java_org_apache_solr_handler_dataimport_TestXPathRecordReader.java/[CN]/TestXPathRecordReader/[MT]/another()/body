{
  String xml="<root>\n" + "       <contenido id=\"10097\" idioma=\"cat\">\n" + "       <antetitulo></antetitulo>\n"+ "       <titulo>\n"+ "               This is my title\n"+ "       </titulo>\n"+ "       <resumen>\n"+ "               This is my summary\n"+ "       </resumen>\n"+ "       <texto>\n"+ "               This is the body of my text\n"+ "       </texto>\n"+ "       </contenido>\n"+ "</root>";
  XPathRecordReader rr=new XPathRecordReader("/root/contenido");
  rr.addField("id","/root/contenido/@id",false);
  rr.addField("title","/root/contenido/titulo",false);
  rr.addField("resume","/root/contenido/resumen",false);
  rr.addField("text","/root/contenido/texto",false);
  List<Map<String,Object>> l=rr.getAllRecords(new StringReader(xml));
  Assert.assertEquals(1,l.size());
  Map<String,Object> m=l.get(0);
  Assert.assertEquals("10097",m.get("id").toString().trim());
  Assert.assertEquals("This is my title",m.get("title").toString().trim());
  Assert.assertEquals("This is my summary",m.get("resume").toString().trim());
  Assert.assertEquals("This is the body of my text",m.get("text").toString().trim());
}
