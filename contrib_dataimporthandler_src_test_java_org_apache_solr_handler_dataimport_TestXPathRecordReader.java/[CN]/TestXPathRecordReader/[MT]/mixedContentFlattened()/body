{
  String xml="<xhtml:p xmlns:xhtml=\"http://xhtml.com/\" >This text is \n" + "  <xhtml:b>bold</xhtml:b> and this text is \n" + "  <xhtml:u>underlined</xhtml:u>!\n"+ "</xhtml:p>";
  XPathRecordReader rr=new XPathRecordReader("/p");
  rr.addField("p","/p",false,XPathRecordReader.FLATTEN);
  List<Map<String,Object>> l=rr.getAllRecords(new StringReader(xml));
  Map<String,Object> row=l.get(0);
  Assert.assertEquals("This text is \n" + "  bold and this text is \n" + "  underlined!",((String)row.get("p")).trim());
}
