{
  if ((flags & PostingsEnum.POSITIONS) >= PostingsEnum.POSITIONS) {
    if (!hasPos) {
      return null;
    }
    if (terms[termOrd] instanceof LowFreqTerm) {
      final LowFreqTerm term=((LowFreqTerm)terms[termOrd]);
      final int[] postings=term.postings;
      final byte[] payloads=term.payloads;
      return new LowFreqPostingsEnum(liveDocs,hasOffsets,hasPayloads).reset(postings,payloads);
    }
 else {
      final HighFreqTerm term=(HighFreqTerm)terms[termOrd];
      return new HighFreqPostingsEnum(liveDocs,hasOffsets).reset(term.docIDs,term.freqs,term.positions,term.payloads);
    }
  }
  if (terms[termOrd] instanceof LowFreqTerm) {
    final int[] postings=((LowFreqTerm)terms[termOrd]).postings;
    if (hasFreq) {
      if (hasPos) {
        int posLen;
        if (hasOffsets) {
          posLen=3;
        }
 else {
          posLen=1;
        }
        if (hasPayloads) {
          posLen++;
        }
        return new LowFreqDocsEnum(liveDocs,posLen).reset(postings);
      }
 else {
        return new LowFreqDocsEnumNoPos(liveDocs).reset(postings);
      }
    }
 else {
      return new LowFreqDocsEnumNoTF(liveDocs).reset(postings);
    }
  }
 else {
    final HighFreqTerm term=(HighFreqTerm)terms[termOrd];
    return new HighFreqDocsEnum(liveDocs).reset(term.docIDs,term.freqs);
  }
}
