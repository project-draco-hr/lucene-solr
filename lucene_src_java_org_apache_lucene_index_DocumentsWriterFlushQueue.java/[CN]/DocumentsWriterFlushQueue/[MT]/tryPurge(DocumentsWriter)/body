{
  if (purgeLock.tryLock()) {
    try {
      innerPurge(writer);
    }
  finally {
      purgeLock.unlock();
    }
  }
}
