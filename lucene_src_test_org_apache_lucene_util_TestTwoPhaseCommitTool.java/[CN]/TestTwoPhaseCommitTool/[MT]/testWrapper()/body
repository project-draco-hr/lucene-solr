{
  TwoPhaseCommitImpl impl=new TwoPhaseCommitImpl(false,false,false);
  HashMap<String,String> commitData=new HashMap<String,String>();
  TwoPhaseCommitWrapper wrapper=new TwoPhaseCommitWrapper(impl,commitData);
  wrapper.prepareCommit();
  assertSame(commitData,impl.prepareCommitData);
  wrapper.prepareCommit(new HashMap<String,String>());
  assertSame(commitData,impl.prepareCommitData);
  wrapper.commit();
  assertSame(commitData,impl.commitData);
  wrapper.commit(new HashMap<String,String>());
  assertSame(commitData,impl.commitData);
}
