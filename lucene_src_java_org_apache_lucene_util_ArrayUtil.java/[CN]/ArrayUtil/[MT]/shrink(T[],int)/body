{
  final int newSize=getShrinkSize(array.length,targetSize,RamUsageEstimator.NUM_BYTES_OBJECT_REF);
  if (newSize != array.length) {
    @SuppressWarnings("unchecked") final T[] newArray=(T[])Array.newInstance(array.getClass().getComponentType(),newSize);
    System.arraycopy(array,0,newArray,0,newSize);
    return newArray;
  }
 else   return array;
}
