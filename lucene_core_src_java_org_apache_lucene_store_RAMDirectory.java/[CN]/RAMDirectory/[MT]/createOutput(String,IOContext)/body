{
  ensureOpen();
  RAMFile file=newRAMFile();
  if (fileMap.putIfAbsent(name,file) != null) {
    throw new FileAlreadyExistsException(name);
  }
  return new RAMOutputStream(name,file,true);
}
