{
  RegexpQuery regex=new RegexpQuery(new Term("field","worl."));
  SpanQuery wrappedquery=new SpanOrQuery(new SpanMultiTermQueryWrapper<>(regex));
  MemoryIndex mindex=randomMemoryIndex();
  mindex.addField("field",new MockAnalyzer(random()).tokenStream("field","hello there"));
  assertEquals(0,mindex.search(wrappedquery),0.00001f);
  TestUtil.checkReader(mindex.createSearcher().getIndexReader());
}
