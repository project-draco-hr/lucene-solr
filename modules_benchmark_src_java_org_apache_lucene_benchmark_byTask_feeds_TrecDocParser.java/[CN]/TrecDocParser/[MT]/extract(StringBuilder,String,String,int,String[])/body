{
  int k1=buf.indexOf(startTag);
  if (k1 >= 0 && (maxPos < 0 || k1 < maxPos)) {
    k1+=startTag.length();
    int k2=buf.indexOf(endTag,k1);
    if (k2 >= 0 && (maxPos < 0 || k2 < maxPos)) {
      if (noisePrefixes != null) {
        for (        String noise : noisePrefixes) {
          int k1a=buf.indexOf(noise,k1);
          if (k1a >= 0 && k1a < k2) {
            k1=k1a + noise.length();
          }
        }
      }
      return buf.substring(k1,k2).trim();
    }
  }
  return null;
}
