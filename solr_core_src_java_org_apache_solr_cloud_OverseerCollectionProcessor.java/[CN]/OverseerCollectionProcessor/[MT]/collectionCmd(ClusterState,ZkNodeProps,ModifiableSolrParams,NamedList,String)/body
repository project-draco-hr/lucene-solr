{
  log.info("Executing Collection Cmd : " + params);
  String collectionName=message.getStr("name");
  DocCollection coll=clusterState.getCollection(collectionName);
  for (  Map.Entry<String,Slice> entry : coll.getSlicesMap().entrySet()) {
    Slice slice=entry.getValue();
    sliceCmd(clusterState,params,stateMatcher,slice);
  }
  ShardResponse srsp;
  do {
    srsp=shardHandler.takeCompletedOrError();
    if (srsp != null) {
      processResponse(results,srsp);
    }
  }
 while (srsp != null);
}
