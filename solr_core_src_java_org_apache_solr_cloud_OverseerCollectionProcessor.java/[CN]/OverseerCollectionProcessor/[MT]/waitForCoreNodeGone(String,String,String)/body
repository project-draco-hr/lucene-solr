{
  long waitUntil=System.currentTimeMillis() + 30000;
  boolean deleted=false;
  while (System.currentTimeMillis() < waitUntil) {
    Thread.sleep(100);
    deleted=zkStateReader.getClusterState().getCollection(collectionName).getSlice(shard).getReplica(replicaName) == null;
    if (deleted)     break;
  }
  return deleted;
}
