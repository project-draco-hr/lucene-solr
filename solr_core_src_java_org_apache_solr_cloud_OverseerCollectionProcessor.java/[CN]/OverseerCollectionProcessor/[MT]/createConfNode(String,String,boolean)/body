{
  if (configName != null) {
    String collDir=ZkStateReader.COLLECTIONS_ZKNODE + "/" + coll;
    log.info("creating collections conf node {} ",collDir);
    byte[] data=ZkStateReader.toJSON(makeMap(ZkController.CONFIGNAME_PROP,configName));
    if (zkStateReader.getZkClient().exists(collDir,true)) {
      zkStateReader.getZkClient().setData(collDir,data,true);
    }
 else {
      zkStateReader.getZkClient().makePath(collDir,data,true);
    }
  }
 else {
    if (isLegacyCloud) {
      log.warn("Could not obtain config name");
    }
 else {
      throw new SolrException(ErrorCode.BAD_REQUEST,"Unable to get config name");
    }
  }
}
