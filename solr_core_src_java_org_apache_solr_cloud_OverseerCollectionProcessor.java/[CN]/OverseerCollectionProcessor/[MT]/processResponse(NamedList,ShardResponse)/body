{
  Throwable e=srsp.getException();
  if (e != null) {
    log.error("Error from shard: " + srsp.getShard(),e);
    SimpleOrderedMap failure=(SimpleOrderedMap)results.get("failure");
    if (failure == null) {
      failure=new SimpleOrderedMap();
      results.add("failure",failure);
    }
    failure.add(srsp.getNodeName(),e.getClass().getName() + ":" + e.getMessage());
  }
 else {
    SimpleOrderedMap success=(SimpleOrderedMap)results.get("success");
    if (success == null) {
      success=new SimpleOrderedMap();
      results.add("success",success);
    }
    success.add(srsp.getNodeName(),srsp.getSolrResponse().getResponse());
  }
}
