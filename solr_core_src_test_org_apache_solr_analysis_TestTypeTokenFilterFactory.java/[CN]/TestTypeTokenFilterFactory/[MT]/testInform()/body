{
  ResourceLoader loader=new SolrResourceLoader(null,null);
  TypeTokenFilterFactory factory=new TypeTokenFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("types","stoptypes-1.txt");
  args.put("enablePositionIncrements","true");
  factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  factory.init(args);
  factory.inform(loader);
  Set<String> types=factory.getStopTypes();
  assertTrue("types is null and it shouldn't be",types != null);
  assertTrue("types Size: " + types.size() + " is not: "+ 2,types.size() == 2);
  assertTrue("enablePositionIncrements was set to true but not correctly parsed",factory.isEnablePositionIncrements());
  factory=new TypeTokenFilterFactory();
  args.put("types","stoptypes-1.txt, stoptypes-2.txt");
  args.put("enablePositionIncrements","false");
  args.put("useWhitelist","true");
  factory.init(args);
  factory.inform(loader);
  types=factory.getStopTypes();
  assertTrue("types is null and it shouldn't be",types != null);
  assertTrue("types Size: " + types.size() + " is not: "+ 4,types.size() == 4);
  assertTrue("enablePositionIncrements was set to false but not correctly parsed",!factory.isEnablePositionIncrements());
}
