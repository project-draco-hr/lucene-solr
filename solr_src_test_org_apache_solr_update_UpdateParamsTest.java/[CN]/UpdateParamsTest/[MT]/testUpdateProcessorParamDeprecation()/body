{
  SolrCore core=h.getCore();
  XmlUpdateRequestHandler handler=new XmlUpdateRequestHandler();
  handler.init(null);
  MapSolrParams params=new MapSolrParams(new HashMap<String,String>());
  params.getMap().put(UpdateParams.UPDATE_CHAIN_DEPRECATED,"nonexistant");
  SolrQueryResponse rsp=new SolrQueryResponse();
  SolrQueryRequestBase req=new SolrQueryRequestBase(core,params){
  }
;
  try {
    handler.handleRequestBody(req,rsp);
    assertFalse("Faulty update.processor parameter (deprecated but should work) not causing an error - i.e. it is not detected",true);
  }
 catch (  Exception e) {
    assertEquals("Got wrong exception while testing update.chain",e.getMessage(),"unknown UpdateRequestProcessorChain: nonexistant");
  }
  params.getMap().remove(UpdateParams.UPDATE_CHAIN_DEPRECATED);
  params.getMap().put(UpdateParams.UPDATE_CHAIN,"nonexistant");
  req.setParams(params);
  try {
    handler.handleRequestBody(req,rsp);
    assertFalse("Faulty update.chain parameter not causing an error - i.e. it is not detected",true);
  }
 catch (  Exception e) {
    assertEquals("Got wrong exception while testing update.chain",e.getMessage(),"unknown UpdateRequestProcessorChain: nonexistant");
  }
}
