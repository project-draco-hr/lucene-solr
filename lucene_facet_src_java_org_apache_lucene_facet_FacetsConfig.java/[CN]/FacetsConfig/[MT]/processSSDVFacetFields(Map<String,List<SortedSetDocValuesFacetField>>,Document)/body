{
  for (  Map.Entry<String,List<SortedSetDocValuesFacetField>> ent : byField.entrySet()) {
    String indexFieldName=ent.getKey();
    for (    SortedSetDocValuesFacetField facetField : ent.getValue()) {
      FacetLabel cp=new FacetLabel(facetField.dim,facetField.label);
      String fullPath=pathToString(cp.components,cp.length);
      doc.add(new SortedSetDocValuesField(indexFieldName,new BytesRef(fullPath)));
      doc.add(new StringField(indexFieldName,fullPath,Field.Store.NO));
      doc.add(new StringField(indexFieldName,facetField.dim,Field.Store.NO));
    }
  }
}
