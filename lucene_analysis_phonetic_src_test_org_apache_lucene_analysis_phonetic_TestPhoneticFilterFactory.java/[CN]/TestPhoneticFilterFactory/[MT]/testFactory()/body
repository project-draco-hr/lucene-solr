{
  Map<String,String> args=new HashMap<String,String>();
  PhoneticFilterFactory ff=new PhoneticFilterFactory();
  args.put(PhoneticFilterFactory.ENCODER,"Metaphone");
  ff.init(args);
  ff.inform(new ClasspathResourceLoader(ff.getClass()));
  assertTrue(ff.getEncoder() instanceof Metaphone);
  assertTrue(ff.inject);
  args.put(PhoneticFilterFactory.INJECT,"false");
  ff.init(args);
  ff.inform(new ClasspathResourceLoader(ff.getClass()));
  assertFalse(ff.inject);
  args.put(PhoneticFilterFactory.MAX_CODE_LENGTH,"2");
  ff.init(args);
  ff.inform(new ClasspathResourceLoader(ff.getClass()));
  assertEquals(2,((Metaphone)ff.getEncoder()).getMaxCodeLen());
}
