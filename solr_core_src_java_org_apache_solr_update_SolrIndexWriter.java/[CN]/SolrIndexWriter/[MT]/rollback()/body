{
  try {
    while (true) {
      try {
        super.rollback();
      }
 catch (      ThreadInterruptedException e) {
        continue;
      }
      break;
    }
  }
  finally {
    isClosed=true;
    directoryFactory.release(getDirectory());
    numCloses.incrementAndGet();
  }
}
