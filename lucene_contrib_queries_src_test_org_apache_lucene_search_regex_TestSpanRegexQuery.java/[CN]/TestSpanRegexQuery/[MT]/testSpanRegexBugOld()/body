{
  createRAMDirectories();
  SpanRegexQuery srq=new SpanRegexQuery(new Term("field","a.*"));
  SpanRegexQuery stq=new SpanRegexQuery(new Term("field","b.*"));
  SpanNearQuery query=new SpanNearQuery(new SpanQuery[]{srq,stq},6,true);
  IndexSearcher[] arrSearcher=new IndexSearcher[2];
  arrSearcher[0]=new IndexSearcher(indexStoreA,true);
  arrSearcher[1]=new IndexSearcher(indexStoreB,true);
  MultiSearcher searcher=new MultiSearcher(arrSearcher);
  int numHits=searcher.search(query,null,1000).totalHits;
  arrSearcher[0].close();
  arrSearcher[1].close();
  assertEquals(2,numHits);
  indexStoreA.close();
  indexStoreB.close();
}
