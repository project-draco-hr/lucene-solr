{
  IndexWriterConfig iwc=createWriterConfig(config,runData,mode,commit);
  String infoStreamVal=config.get("writer.info.stream",null);
  if (infoStreamVal != null) {
    if (infoStreamVal.equals("SystemOut")) {
      iwc.setInfoStream(System.out);
    }
 else     if (infoStreamVal.equals("SystemErr")) {
      iwc.setInfoStream(System.err);
    }
 else {
      File f=new File(infoStreamVal).getAbsoluteFile();
      iwc.setInfoStream(new PrintStream(new BufferedOutputStream(new FileOutputStream(f))));
    }
  }
  IndexWriter writer=new IndexWriter(runData.getDirectory(),iwc);
  return writer;
}
