{
  IndexWriter writer=new IndexWriter(runData.getDirectory(),createWriterConfig(config,runData,mode,commit));
  String infoStreamVal=config.get("writer.info.stream",null);
  if (infoStreamVal != null) {
    if (infoStreamVal.equals("SystemOut")) {
      writer.setInfoStream(System.out);
    }
 else     if (infoStreamVal.equals("SystemErr")) {
      writer.setInfoStream(System.err);
    }
 else {
      File f=new File(infoStreamVal).getAbsoluteFile();
      writer.setInfoStream(new PrintStream(new BufferedOutputStream(new FileOutputStream(f))));
    }
  }
  return writer;
}
