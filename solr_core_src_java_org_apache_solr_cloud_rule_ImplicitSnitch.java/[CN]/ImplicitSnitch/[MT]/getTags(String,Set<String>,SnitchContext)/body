{
  if (requestedTags.contains(NODE))   ctx.getTags().put(NODE,solrNode);
  if (requestedTags.contains(HOST)) {
    Matcher hostAndPortMatcher=hostAndPortPattern.matcher(solrNode);
    if (hostAndPortMatcher.find())     ctx.getTags().put(HOST,hostAndPortMatcher.group(1));
  }
  if (requestedTags.contains(PORT)) {
    Matcher hostAndPortMatcher=hostAndPortPattern.matcher(solrNode);
    if (hostAndPortMatcher.find())     ctx.getTags().put(PORT,hostAndPortMatcher.group(2));
  }
  ModifiableSolrParams params=new ModifiableSolrParams();
  if (requestedTags.contains(CORES))   params.add(CORES,"1");
  if (requestedTags.contains(DISK))   params.add(DISK,"1");
  for (  String tag : requestedTags) {
    if (tag.startsWith(SYSPROP))     params.add(SYSPROP,tag.substring(SYSPROP.length()));
  }
  if (params.size() > 0)   ctx.invokeRemote(solrNode,params,ImplicitSnitch.class.getName(),null);
}
