{
  int dimOffset=sortedDim * bytesPerDim;
  if (ord > 0) {
    int cmp=StringHelper.compare(bytesPerDim,lastPackedValue,dimOffset,packedValue,packedValueOffset + dimOffset);
    if (cmp > 0) {
      throw new AssertionError("values out of order: last value=" + new BytesRef(lastPackedValue) + " current value="+ new BytesRef(packedValue,packedValueOffset,packedBytesLength)+ " ord="+ ord);
    }
    if (cmp == 0 && doc < lastDoc) {
      throw new AssertionError("docs out of order: last doc=" + lastDoc + " current doc="+ doc+ " ord="+ ord);
    }
  }
  System.arraycopy(packedValue,packedValueOffset,lastPackedValue,0,packedBytesLength);
  return true;
}
