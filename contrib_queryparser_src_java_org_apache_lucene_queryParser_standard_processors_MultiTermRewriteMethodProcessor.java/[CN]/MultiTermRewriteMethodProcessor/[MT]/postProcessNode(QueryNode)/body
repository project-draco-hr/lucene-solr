{
  if (node instanceof WildcardQueryNode || node instanceof ParametricRangeQueryNode || node instanceof ParametricRangeQueryNode) {
    if (!getQueryConfigHandler().hasAttribute(MultiTermRewriteMethodAttribute.class)) {
      throw new IllegalArgumentException("MultiTermRewriteMethodAttribute should be set on the QueryConfigHandler");
    }
    MultiTermQuery.RewriteMethod rewriteMethod=((MultiTermRewriteMethodAttribute)getQueryConfigHandler().getAttribute(MultiTermRewriteMethodAttribute.class)).getMultiTermRewriteMethod();
    node.setTag(MultiTermRewriteMethodAttribute.TAG_ID,rewriteMethod);
  }
  return node;
}
