{
  BooleanQuery boostedQuery=(BooleanQuery)mltquery.clone();
  if (boostFields.size() > 0) {
    BooleanQuery.Builder newQ=new BooleanQuery.Builder();
    newQ.setDisableCoord(boostedQuery.isCoordDisabled());
    newQ.setMinimumNumberShouldMatch(boostedQuery.getMinimumNumberShouldMatch());
    for (    BooleanClause clause : boostedQuery) {
      TermQuery q=(TermQuery)clause.getQuery();
      Float b=this.boostFields.get(q.getTerm().field());
      if (b != null) {
        q=(TermQuery)q.clone();
        q.setBoost(b * q.getBoost());
      }
      newQ.add(q,clause.getOccur());
    }
    boostedQuery=newQ.build();
  }
  return boostedQuery;
}
