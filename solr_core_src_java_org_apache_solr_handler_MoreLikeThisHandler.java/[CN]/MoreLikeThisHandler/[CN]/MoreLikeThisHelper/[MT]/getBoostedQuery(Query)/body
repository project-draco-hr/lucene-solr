{
  BooleanQuery boostedQuery=(BooleanQuery)mltquery;
  if (boostFields.size() > 0) {
    BooleanQuery.Builder newQ=new BooleanQuery.Builder();
    newQ.setDisableCoord(boostedQuery.isCoordDisabled());
    newQ.setMinimumNumberShouldMatch(boostedQuery.getMinimumNumberShouldMatch());
    for (    BooleanClause clause : boostedQuery) {
      Query q=clause.getQuery();
      Float b=this.boostFields.get(((TermQuery)q).getTerm().field());
      if (b != null) {
        q=new BoostQuery(q,b);
      }
      newQ.add(q,clause.getOccur());
    }
    boostedQuery=newQ.build();
  }
  return boostedQuery;
}
