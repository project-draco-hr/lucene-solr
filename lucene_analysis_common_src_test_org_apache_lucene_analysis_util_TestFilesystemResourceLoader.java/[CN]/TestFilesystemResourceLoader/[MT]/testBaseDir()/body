{
  final Path base=createTempDir("fsResourceLoaderBase");
  try {
    Writer os=Files.newBufferedWriter(base.resolve("template.txt"),StandardCharsets.UTF_8);
    try {
      os.write("foobar\n");
    }
  finally {
      IOUtils.closeWhileHandlingException(os);
    }
    ResourceLoader rl=new FilesystemResourceLoader(base);
    assertEquals("foobar",WordlistLoader.getLines(rl.openResource("template.txt"),StandardCharsets.UTF_8).get(0));
    String fullPath=base.resolve("template.txt").toAbsolutePath().toString();
    assertEquals("foobar",WordlistLoader.getLines(rl.openResource(fullPath),StandardCharsets.UTF_8).get(0));
    assertClasspathDelegation(rl);
    assertNotFound(rl);
  }
  finally {
    IOUtils.rm(base);
  }
}
