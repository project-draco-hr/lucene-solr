{
  try {
    super.close();
    if (!(streamState == State.END || streamState == State.CLOSE)) {
      fail("close() called in wrong state: " + streamState);
    }
  }
  finally {
    streamState=State.CLOSE;
  }
}
