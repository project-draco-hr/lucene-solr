{
  Document luceneDocument=cmd.getLuceneDocument();
  Term idTerm=new Term(idField.getName(),cmd.getIndexedId());
synchronized (this) {
    IndexWriter writer=solrCoreState.getIndexWriter(core);
    writer.updateDocument(idTerm,luceneDocument,core.getSchema().getAnalyzer());
    for (    Query q : dbqList) {
      writer.deleteDocuments(q);
    }
    if (ulog != null)     ulog.add(cmd,true);
  }
}
