{
  rollbackCommands.incrementAndGet();
  boolean error=true;
  try {
    log.info("start " + cmd);
    rollbackWriter();
    commitTracker.didRollback();
    softCommitTracker.didRollback();
    log.info("end_rollback");
    error=false;
  }
  finally {
    addCommandsCumulative.set(addCommandsCumulative.get() - addCommands.getAndSet(0));
    deleteByIdCommandsCumulative.set(deleteByIdCommandsCumulative.get() - deleteByIdCommands.getAndSet(0));
    deleteByQueryCommandsCumulative.set(deleteByQueryCommandsCumulative.get() - deleteByQueryCommands.getAndSet(0));
    if (error)     numErrors.incrementAndGet();
  }
}
