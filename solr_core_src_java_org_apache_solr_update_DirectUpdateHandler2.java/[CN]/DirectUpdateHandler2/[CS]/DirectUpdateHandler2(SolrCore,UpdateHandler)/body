{
  super(core,updateHandler.getUpdateLog());
  solrCoreState=core.getSolrCoreState();
  UpdateHandlerInfo updateHandlerInfo=core.getSolrConfig().getUpdateHandlerInfo();
  int docsUpperBound=updateHandlerInfo.autoCommmitMaxDocs;
  int timeUpperBound=updateHandlerInfo.autoCommmitMaxTime;
  commitTracker=new CommitTracker("Hard",core,docsUpperBound,timeUpperBound,updateHandlerInfo.openSearcher,false);
  int softCommitDocsUpperBound=updateHandlerInfo.autoSoftCommmitMaxDocs;
  int softCommitTimeUpperBound=updateHandlerInfo.autoSoftCommmitMaxTime;
  softCommitTracker=new CommitTracker("Soft",core,softCommitDocsUpperBound,softCommitTimeUpperBound,updateHandlerInfo.openSearcher,true);
  commitWithinSoftCommit=updateHandlerInfo.commitWithinSoftCommit;
  indexWriterCloseWaitsForMerges=updateHandlerInfo.indexWriterCloseWaitsForMerges;
  UpdateLog existingLog=updateHandler.getUpdateLog();
  if (this.ulog != null && this.ulog == existingLog) {
    this.ulog.init(this,core);
  }
}
