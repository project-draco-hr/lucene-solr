{
  CloudSolrServer client=createCloudClient(null);
  try {
    ModifiableSolrParams params=new ModifiableSolrParams();
    params.set("action",CollectionParams.CollectionAction.LIST.toString());
    SolrRequest request=new QueryRequest(params);
    request.setPath("/admin/collections");
    NamedList<Object> rsp=client.request(request);
    List<String> collections=(List<String>)rsp.get("collections");
    assertTrue("control_collection was not found in list",collections.contains("control_collection"));
    assertTrue(DEFAULT_COLLECTION + " was not found in list",collections.contains(DEFAULT_COLLECTION));
    assertTrue(COLLECTION_NAME + " was not found in list",collections.contains(COLLECTION_NAME));
  }
  finally {
    client.shutdown();
  }
}
