{
  this.fetcherMain=fetcherMainPrg;
  this.fetcherFrame=fetcherFrameWin;
  fetcherFrame.setRestrictTo(fetcherMain.urlScopeFilter.getRexString());
  fetcherFrame.setStartURL(defaultStartURL);
  fetcherMain.fetcher.addThreadPoolObserver(new ThreadPoolObserver(){
    public void threadUpdate(    int threadNr,    String action,    String info){
      String status=threadNr + ": " + action+ ": "+ info;
      fetcherFrame.setIdleThreadsCount(fetcherMain.fetcher.getIdleThreadsCount());
      fetcherFrame.setBusyThreadsCount(fetcherMain.fetcher.getBusyThreadsCount());
      fetcherFrame.setWorkingThreadsCount(fetcherMain.fetcher.getWorkingThreadsCount());
    }
    public void queueUpdate(    String info,    String action){
      fetcherFrame.setRequestQueueCount(fetcherMain.fetcher.getQueueSize());
    }
  }
);
  fetcherMain.monitor.addObserver(new Observer(){
    public void update(    Observable o,    Object arg){
      fetcherFrame.setFreeMem(Runtime.getRuntime().freeMemory());
      fetcherFrame.setTotalMem(Runtime.getRuntime().totalMemory());
    }
  }
);
  fetcherMain.messageHandler.addMessageQueueObserver(new Observer(){
    public void update(    Observable o,    Object arg){
      fetcherFrame.setURLsQueued(fetcherMain.messageHandler.getQueued());
    }
  }
);
  fetcherMain.messageHandler.addMessageProcessorObserver(new Observer(){
    public void update(    Observable o,    Object arg){
      if (arg == fetcherMain.urlScopeFilter) {
        fetcherFrame.setScopeFiltered(fetcherMain.urlScopeFilter.getFiltered());
      }
 else       if (arg == fetcherMain.urlVisitedFilter) {
        fetcherFrame.setVisitedFiltered(fetcherMain.urlVisitedFilter.getFiltered());
      }
 else       if (arg == fetcherMain.reFilter) {
        fetcherFrame.setURLsCaughtCount(fetcherMain.reFilter.getFiltered());
      }
 else {
        fetcherFrame.setDocsRead(fetcherMain.fetcher.getDocsRead());
      }
    }
  }
);
  fetcherFrame.addWindowListener(new WindowAdapter(){
    public void windowClosed(    WindowEvent e){
      System.out.println("window Closed");
      System.exit(0);
    }
  }
);
  fetcherFrame.addStartButtonListener((ActionListener)this);
}
