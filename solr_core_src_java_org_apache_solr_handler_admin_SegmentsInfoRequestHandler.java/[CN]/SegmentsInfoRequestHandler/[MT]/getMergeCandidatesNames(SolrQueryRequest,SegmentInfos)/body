{
  List<String> result=new ArrayList<String>();
  RefCounted<IndexWriter> refCounted=req.getCore().getSolrCoreState().getIndexWriter(req.getCore());
  try {
    IndexWriter indexWriter=refCounted.get();
    MergePolicy mp=indexWriter.getConfig().getMergePolicy();
    MergeSpecification findMerges=mp.findMerges(MergeTrigger.EXPLICIT,infos,indexWriter);
    if (findMerges != null && findMerges.merges != null && findMerges.merges.size() > 0) {
      for (      OneMerge merge : findMerges.merges) {
        for (        SegmentCommitInfo mergeSegmentInfo : merge.segments) {
          result.add(mergeSegmentInfo.info.name);
        }
      }
    }
    return result;
  }
  finally {
    refCounted.decref();
  }
}
