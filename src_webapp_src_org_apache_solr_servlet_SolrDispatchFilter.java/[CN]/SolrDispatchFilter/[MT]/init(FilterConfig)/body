{
  log.info("SolrDispatchFilter.init()");
  try {
    Context c=new InitialContext();
    String home=(String)c.lookup("java:comp/env/solr/home");
    if (home != null)     Config.setInstanceDir(home);
  }
 catch (  NoInitialContextException e) {
    log.info("JNDI not configured for Solr (NoInitialContextEx)");
  }
catch (  NamingException e) {
    log.info("No /solr/home in JNDI");
  }
  log.info("user.dir=" + System.getProperty("user.dir"));
  core=SolrCore.getSolrCore();
  parsers=new SolrRequestParsers(core,SolrConfig.config);
  log.info("SolrDispatchFilter.init() done");
}
