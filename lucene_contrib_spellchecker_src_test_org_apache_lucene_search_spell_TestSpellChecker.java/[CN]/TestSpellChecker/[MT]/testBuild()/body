{
  IndexReader r=IndexReader.open(userindex,true);
  spellChecker.clearIndex();
  addwords(r,"field1");
  int num_field1=this.numdoc();
  addwords(r,"field2");
  int num_field2=this.numdoc();
  assertEquals(num_field2,num_field1 + 1);
  assertLastSearcherOpen(4);
  checkCommonSuggestions(r);
  checkLevenshteinSuggestions(r);
  spellChecker.setStringDistance(new JaroWinklerDistance());
  spellChecker.setAccuracy(0.8f);
  checkCommonSuggestions(r);
  checkJaroWinklerSuggestions();
  spellChecker.setStringDistance(new NGramDistance(2));
  spellChecker.setAccuracy(0.5f);
  checkCommonSuggestions(r);
  checkNGramSuggestions();
  r.close();
}
