{
  RAMDirectory directory=new RAMDirectory();
  String[] values=new String[]{"1","2","3","4"};
  try {
    IndexWriter writer=new IndexWriter(directory,new WhitespaceAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
    for (int i=0; i < values.length; i++) {
      Document doc=new Document();
      doc.add(new Field(FIELD,values[i],Field.Store.YES,Field.Index.UN_TOKENIZED));
      writer.addDocument(doc);
    }
    writer.close();
    BooleanQuery booleanQuery1=new BooleanQuery();
    booleanQuery1.add(new TermQuery(new Term(FIELD,"1")),BooleanClause.Occur.SHOULD);
    booleanQuery1.add(new TermQuery(new Term(FIELD,"2")),BooleanClause.Occur.SHOULD);
    BooleanQuery query=new BooleanQuery();
    query.add(booleanQuery1,BooleanClause.Occur.MUST);
    query.add(new TermQuery(new Term(FIELD,"9")),BooleanClause.Occur.MUST_NOT);
    IndexSearcher indexSearcher=new IndexSearcher(directory);
    ScoreDoc[] hits=indexSearcher.search(query,null,1000).scoreDocs;
    assertEquals("Number of matched documents",2,hits.length);
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}
