{
  final AtomicInteger numLeaves=new AtomicInteger();
  try {
    new Gather(reader){
      @Override protected void add(      int base,      IndexReader r){
        numLeaves.incrementAndGet();
      }
    }
.run();
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
  return numLeaves.get();
}
