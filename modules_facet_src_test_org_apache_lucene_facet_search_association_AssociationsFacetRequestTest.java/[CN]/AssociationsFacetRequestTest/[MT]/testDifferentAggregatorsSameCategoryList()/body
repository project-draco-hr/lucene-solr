{
  IndexReader reader=IndexReader.open(dir,true);
  LuceneTaxonomyReader taxo=new LuceneTaxonomyReader(taxoDir);
  FacetSearchParams fsp=new FacetSearchParams();
  fsp.addFacetRequest(new AssociationIntSumFacetRequest(aint,10));
  fsp.addFacetRequest(new AssociationIntSumFacetRequest(bint,10));
  fsp.addFacetRequest(new AssociationFloatSumFacetRequest(afloat,10));
  fsp.addFacetRequest(new AssociationFloatSumFacetRequest(bfloat,10));
  Query q=new MatchAllDocsQuery();
  FacetsCollector fc=new FacetsCollector(fsp,reader,taxo);
  new IndexSearcher(reader).search(q,fc);
  try {
    fc.getFacetResults();
    fail("different aggregators for same category list should not be supported");
  }
 catch (  RuntimeException e) {
  }
}
