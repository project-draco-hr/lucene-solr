{
  Version values[]=Version.values();
  for (int i=0; i < values.length; i++) {
    if (i + 1 == values.length) {
      assertSame("Last constant must be LUCENE_CURRENT",Version.LUCENE_CURRENT,values[i]);
    }
    final Deprecated ann=Version.class.getField(values[i].name()).getAnnotation(Deprecated.class);
    if (i + 2 != values.length) {
      assertNotNull(values[i].name() + " should be deprecated",ann);
    }
 else {
      assertNull(values[i].name() + " should not be deprecated",ann);
    }
  }
}
