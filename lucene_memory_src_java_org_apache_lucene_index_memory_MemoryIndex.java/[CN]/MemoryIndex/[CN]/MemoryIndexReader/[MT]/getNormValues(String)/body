{
  if (fieldInfos.get(field).omitsNorms())   return null;
  NumericDocValues norms=cachedNormValues;
  Similarity sim=getSimilarity();
  if (!field.equals(cachedFieldName) || sim != cachedSimilarity) {
    Info info=getInfo(field);
    int numTokens=info != null ? info.numTokens : 0;
    int numOverlapTokens=info != null ? info.numOverlapTokens : 0;
    float boost=info != null ? info.getBoost() : 1.0f;
    FieldInvertState invertState=new FieldInvertState(field,0,numTokens,numOverlapTokens,0,boost);
    long value=sim.computeNorm(invertState);
    norms=new MemoryIndexNormDocValues(value);
    cachedNormValues=norms;
    cachedFieldName=field;
    cachedSimilarity=sim;
    if (DEBUG)     System.err.println("MemoryIndexReader.norms: " + field + ":"+ value+ ":"+ numTokens);
  }
  return norms;
}
