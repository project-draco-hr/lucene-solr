{
  final NumericTokenStream stream=new NumericTokenStream().setIntValue(ivalue);
  stream.setUseNewAPI(false);
  Token tok=new Token();
  for (int shift=0; shift < 32; shift+=NumericUtils.PRECISION_STEP_DEFAULT) {
    assertNotNull("New token is available",tok=stream.next(tok));
    assertEquals("Term is correctly encoded",NumericUtils.intToPrefixCoded(ivalue,shift),tok.term());
    assertEquals("Type correct",(shift == 0) ? NumericTokenStream.TOKEN_TYPE_FULL_PREC : NumericTokenStream.TOKEN_TYPE_LOWER_PREC,tok.type());
  }
  assertNull("No more tokens available",stream.next(tok));
}
