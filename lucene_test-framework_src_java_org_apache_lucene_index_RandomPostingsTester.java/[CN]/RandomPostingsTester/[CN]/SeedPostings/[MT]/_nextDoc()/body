{
  if (docID == -1) {
    docID=0;
  }
  while (posUpto < freq) {
    nextPosition();
  }
  if (upto < docFreq) {
    if (upto == 0 && docRandom.nextBoolean()) {
    }
 else     if (maxDocSpacing == 1) {
      docID++;
    }
 else {
      docID+=TestUtil.nextInt(docRandom,1,maxDocSpacing);
    }
    if (random.nextInt(200) == 17) {
      freq=TestUtil.nextInt(random,1,1000);
    }
 else     if (random.nextInt(10) == 17) {
      freq=TestUtil.nextInt(random,1,20);
    }
 else {
      freq=TestUtil.nextInt(random,1,4);
    }
    pos=0;
    offset=0;
    posUpto=0;
    posSpacing=TestUtil.nextInt(random,1,100);
    upto++;
    return docID;
  }
 else {
    return docID=NO_MORE_DOCS;
  }
}
