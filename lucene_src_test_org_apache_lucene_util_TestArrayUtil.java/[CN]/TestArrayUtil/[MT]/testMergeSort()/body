{
  int num=(TEST_NIGHTLY ? 500 : 50) * RANDOM_MULTIPLIER;
  for (int i=0; i < num; i++) {
    Integer[] a1=createRandomArray(1000), a2=a1.clone();
    ArrayUtil.mergeSort(a1);
    Arrays.sort(a2);
    assertArrayEquals(a2,a1);
    a1=createRandomArray(1000);
    a2=a1.clone();
    ArrayUtil.mergeSort(a1,Collections.reverseOrder());
    Arrays.sort(a2,Collections.reverseOrder());
    assertArrayEquals(a2,a1);
    ArrayUtil.mergeSort(a1);
    Arrays.sort(a2);
    assertArrayEquals(a2,a1);
  }
}
