{
  Directory dir=newDirectory();
  RandomIndexWriter iw=new RandomIndexWriter(random(),dir,newIndexWriterConfig(new MockAnalyzer(random())));
  Document doc=new Document();
  FieldType ft=new FieldType(TextField.TYPE_NOT_STORED);
  ft.setIndexOptions(IndexOptions.DOCS_ONLY);
  ft.freeze();
  Field f=newField("foo","bar",ft);
  doc.add(f);
  iw.addDocument(doc);
  IndexReader ir=iw.getReader();
  iw.close();
  assertEquals(-1,ir.totalTermFreq(new Term("foo",new BytesRef("bar"))));
  assertEquals(-1,ir.getSumTotalTermFreq("foo"));
  ir.close();
  dir.close();
}
