{
  IndexSchema schema=h.getCore().getLatestSchema();
  assertNotNull(schema.getFieldOrNull("long1_tl"));
  assertNotNull(schema.getFieldOrNull("long2_tl"));
  long value=1089883491L;
  String longString1="1089883491";
  String longString2="1,089,883,491";
  SolrInputDocument d=processAdd("parse-long",doc(f("id","113"),f("long1_tl",longString1),f("long2_tl",longString2)));
  assertNotNull(d);
  assertTrue(d.getFieldValue("long1_tl") instanceof Long);
  assertEquals(value,((Long)d.getFieldValue("long1_tl")).longValue());
  assertTrue(d.getFieldValue("long2_tl") instanceof Long);
  assertEquals(value,((Long)d.getFieldValue("long2_tl")).longValue());
  assertU(commit());
  assertQ(req("id:113"),"//long[@name='long1_tl'][.='" + value + "']","//long[@name='long2_tl'][.='" + value + "']");
}
