{
  InstantiatedDocument doc=getIndex().getDocumentsByNumber()[docNumber];
  if (doc.getVectorSpace() != null && doc.getVectorSpace().get(field) == null) {
    List<InstantiatedTermDocumentInformation> tv=doc.getVectorSpace().get(field);
    mapper.setExpectations(field,tv.size(),true,true);
    for (    InstantiatedTermDocumentInformation tdi : tv) {
      mapper.map(tdi.getTerm().text(),tdi.getTermPositions().length,tdi.getTermOffsets(),tdi.getTermPositions());
    }
  }
}
