{
  final String BLOCK=" a  a";
  CharStream cs=new PatternReplaceCharFilter(pattern("a"),"aa",CharReader.get(new StringReader(BLOCK)));
  TokenStream ts=new WhitespaceTokenizer(cs);
  assertTokenStreamContents(ts,new String[]{"aa","aa"},new int[]{1,4},new int[]{2,5},new int[]{1,1});
}
