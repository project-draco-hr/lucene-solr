{
  RussianAnalyzer ra=new RussianAnalyzer(Version.LUCENE_30);
  inWords=new InputStreamReader(getClass().getResourceAsStream("testUTF8.txt"),"UTF-8");
  sampleUnicode=new InputStreamReader(getClass().getResourceAsStream("resUTF8.htm"),"UTF-8");
  TokenStream in=ra.tokenStream("all",inWords);
  RussianLetterTokenizer sample=new RussianLetterTokenizer(TEST_VERSION_CURRENT,sampleUnicode);
  TermAttribute text=in.getAttribute(TermAttribute.class);
  TermAttribute sampleText=sample.getAttribute(TermAttribute.class);
  for (; ; ) {
    if (in.incrementToken() == false)     break;
    boolean nextSampleToken=sample.incrementToken();
    assertEquals("Unicode",text.term(),nextSampleToken == false ? null : sampleText.term());
  }
  inWords.close();
  sampleUnicode.close();
}
