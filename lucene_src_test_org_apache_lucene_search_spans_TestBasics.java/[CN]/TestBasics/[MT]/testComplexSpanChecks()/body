{
  SpanTermQuery one=new SpanTermQuery(new Term("field","one"));
  SpanTermQuery thous=new SpanTermQuery(new Term("field","thousand"));
  SpanTermQuery hundred=new SpanTermQuery(new Term("field","hundred"));
  SpanTermQuery three=new SpanTermQuery(new Term("field","three"));
  SpanNearQuery oneThous=new SpanNearQuery(new SpanQuery[]{one,thous},0,true);
  SpanNearQuery hundredThree=new SpanNearQuery(new SpanQuery[]{hundred,three},0,true);
  SpanNearQuery oneThousHunThree=new SpanNearQuery(new SpanQuery[]{oneThous,hundredThree},1,true);
  SpanQuery query;
  query=new SpanPositionRangeQuery(oneThousHunThree,1,2);
  checkHits(query,new int[]{});
  query=new SpanPositionRangeQuery(oneThousHunThree,0,6);
  checkHits(query,new int[]{1103,1203,1303,1403,1503,1603,1703,1803,1903});
  Collection<byte[]> payloads=new ArrayList<byte[]>();
  Payload pay=new Payload(("pos: " + 3896).getBytes());
  Payload pay2=new Payload(("pos: " + 3897).getBytes());
  Payload pay3=new Payload(("pos: " + 3899).getBytes());
  Payload pay4=new Payload(("pos: " + 3900).getBytes());
  payloads.add(pay.getData());
  payloads.add(pay2.getData());
  payloads.add(pay3.getData());
  payloads.add(pay4.getData());
  query=new SpanNearPayloadCheckQuery(oneThousHunThree,payloads);
  checkHits(query,new int[]{1103});
}
