{
  if (!rb.doFacets)   return;
  if ((sreq.purpose & ShardRequest.PURPOSE_GET_FACETS) != 0) {
    SimpleOrderedMap<List<NamedList<Object>>> tf=rb._pivots;
    if (null == tf) {
      tf=new SimpleOrderedMap<List<NamedList<Object>>>();
      rb._pivots=tf;
    }
    for (    ShardResponse srsp : sreq.responses) {
      int shardNum=rb.getShardNum(srsp.getShard());
      NamedList facet_counts=(NamedList)srsp.getSolrResponse().getResponse().get("facet_counts");
      SimpleOrderedMap<List<NamedList<Object>>> shard_pivots=(SimpleOrderedMap<List<NamedList<Object>>>)facet_counts.get(PIVOT_KEY);
      if (shard_pivots != null) {
        for (int j=0; j < shard_pivots.size(); j++) {
        }
      }
    }
  }
  return;
}
