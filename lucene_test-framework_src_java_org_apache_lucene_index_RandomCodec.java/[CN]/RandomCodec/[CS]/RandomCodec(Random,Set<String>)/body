{
  this.perFieldSeed=random.nextInt();
  int minItemsPerBlock=_TestUtil.nextInt(random,2,100);
  int maxItemsPerBlock=2 * (Math.max(2,minItemsPerBlock - 1)) + random.nextInt(100);
  int lowFreqCutoff=_TestUtil.nextInt(random,2,100);
  add(avoidCodecs,new TempBlockPostingsFormat(_TestUtil.nextInt(random,1,1000)),new TempBlockTreePostingsFormat(minItemsPerBlock,maxItemsPerBlock),new TempRandomPostingsFormat(random),new TempNestedPulsingPostingsFormat(),new TempPulsing41PostingsFormat(1 + random.nextInt(20),minItemsPerBlock,maxItemsPerBlock));
  addDocValues(avoidCodecs,new Lucene45DocValuesFormat(),new DiskDocValuesFormat(),new MemoryDocValuesFormat(),new SimpleTextDocValuesFormat(),new AssertingDocValuesFormat());
  Collections.shuffle(formats,random);
  Collections.shuffle(dvFormats,random);
  if (formats.size() > 4) {
    formats=formats.subList(0,4);
  }
  if (dvFormats.size() > 4) {
    dvFormats=dvFormats.subList(0,4);
  }
}
