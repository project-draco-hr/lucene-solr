{
  this.perFieldSeed=random.nextInt();
  int minItemsPerBlock=_TestUtil.nextInt(random,2,100);
  int maxItemsPerBlock=2 * (Math.max(2,minItemsPerBlock - 1)) + random.nextInt(100);
  int lowFreqCutoff=_TestUtil.nextInt(random,2,100);
  add(avoidCodecs,new Lucene40PostingsFormat(minItemsPerBlock,maxItemsPerBlock),new DirectPostingsFormat(LuceneTestCase.rarely(random) ? 1 : (LuceneTestCase.rarely(random) ? Integer.MAX_VALUE : maxItemsPerBlock),LuceneTestCase.rarely(random) ? 1 : (LuceneTestCase.rarely(random) ? Integer.MAX_VALUE : lowFreqCutoff)),new Pulsing40PostingsFormat(1 + random.nextInt(20),minItemsPerBlock,maxItemsPerBlock),new Pulsing40PostingsFormat(1 + random.nextInt(20),minItemsPerBlock,maxItemsPerBlock),new TestBloomFilteredLucene40Postings(),new MockSepPostingsFormat(),new MockFixedIntBlockPostingsFormat(_TestUtil.nextInt(random,1,2000)),new MockVariableIntBlockPostingsFormat(_TestUtil.nextInt(random,1,127)),new MockRandomPostingsFormat(random),new NestedPulsingPostingsFormat(),new Lucene40WithOrds(),new SimpleTextPostingsFormat(),new AssertingPostingsFormat(),new MemoryPostingsFormat(true,random.nextFloat()),new MemoryPostingsFormat(false,random.nextFloat()));
  Collections.shuffle(formats,random);
  formats.subList(4,formats.size()).clear();
}
