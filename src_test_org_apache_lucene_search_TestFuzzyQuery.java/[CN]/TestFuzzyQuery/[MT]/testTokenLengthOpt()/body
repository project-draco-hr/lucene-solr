{
  RAMDirectory directory=new RAMDirectory();
  IndexWriter writer=new IndexWriter(directory,new IndexWriterConfig(TEST_VERSION_CURRENT,new WhitespaceAnalyzer(TEST_VERSION_CURRENT)));
  addDoc("12345678911",writer);
  addDoc("segment",writer);
  writer.optimize();
  writer.close();
  IndexSearcher searcher=new IndexSearcher(directory,true);
  Query query;
  query=new FuzzyQuery(new Term("field","1234569"),0.9f);
  ScoreDoc[] hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
  query=new FuzzyQuery(new Term("field","1234567891"),0.9f);
  hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
  query=new FuzzyQuery(new Term("field","12345678911"),0.9f);
  hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(1,hits.length);
  query=new FuzzyQuery(new Term("field","sdfsdfsdfsdf"),0.9f);
  hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
}
