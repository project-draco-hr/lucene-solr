{
  final Document doc2=new Document();
  for (  Fieldable f : doc1.getFields()) {
    Field field1=(Field)f;
    Field field2=new Field(field1.name(),field1.stringValue(),field1.isStored() ? Field.Store.YES : Field.Store.NO,field1.isIndexed() ? (field1.isTokenized() ? Field.Index.ANALYZED : Field.Index.NOT_ANALYZED) : Field.Index.NO);
    if (field1.getOmitNorms()) {
      field2.setOmitNorms(true);
    }
    if (field1.getOmitTermFreqAndPositions()) {
      field2.setOmitTermFreqAndPositions(true);
    }
    doc2.add(field2);
  }
  return doc2;
}
