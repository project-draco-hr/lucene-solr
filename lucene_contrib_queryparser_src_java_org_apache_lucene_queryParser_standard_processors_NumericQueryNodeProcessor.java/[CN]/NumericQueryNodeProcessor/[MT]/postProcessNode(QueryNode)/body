{
  if (node instanceof FieldQueryNode && !(node instanceof ParametricQueryNode)) {
    QueryConfigHandler config=getQueryConfigHandler();
    if (config != null) {
      FieldQueryNode fieldNode=(FieldQueryNode)node;
      FieldConfig fieldConfig=config.getFieldConfig(fieldNode.getFieldAsString());
      if (fieldConfig != null) {
        NumericConfig numericConfig=fieldConfig.get(ConfigurationKeys.NUMERIC_CONFIG);
        if (numericConfig != null) {
          NumberFormat numberFormat=numericConfig.getNumberFormat();
          Number number;
          try {
            number=numberFormat.parse(fieldNode.getTextAsString());
          }
 catch (          ParseException e) {
            throw new QueryNodeParseException(new MessageImpl(QueryParserMessages.COULD_NOT_PARSE_NUMBER,fieldNode.getTextAsString(),numberFormat.getClass().getCanonicalName()),e);
          }
switch (numericConfig.getType()) {
case LONG:
            number=number.longValue();
          break;
case INT:
        number=number.intValue();
      break;
case DOUBLE:
    number=number.doubleValue();
  break;
case FLOAT:
number=number.floatValue();
}
NumericQueryNode lowerNode=new NumericQueryNode(fieldNode.getField(),number,numberFormat);
NumericQueryNode upperNode=new NumericQueryNode(fieldNode.getField(),number,numberFormat);
return new NumericRangeQueryNode(lowerNode,upperNode,true,true,numericConfig);
}
}
}
}
return node;
}
