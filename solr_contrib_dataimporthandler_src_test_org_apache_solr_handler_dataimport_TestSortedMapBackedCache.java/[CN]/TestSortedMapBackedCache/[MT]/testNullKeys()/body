{
  DIHCache cache=null;
  try {
    cache=new SortedMapBackedCache();
    Map<String,String> cacheProps=new HashMap<String,String>();
    cacheProps.put(DIHCacheSupport.CACHE_PRIMARY_KEY,"a_id");
    cache.open(getContext(cacheProps));
    Map<String,Object> data=new HashMap<String,Object>();
    data.put("a_id",null);
    data.put("bogus","data");
    cache.add(data);
    Iterator<Map<String,Object>> cacheIter=cache.iterator();
    while (cacheIter.hasNext()) {
      Assert.fail("cache should be empty.");
    }
    Assert.assertNull(cache.iterator(null));
    cache.delete(null);
  }
 catch (  Exception e) {
    throw e;
  }
 finally {
    try {
      cache.destroy();
    }
 catch (    Exception ex) {
    }
  }
}
