{
  Directory dir=newDirectory();
  RandomIndexWriter writer=new RandomIndexWriter(random(),dir);
  Document document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{-10.0f,-10.0f},new float[]{9.1f,10.1f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{10.0f,-10.0f},new float[]{20.0f,10.0f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{-20.0f,-20.0f},new float[]{30.0f,30.1f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{-11.1f,-11.2f},new float[]{1.23f,11.5f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{12.33f,1.2f},new float[]{15.1f,29.9f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{-122.33f,1.2f},new float[]{-115.1f,29.9f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{Float.NEGATIVE_INFINITY,1.2f},new float[]{-11.0f,29.9f}));
  writer.addDocument(document);
  document=new Document();
  document.add(new FloatRangeField(FIELD_NAME,new float[]{-11f,-15f},new float[]{15f,20f}));
  writer.addDocument(document);
  IndexReader reader=writer.getReader();
  IndexSearcher searcher=newSearcher(reader);
  assertEquals(7,searcher.count(FloatRangeField.newIntersectsQuery(FIELD_NAME,new float[]{-11.0f,-15.0f},new float[]{15.0f,20.0f})));
  assertEquals(2,searcher.count(FloatRangeField.newWithinQuery(FIELD_NAME,new float[]{-11.0f,-15.0f},new float[]{15.0f,20.0f})));
  assertEquals(2,searcher.count(FloatRangeField.newContainsQuery(FIELD_NAME,new float[]{-11.0f,-15.0f},new float[]{15.0f,20.0f})));
  reader.close();
  writer.close();
  dir.close();
}
