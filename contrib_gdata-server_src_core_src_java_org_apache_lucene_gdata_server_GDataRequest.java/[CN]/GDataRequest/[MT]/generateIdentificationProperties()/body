{
  String pathInfo=this.request.getPathInfo();
  if (pathInfo.length() <= 1)   throw new GDataRequestException("No feed or entry specified for this request",GDataResponse.BAD_REQUEST);
  StringTokenizer tokenizer=new StringTokenizer(pathInfo,"/");
  this.service=tokenizer.nextToken();
  if (!tokenizer.hasMoreTokens())   throw new GDataRequestException("Can not find feed id in requested path " + pathInfo,GDataResponse.BAD_REQUEST);
  this.feedId=tokenizer.nextToken();
  String appendix=tokenizer.hasMoreTokens() ? tokenizer.nextToken() : null;
  if (appendix == null) {
    this.isFeedRequest=true;
    return;
  }
  if (appendix.equals(CATEGORY_QUERY_INDICATOR)) {
    StringBuilder builder=new StringBuilder();
    while (tokenizer.hasMoreTokens())     builder.append("/").append(tokenizer.nextToken());
    this.categoryQuery=builder.toString();
  }
 else {
    this.entryId=appendix;
    this.entryVersion=tokenizer.hasMoreTokens() ? tokenizer.nextToken() : "";
  }
  this.isFeedRequest=(this.type == GDataRequestType.GET && (this.entryId == null || this.entryId.length() == 0 || (this.entryId.equals('/'))));
}
