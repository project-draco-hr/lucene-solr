{
  int numBits=getNumBits(data);
  if (numBits == 0) {
    return compressDuplicateBlock(data,intBuffer);
  }
  int encodedSize=(blockSize * numBits + 31) / 32;
  for (int i=0; i < blockSize; ++i) {
    encodeNormalValue(intBuffer,i,data[i],numBits);
  }
  return getHeader(encodedSize,numBits);
}
