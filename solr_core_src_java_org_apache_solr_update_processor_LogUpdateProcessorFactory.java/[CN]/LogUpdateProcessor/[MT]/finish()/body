{
  if (logDebug) {
    log.debug("PRE_UPDATE FINISH " + req);
  }
  if (next != null)   next.finish();
  if (log.isInfoEnabled()) {
    log.info(getLogStringAndClearRspToLog());
  }
  if (log.isWarnEnabled()) {
    long elapsed=rsp.getEndTime() - req.getStartTime();
    if (slowUpdateThresholdMillis >= 0 && elapsed >= slowUpdateThresholdMillis) {
      log.warn("slow: " + getLogStringAndClearRspToLog());
    }
  }
}
