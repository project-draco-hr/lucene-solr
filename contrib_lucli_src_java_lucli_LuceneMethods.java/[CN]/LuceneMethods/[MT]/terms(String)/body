{
  TreeMap termMap=new TreeMap();
  IndexReader indexReader=IndexReader.open(indexName);
  TermEnum terms=indexReader.terms();
  while (terms.next()) {
    Term term=terms.term();
    if ((field == null) || field.equals(term.field()))     termMap.put(term.field() + ":" + term.text(),Integer.valueOf((terms.docFreq())));
  }
  Iterator termIterator=termMap.keySet().iterator();
  for (int ii=0; termIterator.hasNext() && ii < 100; ii++) {
    String termDetails=(String)termIterator.next();
    Integer termFreq=(Integer)termMap.get(termDetails);
    message(termDetails + ": " + termFreq);
  }
  indexReader.close();
}
