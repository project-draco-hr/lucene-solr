{
switch (i) {
case 0:
{
      IndexWriter w=new IndexWriter(dir,new WhitespaceAnalyzer(),IndexWriter.MaxFieldLength.LIMITED);
      w.deleteDocuments(new Term("field2","a11"));
      w.deleteDocuments(new Term("field2","b30"));
      w.close();
      break;
    }
case 1:
{
    IndexReader reader=IndexReader.open(dir);
    reader.setNorm(4,"field1",123);
    reader.setNorm(44,"field2",222);
    reader.setNorm(44,"field4",22);
    reader.close();
    break;
  }
case 2:
{
  IndexWriter w=new IndexWriter(dir,new WhitespaceAnalyzer(),IndexWriter.MaxFieldLength.LIMITED);
  w.optimize();
  w.close();
  break;
}
case 3:
{
IndexWriter w=new IndexWriter(dir,new WhitespaceAnalyzer(),IndexWriter.MaxFieldLength.LIMITED);
w.addDocument(createDocument(101,4));
w.optimize();
w.addDocument(createDocument(102,4));
w.addDocument(createDocument(103,4));
w.close();
break;
}
case 4:
{
IndexReader reader=IndexReader.open(dir);
reader.setNorm(5,"field1",123);
reader.setNorm(55,"field2",222);
reader.close();
break;
}
}
}
