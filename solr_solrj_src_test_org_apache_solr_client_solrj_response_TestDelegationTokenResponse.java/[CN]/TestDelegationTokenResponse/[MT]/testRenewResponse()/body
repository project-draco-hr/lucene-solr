{
  DelegationTokenRequest.Renew renewRequest=new DelegationTokenRequest.Renew("token");
  DelegationTokenResponse.Renew renewResponse=new DelegationTokenResponse.Renew();
  try {
    delegationTokenResponse(renewRequest,renewResponse,"");
    renewResponse.getExpirationTime();
    fail("Expected SolrException");
  }
 catch (  SolrException se) {
  }
  delegationTokenResponse(renewRequest,renewResponse,getMapJson("notLong","123"));
  assertNull(renewResponse.getExpirationTime());
  try {
    delegationTokenResponse(renewRequest,renewResponse,getMapJson("long","aaa"));
    renewResponse.getExpirationTime();
    fail("Expected SolrException");
  }
 catch (  SolrException se) {
  }
  Long expirationTime=new Long(Long.MAX_VALUE);
  delegationTokenResponse(renewRequest,renewResponse,getMapJson("long",expirationTime));
  assertEquals(expirationTime,renewResponse.getExpirationTime());
}
