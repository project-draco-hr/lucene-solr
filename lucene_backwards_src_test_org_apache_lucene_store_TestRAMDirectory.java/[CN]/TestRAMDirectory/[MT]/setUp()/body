{
  super.setUp();
  String tempDir=System.getProperty("tempDir",System.getProperty("java.io.tmpdir"));
  if (tempDir == null)   throw new IOException("System property tempDir undefined, cannot run test");
  indexDir=new File(tempDir,"RAMDirIndex");
  Directory dir=FSDirectory.open(indexDir);
  IndexWriter writer=new IndexWriter(dir,new WhitespaceAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
  Document doc=null;
  for (int i=0; i < docsToAdd; i++) {
    doc=new Document();
    doc.add(new Field("content",English.intToEnglish(i).trim(),Field.Store.YES,Field.Index.NOT_ANALYZED));
    writer.addDocument(doc);
  }
  assertEquals(docsToAdd,writer.maxDoc());
  writer.close();
  dir.close();
}
