{
  CoreContainer cc=init();
  try {
    checkInCores(cc,"collection1","collectionLazy2","collectionLazy5");
    checkNotInCores(cc,"collectionLazy3","collectionLazy4","collectionLazy6","collectionLazy7","collectionLazy8","collectionLazy9");
    SolrCore core1=cc.getCore("collection1");
    assertFalse("core1 should not be transient",core1.getCoreDescriptor().isTransient());
    assertTrue("core1 should  be loadable",core1.getCoreDescriptor().isLoadOnStartup());
    assertNotNull(core1.getSolrConfig());
    SolrCore core2=cc.getCore("collectionLazy2");
    assertTrue("core2 should not be transient",core2.getCoreDescriptor().isTransient());
    assertTrue("core2 should be loadable",core2.getCoreDescriptor().isLoadOnStartup());
    SolrCore core3=cc.getCore("collectionLazy3");
    assertTrue("core3 should not be transient",core3.getCoreDescriptor().isTransient());
    assertFalse("core3 should not be loadable",core3.getCoreDescriptor().isLoadOnStartup());
    SolrCore core4=cc.getCore("collectionLazy4");
    assertFalse("core4 should not be transient",core4.getCoreDescriptor().isTransient());
    assertFalse("core4 should not be loadable",core4.getCoreDescriptor().isLoadOnStartup());
    SolrCore core5=cc.getCore("collectionLazy5");
    assertFalse("core5 should not be transient",core5.getCoreDescriptor().isTransient());
    assertTrue("core5 should  be loadable",core5.getCoreDescriptor().isLoadOnStartup());
    core1.close();
    core2.close();
    core3.close();
    core4.close();
    core5.close();
  }
  finally {
    cc.shutdown();
  }
}
