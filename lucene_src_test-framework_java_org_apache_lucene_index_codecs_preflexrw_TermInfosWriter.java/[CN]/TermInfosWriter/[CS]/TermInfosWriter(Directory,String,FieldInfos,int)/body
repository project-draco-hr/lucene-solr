{
  initialize(directory,segment,fis,interval,false);
  boolean success=false;
  try {
    other=new TermInfosWriter(directory,segment,fis,interval,true);
    other.other=this;
    success=true;
  }
  finally {
    if (!success) {
      try {
        IOUtils.closeWhileHandlingException(output);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
      try {
        directory.deleteFile(IndexFileNames.segmentFileName(segment,"",(isIndex ? Lucene3xPostingsFormat.TERMS_INDEX_EXTENSION : Lucene3xPostingsFormat.TERMS_EXTENSION)));
      }
 catch (      IOException ignored) {
      }
    }
  }
}
