{
  while (todo > 0 && index < stack.length) {
    if (createToken(stack[index++],current)) {
      todo--;
      return true;
    }
  }
  if (!input.incrementToken())   return false;
  stack=synonyms.getSynonyms(termAtt.term());
  if (stack.length > maxSynonyms)   randomize(stack);
  index=0;
  current=captureState();
  todo=maxSynonyms;
  return true;
}
