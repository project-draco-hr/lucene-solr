{
  postData(cloudClient,baseUrl,blobName,bytes);
  String url;
  Map map=null;
  List l;
  long start=System.currentTimeMillis();
  int i=0;
  for (; i < 150; i++) {
    url=baseUrl + "/.system/blob/" + blobName;
    map=TestSolrConfigHandlerConcurrent.getAsMap(url,cloudClient);
    String numFound=String.valueOf(ConfigOverlay.getObjectByPath(map,false,Arrays.asList("response","numFound")));
    if (!("" + count).equals(numFound)) {
      Thread.sleep(100);
      continue;
    }
    l=(List)ConfigOverlay.getObjectByPath(map,false,Arrays.asList("response","docs"));
    assertNotNull(l);
    map=(Map)l.get(0);
    assertEquals("" + bytes.limit(),String.valueOf(map.get("size")));
    return;
  }
  fail(StrUtils.formatString("Could not successfully add blob after {0} attempts. Expecting {1} items. time elapsed {2}  output  for url is {3}",i,count,System.currentTimeMillis() - start,getAsString(map)));
}
