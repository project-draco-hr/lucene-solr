{
  postData(baseUrl,bytes);
  String url;
  Map map;
  List l;
  long startTime=System.nanoTime();
  long maxTimeoutSeconds=10;
  while (true) {
    url=baseUrl + "/.system/blob/test";
    map=TestSolrConfigHandlerConcurrent.getAsMap(url,cloudClient);
    String numFound=String.valueOf(ConfigOverlay.getObjectByPath(map,false,Arrays.asList("response","numFound")));
    if (!("" + count).equals(numFound)) {
      if (TimeUnit.SECONDS.convert(System.nanoTime() - startTime,TimeUnit.NANOSECONDS) < maxTimeoutSeconds) {
        Thread.sleep(100);
        continue;
      }
    }
    l=(List)ConfigOverlay.getObjectByPath(map,false,Arrays.asList("response","docs"));
    assertNotNull(l);
    map=(Map)l.get(0);
    assertEquals("" + bytes.length,String.valueOf(map.get("size")));
    break;
  }
}
