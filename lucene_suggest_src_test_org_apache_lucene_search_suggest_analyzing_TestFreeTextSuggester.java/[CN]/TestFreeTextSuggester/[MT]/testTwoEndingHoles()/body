{
  Analyzer a=new Analyzer(){
    @Override public TokenStreamComponents createComponents(    String field,    Reader reader){
      Tokenizer tokenizer=new MockTokenizer(reader);
      CharArraySet stopSet=StopFilter.makeStopSet(TEST_VERSION_CURRENT,"of");
      return new TokenStreamComponents(tokenizer,new StopFilter(TEST_VERSION_CURRENT,tokenizer,stopSet));
    }
  }
;
  Iterable<TermFreqPayload> keys=shuffle(new TermFreqPayload("wizard of of oz",50));
  FreeTextSuggester sug=new FreeTextSuggester(a,a,3,(byte)0x20);
  sug.build(new TermFreqPayloadArrayIterator(keys));
  assertEquals("",toString(sug.lookup("wizard of of",10)));
}
