{
  int numIters=atLeast(10);
  for (int i=0; i < numIters; i++) {
    CharsRef ref=new CharsRef();
    char[] charArray=_TestUtil.randomRealisticUnicodeString(random,1,100).toCharArray();
    int offset=random.nextInt(charArray.length);
    int length=charArray.length - offset;
    String str=new String(charArray,offset,length);
    ref.copyChars(charArray,offset,length);
    assertEquals(str,ref.toString());
  }
}
