{
  FieldType numberType=schema.getFieldTypeByName(numberTypeName);
  FieldType booleanType=schema.getFieldTypeByName(booleanTypeName);
  if (schema.isDynamicField(fieldName)) {
    registerSubFields(schema,fieldName,numberType,booleanType);
  }
  BBoxStrategy strategy=new BBoxStrategy(ctx,fieldName);
  final SchemaField solrNumField=new SchemaField("_",numberType);
  org.apache.lucene.document.FieldType luceneType=(org.apache.lucene.document.FieldType)solrNumField.createField(0.0,1.0f).fieldType();
  luceneType.setStored(storeSubFields);
  if (solrNumField.hasDocValues()) {
    luceneType=new org.apache.lucene.document.FieldType(luceneType);
    luceneType.setDocValuesType(DocValuesType.NUMERIC);
  }
  strategy.setFieldType(luceneType);
  return strategy;
}
