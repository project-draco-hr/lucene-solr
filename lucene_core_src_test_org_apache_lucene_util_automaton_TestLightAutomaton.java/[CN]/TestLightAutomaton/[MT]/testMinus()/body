{
  LightAutomaton a1=BasicAutomata.makeStringLight("foobar");
  LightAutomaton a2=BasicAutomata.makeStringLight("boobar");
  LightAutomaton a3=BasicAutomata.makeStringLight("beebar");
  LightAutomaton a=BasicOperations.unionLight(Arrays.asList(a1,a2,a3));
  if (random().nextBoolean()) {
    a=BasicOperations.determinize(a);
  }
 else   if (random().nextBoolean()) {
    a=MinimizationOperationsLight.minimize(a);
  }
  LightAutomaton a4=BasicOperations.determinize(BasicOperations.minusLight(a,a2));
  assertTrue(BasicOperations.run(a4,"foobar"));
  assertFalse(BasicOperations.run(a4,"boobar"));
  assertTrue(BasicOperations.run(a4,"beebar"));
  a4=BasicOperations.determinize(BasicOperations.minusLight(a4,a1));
  assertFalse(BasicOperations.run(a4,"foobar"));
  assertFalse(BasicOperations.run(a4,"boobar"));
  assertTrue(BasicOperations.run(a4,"beebar"));
  a4=BasicOperations.determinize(BasicOperations.minusLight(a4,a3));
  assertFalse(BasicOperations.run(a4,"foobar"));
  assertFalse(BasicOperations.run(a4,"boobar"));
  assertFalse(BasicOperations.run(a4,"beebar"));
}
