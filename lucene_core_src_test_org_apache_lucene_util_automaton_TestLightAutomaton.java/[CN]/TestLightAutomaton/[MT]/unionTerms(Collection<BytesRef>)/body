{
  LightAutomaton a;
  if (random().nextBoolean()) {
    if (VERBOSE) {
      System.out.println("TEST: unionTerms: use union");
    }
    List<LightAutomaton> as=new ArrayList<>();
    for (    BytesRef term : terms) {
      as.add(BasicAutomata.makeStringLight(term.utf8ToString()));
    }
    a=BasicOperations.unionLight(as);
  }
 else {
    if (VERBOSE) {
      System.out.println("TEST: unionTerms: use makeStringUnion");
    }
    List<BytesRef> termsList=new ArrayList<>(terms);
    Collections.sort(termsList);
    a=BasicAutomata.makeStringUnionLight(termsList);
  }
  return randomNoOp(a);
}
