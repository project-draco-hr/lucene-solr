{
  EnhancementsIndexingParams params=new DefaultEnhancementsIndexingParams(new CategoryEnhancementDummy1());
  List<Class<? extends CategoryProperty>> retainableProps=params.getRetainableProperties();
  assertNull("Unexpected content in retainable list",retainableProps);
  params.addCategoryEnhancements(new CategoryEnhancementDummy2());
  List<CategoryEnhancement> enhancements=params.getCategoryEnhancements();
  assertEquals("Wrong number of enhancements",2,enhancements.size());
  assertTrue("Wrong first enhancement",enhancements.get(0) instanceof CategoryEnhancementDummy1);
  assertTrue("Wrong second enhancement",enhancements.get(1) instanceof CategoryEnhancementDummy2);
  retainableProps=params.getRetainableProperties();
  assertNotNull("Unexpected empty retainable list",retainableProps);
  assertEquals("Unexpected size of retainable list",1,retainableProps.size());
  assertEquals("Wrong property in retainable list",DummyProperty.class,retainableProps.get(0));
}
