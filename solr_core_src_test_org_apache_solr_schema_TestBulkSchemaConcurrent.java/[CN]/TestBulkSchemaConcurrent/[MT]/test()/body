{
  final int threadCount=5;
  setupHarnesses();
  Thread[] threads=new Thread[threadCount];
  final List<List> collectErrors=new ArrayList<>();
  for (int i=0; i < threadCount; i++) {
    final int finalI=i;
    threads[i]=new Thread(){
      @Override public void run(){
        try {
          ArrayList errs=new ArrayList();
          collectErrors.add(errs);
          invokeBulkCall(finalI,errs);
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
;
    threads[i].start();
  }
  for (  Thread thread : threads)   thread.join();
  boolean success=true;
  for (  List e : collectErrors) {
    if (e != null && !e.isEmpty()) {
      success=false;
      log.error(e.toString());
    }
  }
  assertTrue(collectErrors.toString(),success);
}
