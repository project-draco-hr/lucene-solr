{
  Object data=m.get(key);
  if (data instanceof ConfigData) {
    ConfigData configData=(ConfigData)data;
    if (configData.version == version) {
      ConfigData result=new ConfigData((Map<String,Object>)Utils.fromJSON(buf),version + 1);
      m.put(key,result);
      return true;
    }
 else {
      return false;
    }
  }
  throw new RuntimeException();
}
