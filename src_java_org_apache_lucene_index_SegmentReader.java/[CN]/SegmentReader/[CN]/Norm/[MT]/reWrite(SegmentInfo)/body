{
  String oldFileName=si.getNormFileName(this.number);
  if (oldFileName != null && !oldFileName.endsWith("." + IndexFileNames.NORMS_EXTENSION)) {
    deleter.addPendingFile(oldFileName);
  }
  si.advanceNormGen(this.number);
  IndexOutput out=directory().createOutput(si.getNormFileName(this.number));
  try {
    out.writeBytes(bytes,maxDoc());
  }
  finally {
    out.close();
  }
  this.dirty=false;
}
