{
  OutputStream out=directory().createFile(segment + ".tmp");
  try {
    out.writeBytes(bytes,maxDoc());
  }
  finally {
    out.close();
  }
  String fileName;
  if (cfsReader == null)   fileName=segment + ".f" + number;
 else {
    fileName=segment + ".s" + number;
  }
  directory().renameFile(segment + ".tmp",fileName);
  this.dirty=false;
}
