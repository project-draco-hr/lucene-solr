{
  if (hasDeletions(si)) {
    deletedDocs=new BitVector(directory(),si.getDelFileName());
    if (deletedDocs.count() > maxDoc()) {
      throw new CorruptIndexException("number of deletes (" + deletedDocs.count() + ") exceeds max doc ("+ maxDoc()+ ") for segment "+ si.name);
    }
  }
}
