{
  SorterTemplate sorter=new DocValueSorterTemplate<T>(docs,values);
  sorter.quickSort(0,docs.length - 1);
  final int[] oldToNew=new int[docs.length];
  for (int i=0; i < docs.length; i++) {
    oldToNew[docs[i]]=i;
  }
  return oldToNew;
}
