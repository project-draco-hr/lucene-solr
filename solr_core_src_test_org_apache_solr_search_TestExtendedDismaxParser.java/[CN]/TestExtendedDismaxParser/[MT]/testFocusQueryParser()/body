{
  String allq="id:[42 TO 50]";
  String allr="*[count(//doc)=9]";
  String oner="*[count(//doc)=1]";
  String twor="*[count(//doc)=2]";
  String nor="*[count(//doc)=0]";
  assertQ("expected doc is missing (using un-escaped edismax w/qf)",req("q","literal:colon","qf","t_special","defType","edismax"),"//doc[1]/str[@name='id'][.='46']");
  assertQ("standard request handler returns all matches",req(allq),allr);
  assertQ("edismax query parser returns all matches",req("q",allq,"defType","edismax"),allr);
  assertQ(req("defType","edismax","qf","trait_ss","q","Tool"),twor);
  assertQ(req("defType","edismax","qf","trait_ss foo_i foo_f foo_dt foo_l foo_d foo_b","q","Tool"),twor);
  assertQ(req("defType","edismax","qf","text_sw","q","foo_i:100"),oner);
  assertQ(req("defType","edismax","qf","text_sw","q","foo_i:-100"),oner);
  assertQ(req("defType","edismax","qf","text_sw foo_i","q","100"),oner);
  assertQ("qf defaults to defaultSearchField",req("defType","edismax","q","op"),twor);
  assertQ(req("defType","edismax","qf","name title subject text","q","op"),twor);
  assertQ(req("defType","edismax","qf","name title subject text","q.op","AND","q","Order op"),oner);
  assertQ(req("defType","edismax","qf","name title subject text","q.op","OR","q","Order op"),twor);
  assertQ(req("defType","edismax","qf","name title subject text","q","Order AND op"),oner);
  assertQ(req("defType","edismax","qf","name title subject text","q","Order and op"),oner);
  assertQ(req("defType","edismax","qf","name title subject text","q","+Order op"),oner);
  assertQ(req("defType","edismax","qf","name title subject text","q","Order OR op"),twor);
  assertQ(req("defType","edismax","qf","name title subject text","q","Order or op"),twor);
  assertQ(req("defType","edismax","qf","name title subject text","q","*:*"),allr);
  assertQ(req("defType","edismax","qf","name title subject text","q","star OR (-star)"),allr);
  assertQ(req("defType","edismax","qf","name title subject text","q","id:42 OR (-id:42)"),allr);
  assertQ(req("defType","edismax","qf","text_sw","q","GB"),oner);
  assertQ(req("defType","edismax","qf","text_sw","q","the big"),twor);
  assertQ(req("defType","edismax","qf","text_sw","stopwords","false","q.op","AND","q","the big"),oner);
  assertQ("expected doc is missing (using standard)",req("q","t_special:literal\\:colon"),"//doc[1]/str[@name='id'][.='46']");
  assertQ("expected doc is missing (using escaped edismax w/field)",req("q","t_special:literal\\:colon","defType","edismax"),"//doc[1]/str[@name='id'][.='46']");
  assertQ("expected doc is missing (using un-escaped edismax w/field)",req("q","t_special:literal:colon","defType","edismax"),"//doc[1]/str[@name='id'][.='46']");
  assertQ("expected doc is missing (using escaped edismax w/qf)",req("q","literal\\:colon","qf","t_special","defType","edismax"),"//doc[1]/str[@name='id'][.='46']");
  assertQ("expected doc is missing (using un-escaped edismax w/qf)",req("q","literal:colon","qf","t_special","defType","edismax"),"//doc[1]/str[@name='id'][.='46']");
  assertQ(req("defType","edismax","mm","100%","q","terminator:3","qf","movies_t"),oner);
  assertQ(req("defType","edismax","mm","100%","q","Mission:Impossible","qf","movies_t"),oner);
  assertQ(req("defType","edismax","mm","100%","q","Mission : Impossible","qf","movies_t"),oner);
  assertQ(req("defType","edismax","mm","100%","q","Mission: Impossible","qf","movies_t"),oner);
  assertQ(req("defType","edismax","mm","100%","q","Terminator 2: Judgement Day","qf","movies_t"),oner);
  assertQ(req("defType","edismax","mm","100%","q","Terminator 10: Judgement Day","qf","movies_t"),nor);
  assertQ(req("defType","edismax","mm","0","q","Terminator: 100","qf","movies_t foo_i"),twor);
  assertQ(req("defType","edismax","mm","100%","q","Terminator: 100","qf","movies_t foo_i"),nor);
  assertQ(req("defType","edismax","mm","100%","q","Terminator: 8","qf","movies_t foo_i"),oner);
  assertQ(req("defType","edismax","mm","0","q","movies_t:Terminator 100","qf","movies_t foo_i"),twor);
}
