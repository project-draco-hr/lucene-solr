{
  String allReservedCharacters="!():^[]{}~*?\"+-\\|&/";
  assertU(adoc("id","reservedChars","name",allReservedCharacters,"cat_s","foo/"));
  assertU(commit());
  String query=allReservedCharacters.replace("\\","\\\\");
  assertQ("Escaping reserved characters",req("q",query,"qf","name","mm","100%","defType","edismax"),"*[count(//doc)=1]");
  assertQ("Escaping string with reserved / character",req("q","foo/","qf","cat_s","mm","100%","defType","edismax"),"*[count(//doc)=1]");
  assertQ("Might be double-escaping a client-escaped colon",req("q","text_sw:(theos OR thistokenhasa\\:preescapedcolon OR theou)","defType","edismax","qf","id"),"*[count(//doc)=3]");
  assertQ("Might be double-escaping a client-escaped colon",req("q","text_sw:(theos OR thistokenhasa\\:preescapedcolon OR theou)","defType","edismax","qf","text"),"*[count(//doc)=3]");
}
