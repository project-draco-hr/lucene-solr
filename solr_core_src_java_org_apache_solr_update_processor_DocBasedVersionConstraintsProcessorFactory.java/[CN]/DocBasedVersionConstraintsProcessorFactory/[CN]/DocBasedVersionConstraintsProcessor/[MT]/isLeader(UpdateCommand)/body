{
  if ((cmd.getFlags() & (UpdateCommand.REPLAY | UpdateCommand.PEER_SYNC)) != 0) {
    return false;
  }
  if (phase == DistributedUpdateProcessor.DistribPhase.FROMLEADER) {
    return false;
  }
  return distribProc.isLeader(cmd);
}
