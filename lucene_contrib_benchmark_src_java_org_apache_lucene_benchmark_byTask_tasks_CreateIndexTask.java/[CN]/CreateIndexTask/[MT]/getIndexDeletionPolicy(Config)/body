{
  String deletionPolicyName=config.get("deletion.policy","org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy");
  IndexDeletionPolicy indexDeletionPolicy=null;
  RuntimeException err=null;
  try {
    indexDeletionPolicy=Class.forName(deletionPolicyName).asSubclass(IndexDeletionPolicy.class).newInstance();
  }
 catch (  IllegalAccessException iae) {
    err=new RuntimeException("unable to instantiate class '" + deletionPolicyName + "' as IndexDeletionPolicy");
    err.initCause(iae);
  }
catch (  InstantiationException ie) {
    err=new RuntimeException("unable to instantiate class '" + deletionPolicyName + "' as IndexDeletionPolicy");
    err.initCause(ie);
  }
catch (  ClassNotFoundException cnfe) {
    err=new RuntimeException("unable to load class '" + deletionPolicyName + "' as IndexDeletionPolicy");
    err.initCause(cnfe);
  }
  if (err != null)   throw err;
  return indexDeletionPolicy;
}
