{
  clientIsInternal=(httpClient == null);
  this.parser=parser;
  if (httpClient == null) {
    ModifiableSolrParams params=new ModifiableSolrParams();
    if (solrServerUrl.length > 1) {
      params.set(HttpClientUtil.PROP_USE_RETRY,false);
    }
 else {
      params.set(HttpClientUtil.PROP_USE_RETRY,true);
    }
    this.httpClient=HttpClientUtil.createClient(params);
  }
 else {
    this.httpClient=httpClient;
  }
  for (  String s : solrServerUrl) {
    ServerWrapper wrapper=new ServerWrapper(makeSolrClient(s));
    aliveServers.put(wrapper.getKey(),wrapper);
  }
  updateAliveList();
}
