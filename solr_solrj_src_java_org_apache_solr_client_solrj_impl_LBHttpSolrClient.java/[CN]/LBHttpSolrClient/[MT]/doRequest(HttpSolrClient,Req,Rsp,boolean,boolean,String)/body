{
  Exception ex=null;
  try {
    rsp.server=client.getBaseURL();
    rsp.rsp=client.request(req.getRequest(),(String)null);
    if (isZombie) {
      zombieServers.remove(zombieKey);
    }
  }
 catch (  SolrException e) {
    if (!isNonRetryable && RETRY_CODES.contains(e.code())) {
      ex=(!isZombie) ? addZombie(client,e) : e;
    }
 else {
      if (isZombie) {
        zombieServers.remove(zombieKey);
      }
      throw e;
    }
  }
catch (  SocketException e) {
    if (!isNonRetryable || e instanceof ConnectException) {
      ex=(!isZombie) ? addZombie(client,e) : e;
    }
 else {
      throw e;
    }
  }
catch (  SocketTimeoutException e) {
    if (!isNonRetryable) {
      ex=(!isZombie) ? addZombie(client,e) : e;
    }
 else {
      throw e;
    }
  }
catch (  SolrServerException e) {
    Throwable rootCause=e.getRootCause();
    if (!isNonRetryable && rootCause instanceof IOException) {
      ex=(!isZombie) ? addZombie(client,e) : e;
    }
 else     if (isNonRetryable && rootCause instanceof ConnectException) {
      ex=(!isZombie) ? addZombie(client,e) : e;
    }
 else {
      throw e;
    }
  }
catch (  Exception e) {
    throw new SolrServerException(e);
  }
  return ex;
}
