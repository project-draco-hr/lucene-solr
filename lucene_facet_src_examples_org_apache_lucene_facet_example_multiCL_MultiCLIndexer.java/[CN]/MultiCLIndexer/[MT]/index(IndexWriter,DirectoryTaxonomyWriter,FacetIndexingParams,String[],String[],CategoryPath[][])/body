{
  int nDocsAdded=0;
  int nFacetsAdded=0;
  for (int docNum=0; docNum < SimpleUtils.docTexts.length; docNum++) {
    List<CategoryPath> facetList=Arrays.asList(cPaths[docNum]);
    FacetFields facetFields=new FacetFields(taxo,iParams);
    Document doc=new Document();
    doc.add(new TextField(SimpleUtils.TITLE,docTitles[docNum],Field.Store.YES));
    doc.add(new TextField(SimpleUtils.TEXT,docTexts[docNum],Field.Store.NO));
    facetFields.addFields(doc,facetList);
    iw.addDocument(doc);
    nDocsAdded++;
    nFacetsAdded+=facetList.size();
  }
  taxo.commit();
  iw.commit();
  taxo.close();
  iw.close();
  ExampleUtils.log("Indexed " + nDocsAdded + " documents with overall "+ nFacetsAdded+ " facets.");
}
