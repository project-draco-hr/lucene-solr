{
  final SolrQuery query=new SolrQuery();
  query.setQuery("*:*");
  query.add("fl","*, score,fv:[fv]");
  query.add("rows","4");
  query.add("rq","{!ltr model=nomatchmodel2 reRankDocs=4}");
  final SolrQuery yesMatchFeatureQuery=new SolrQuery();
  yesMatchFeatureQuery.setQuery("title:w1");
  yesMatchFeatureQuery.add("fl","score");
  yesMatchFeatureQuery.add("rows","4");
  String res=restTestHarness.query("/query" + yesMatchFeatureQuery.toQueryString());
  final Map<String,Object> jsonParse=(Map<String,Object>)ObjectBuilder.fromJSON(res);
  final Double doc0Score=(Double)((Map<String,Object>)((ArrayList<Object>)((Map<String,Object>)jsonParse.get("response")).get("docs")).get(0)).get("score");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[0]/score==0.0");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[0]/fv=='yesmatchfeature:" + doc0Score + "'");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[1]/score==0.0");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[1]/fv==''");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[2]/score==0.0");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[2]/fv==''");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[3]/score==0.0");
  assertJQ("/query" + query.toQueryString(),"/response/docs/[3]/fv==''");
}
