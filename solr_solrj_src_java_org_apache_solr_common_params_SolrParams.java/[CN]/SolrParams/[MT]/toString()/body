{
  final StringBuilder sb=new StringBuilder(128);
  try {
    boolean first=true;
    for (final Iterator<String> it=getParameterNamesIterator(); it.hasNext(); ) {
      final String name=it.next();
      for (      String val : getParams(name)) {
        if (!first)         sb.append('&');
        first=false;
        StrUtils.partialURLEncodeVal(sb,name);
        sb.append('=');
        StrUtils.partialURLEncodeVal(sb,val);
      }
    }
    return sb.toString();
  }
 catch (  IOException e) {
    throw new AssertionError(e);
  }
}
