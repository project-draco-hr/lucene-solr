{
  if (bitSet == null) {
    if ((long)totalAllocated + numDocs <= threshold) {
      ensureBufferCapacity(numDocs);
    }
 else {
      upgradeToBitSet();
      counter+=numDocs;
    }
  }
 else {
    counter+=numDocs;
  }
  return adder;
}
