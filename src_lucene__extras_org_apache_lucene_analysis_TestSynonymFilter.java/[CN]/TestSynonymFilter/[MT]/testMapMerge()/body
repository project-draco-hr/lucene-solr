{
  SynonymMap map=new SynonymMap();
  boolean orig=false;
  boolean merge=true;
  map.add(strings("a"),tokens("a5,5"),orig,merge);
  map.add(strings("a"),tokens("a3,3"),orig,merge);
  assertTokEqual(getTokList(map,"a",false),tokens("a3 a5,2"));
  map.add(strings("b"),tokens("b3,3"),orig,merge);
  map.add(strings("b"),tokens("b5,5"),orig,merge);
  assertTokEqual(getTokList(map,"b",false),tokens("b3 b5,2"));
  map.add(strings("a"),tokens("A3,3"),orig,merge);
  map.add(strings("a"),tokens("A5,5"),orig,merge);
  assertTokEqual(getTokList(map,"a",false),tokens("a3/A3 a5,2/A5"));
  map.add(strings("a"),tokens("a1"),orig,merge);
  assertTokEqual(getTokList(map,"a",false),tokens("a1 a3,2/A3 a5,2/A5"));
  map.add(strings("a"),tokens("a2,2"),orig,merge);
  map.add(strings("a"),tokens("a4,4 a6,2"),orig,merge);
  assertTokEqual(getTokList(map,"a",false),tokens("a1 a2 a3/A3 a4 a5/A5 a6"));
}
