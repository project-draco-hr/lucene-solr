{
  Path instanceDir=propertiesFile.getParent();
  Properties coreProperties=new Properties();
  try (InputStream fis=Files.newInputStream(propertiesFile)){
    coreProperties.load(new InputStreamReader(fis,StandardCharsets.UTF_8));
    String name=createName(coreProperties,instanceDir);
    Map<String,String> propMap=new HashMap<>();
    for (    String key : coreProperties.stringPropertyNames()) {
      propMap.put(key,coreProperties.getProperty(key));
    }
    return new CoreDescriptor(cc,name,instanceDir,propMap);
  }
 catch (  IOException e) {
    logger.error("Couldn't load core descriptor from {}:{}",propertiesFile,e.toString());
    return null;
  }
}
