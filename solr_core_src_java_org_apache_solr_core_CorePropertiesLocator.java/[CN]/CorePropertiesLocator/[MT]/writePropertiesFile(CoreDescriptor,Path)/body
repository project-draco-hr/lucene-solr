{
  Properties p=buildCoreProperties(cd);
  try {
    Files.createDirectories(propfile.getParent());
    try (Writer os=new OutputStreamWriter(Files.newOutputStream(propfile),StandardCharsets.UTF_8)){
      p.store(os,"Written by CorePropertiesLocator");
    }
   }
 catch (  IOException e) {
    logger.error("Couldn't persist core properties to {}: {}",propfile,e.getMessage());
  }
}
