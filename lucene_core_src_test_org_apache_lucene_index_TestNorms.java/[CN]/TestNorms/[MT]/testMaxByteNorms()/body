{
  Directory dir=newFSDirectory(_TestUtil.getTempDir("TestNorms.testMaxByteNorms"));
  buildIndex(dir);
  AtomicReader open=SlowCompositeReaderWrapper.wrap(DirectoryReader.open(dir));
  NumericDocValues normValues=open.simpleNormValues(byteTestField);
  assertNotNull(normValues);
  for (int i=0; i < open.maxDoc(); i++) {
    StoredDocument document=open.document(i);
    int expected=Integer.parseInt(document.get(byteTestField));
    assertEquals((byte)expected,normValues.get(i));
  }
  open.close();
  dir.close();
}
