{
  Directory dir=newFSDirectory(TestUtil.createTempDir("TestNorms.testMaxByteNorms"));
  buildIndex(dir);
  AtomicReader open=SlowCompositeReaderWrapper.wrap(DirectoryReader.open(dir));
  NumericDocValues normValues=open.getNormValues(byteTestField);
  assertNotNull(normValues);
  for (int i=0; i < open.maxDoc(); i++) {
    StoredDocument document=open.document(i);
    int expected=Integer.parseInt(document.get(byteTestField));
    assertEquals(expected,normValues.get(i));
  }
  open.close();
  dir.close();
}
