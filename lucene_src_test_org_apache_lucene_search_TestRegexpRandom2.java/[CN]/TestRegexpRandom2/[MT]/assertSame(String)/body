{
  RegexpQuery smart=new RegexpQuery(new Term("field",regexp),RegExp.NONE);
  DumbRegexpQuery dumb=new DumbRegexpQuery(new Term("field",regexp),RegExp.NONE);
  if (!(smart.getTermsEnum(searcher.getIndexReader()) instanceof AutomatonTermsEnum))   return;
  TopDocs smartDocs=searcher.search(smart,25);
  TopDocs dumbDocs=searcher.search(dumb,25);
  CheckHits.checkEqual(smart,smartDocs.scoreDocs,dumbDocs.scoreDocs);
}
