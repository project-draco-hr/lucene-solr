{
  Query q=mlt.like(new StringReader(text),textFieldName);
  TopDocs docs=indexSearcher.search(q,k);
  Map<String,Integer> classCounts=new HashMap<String,Integer>();
  for (  ScoreDoc scoreDoc : docs.scoreDocs) {
    String cl=indexSearcher.doc(scoreDoc.doc).getField(classFieldName).stringValue();
    Integer count=classCounts.get(cl);
    if (count != null) {
      classCounts.put(cl,count + 1);
    }
 else {
      classCounts.put(cl,1);
    }
  }
  int max=0;
  String assignedClass=null;
  for (  String cl : classCounts.keySet()) {
    Integer count=classCounts.get(cl);
    if (count > max) {
      max=count;
      assignedClass=cl;
    }
  }
  double score=max / k;
  return new ClassificationResult(assignedClass,score);
}
