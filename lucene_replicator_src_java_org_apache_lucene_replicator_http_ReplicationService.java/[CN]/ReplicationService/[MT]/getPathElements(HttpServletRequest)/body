{
  String path=req.getServletPath();
  String pathInfo=req.getPathInfo();
  if (pathInfo != null) {
    path+=pathInfo;
  }
  int actionLen=REPLICATION_CONTEXT.length();
  int startIdx=actionLen;
  if (path.length() > actionLen && path.charAt(actionLen) == '/') {
    ++startIdx;
  }
  StringTokenizer stok=new StringTokenizer(path.substring(startIdx),"/");
  ArrayList<String> elements=new ArrayList<String>();
  while (stok.hasMoreTokens()) {
    elements.add(stok.nextToken());
  }
  return elements.toArray(new String[0]);
}
