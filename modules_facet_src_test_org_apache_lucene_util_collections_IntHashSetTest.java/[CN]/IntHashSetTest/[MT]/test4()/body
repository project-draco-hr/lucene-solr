{
  IntHashSet set1=new IntHashSet();
  HashSet<Integer> set2=new HashSet<Integer>();
  for (int i=0; i < ArrayHashMapTest.RANDOM_TEST_NUM_ITERATIONS; ++i) {
    int value=random.nextInt() % 500;
    boolean shouldAdd=random.nextBoolean();
    if (shouldAdd) {
      set1.add(value);
      set2.add(value);
    }
 else {
      set1.remove(value);
      set2.remove(value);
    }
  }
  assertEquals(set2.size(),set1.size());
  int i=0;
  for (  int value : set2) {
    assertTrue(set1.contains(value));
    i++;
  }
}
