{
  collector.setScorer(scorer);
  int primDoc, secDoc;
  if (primary.docID() == -1) {
    primDoc=primary.nextDoc();
    secDoc=secondary.advance(primDoc);
  }
 else {
    primDoc=primary.docID();
    secDoc=secondary.docID();
  }
  for (; ; ) {
    if (primDoc == secDoc) {
      if (primDoc >= maxDoc) {
        return primDoc < Scorer.NO_MORE_DOCS;
      }
      collector.collect(primDoc);
      primDoc=primary.nextDoc();
      secDoc=secondary.advance(primDoc);
    }
 else     if (secDoc > primDoc) {
      primDoc=primary.advance(secDoc);
    }
 else {
      secDoc=secondary.advance(primDoc);
    }
  }
}
