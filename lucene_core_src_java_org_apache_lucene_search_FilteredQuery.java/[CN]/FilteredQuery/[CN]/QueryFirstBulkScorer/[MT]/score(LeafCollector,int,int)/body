{
  collector.setScorer(scorer);
  if (scorer.docID() < min) {
    scorer.advance(min);
  }
  while (true) {
    final int scorerDoc=scorer.docID();
    if (scorerDoc < maxDoc) {
      if (filterBits.get(scorerDoc)) {
        collector.collect(scorerDoc);
      }
      scorer.nextDoc();
    }
 else {
      break;
    }
  }
  return scorer.docID();
}
