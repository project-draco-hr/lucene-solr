{
  LRUCache<String,String> cache=new LRUCache<>();
  Map<String,String> params=new HashMap<>();
  params.put("size","5");
  params.put("maxRamMB","1");
  CacheRegenerator cr=new NoOpRegenerator();
  Object o=cache.init(params,null,cr);
  try {
    cache.put("1","1");
    fail("Adding a non-accountable value to a cache configured with maxRamBytes should have failed");
  }
 catch (  Exception e) {
    assertEquals(e.getClass(),SolrException.class);
  }
}
