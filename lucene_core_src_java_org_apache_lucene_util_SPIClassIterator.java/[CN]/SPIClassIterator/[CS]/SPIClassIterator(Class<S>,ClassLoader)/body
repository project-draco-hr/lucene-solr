{
  this.clazz=clazz;
  try {
    final String fullName=META_INF_SERVICES + clazz.getName();
    this.profilesEnum=(loader == null) ? ClassLoader.getSystemResources(fullName) : loader.getResources(fullName);
  }
 catch (  IOException ioe) {
    throw new ServiceConfigurationError("Error loading SPI profiles for type " + clazz.getName() + " from classpath",ioe);
  }
  this.loader=(loader == null) ? ClassLoader.getSystemClassLoader() : loader;
  this.linesIterator=Collections.<String>emptySet().iterator();
}
