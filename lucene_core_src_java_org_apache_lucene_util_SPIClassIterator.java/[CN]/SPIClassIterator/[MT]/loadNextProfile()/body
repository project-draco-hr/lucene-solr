{
  ArrayList<String> lines=null;
  while (profilesEnum.hasMoreElements()) {
    if (lines != null) {
      lines.clear();
    }
 else {
      lines=new ArrayList<String>();
    }
    final URL url=profilesEnum.nextElement();
    try {
      final InputStream in=url.openStream();
      IOException priorE=null;
      try {
        final BufferedReader reader=new BufferedReader(new InputStreamReader(in,IOUtils.CHARSET_UTF_8));
        String line;
        while ((line=reader.readLine()) != null) {
          final String[] prts=line.trim().split("#");
          if (0 != prts.length) {
            final String c=prts[0].trim();
            if (!(0 == c.length() || c.startsWith("#"))) {
              lines.add(c);
            }
          }
        }
      }
 catch (      IOException ioe) {
        priorE=ioe;
      }
 finally {
        IOUtils.closeWhileHandlingException(priorE,in);
      }
    }
 catch (    IOException ioe) {
      throw new ServiceConfigurationError("Error loading SPI class list from URL: " + url,ioe);
    }
    if (!lines.isEmpty()) {
      this.linesIterator=lines.iterator();
      return true;
    }
  }
  return false;
}
