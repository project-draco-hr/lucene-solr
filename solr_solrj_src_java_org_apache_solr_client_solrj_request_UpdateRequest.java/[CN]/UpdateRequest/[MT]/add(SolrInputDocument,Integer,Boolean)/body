{
  if (documents == null) {
    documents=new LinkedHashMap<SolrInputDocument,Map<String,Object>>();
  }
  Map<String,Object> params=new HashMap<String,Object>(2);
  if (commitWithin != null)   params.put(COMMIT_WITHIN,commitWithin);
  if (overwrite != null)   params.put(OVERWRITE,overwrite);
  documents.put(doc,params);
  return this;
}
