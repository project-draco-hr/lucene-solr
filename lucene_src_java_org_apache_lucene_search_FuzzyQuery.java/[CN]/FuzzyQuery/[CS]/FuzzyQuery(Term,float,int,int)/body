{
  super(term.field());
  this.term=term;
  if (minimumSimilarity >= 1.0f && minimumSimilarity != (int)minimumSimilarity)   throw new IllegalArgumentException("fractional edit distances are not allowed");
  if (minimumSimilarity < 0.0f)   throw new IllegalArgumentException("minimumSimilarity < 0");
  if (prefixLength < 0)   throw new IllegalArgumentException("prefixLength < 0");
  if (maxExpansions < 0)   throw new IllegalArgumentException("maxExpansions < 0");
  setRewriteMethod(new MultiTermQuery.TopTermsScoringBooleanQueryRewrite(maxExpansions));
  String text=term.text();
  int len=text.codePointCount(0,text.length());
  if (len > 0 && (minimumSimilarity >= 1f || len > 1.0f / (1.0f - minimumSimilarity))) {
    this.termLongEnough=true;
  }
  this.minimumSimilarity=minimumSimilarity;
  this.prefixLength=prefixLength;
}
