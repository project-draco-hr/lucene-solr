{
  IndexSearcher searcher=new IndexSearcher(directory);
  Sort sort=new Sort(new SortField(DATE_TIME_FIELD,SortField.AUTO,true));
  QueryParser queryParser=new QueryParser(TEXT_FIELD,new WhitespaceAnalyzer());
  Query query=queryParser.parse("Document");
  String[] actualOrder=new String[5];
  Hits hits=searcher.search(query,sort);
  for (int i=0; i < hits.length(); i++) {
    Document document=hits.doc(i);
    String text=document.get(TEXT_FIELD);
    actualOrder[i]=text;
  }
  searcher.close();
  String[] expectedOrder=new String[5];
  expectedOrder[0]="Document 5";
  expectedOrder[1]="Document 4";
  expectedOrder[2]="Document 3";
  expectedOrder[3]="Document 2";
  expectedOrder[4]="Document 1";
  assertEquals(Arrays.asList(expectedOrder),Arrays.asList(actualOrder));
}
