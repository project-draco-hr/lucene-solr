{
  maybeYield();
  maybeThrowDeterministicException();
  if (crashed) {
    throw new IOException("cannot delete after crash");
  }
  for (  String name : names) {
    if (openFiles.containsKey(name)) {
      openFilesDeleted.add(name);
      if (assertNoDeleteOpenFile) {
        throw (IOException)fillOpenTrace(new IOException("MockDirectoryWrapper: file \"" + name + "\" is still open: cannot delete"),name,true);
      }
    }
 else {
      openFilesDeleted.remove(name);
    }
  }
  unSyncedFiles.removeAll(names);
  in.deleteFiles(names);
}
