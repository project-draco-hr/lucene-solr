{
  termsOut=new TermInfosWriter(state.directory,state.segmentName,state.fieldInfos,state.termIndexInterval);
  final String freqFile=IndexFileNames.segmentFileName(state.segmentName,"",PreFlexCodec.FREQ_EXTENSION);
  freqOut=state.directory.createOutput(freqFile,state.context);
  totalNumDocs=state.numDocs;
  if (state.fieldInfos.hasProx()) {
    final String proxFile=IndexFileNames.segmentFileName(state.segmentName,"",PreFlexCodec.PROX_EXTENSION);
    proxOut=state.directory.createOutput(proxFile,state.context);
  }
 else {
    proxOut=null;
  }
  skipListWriter=new DefaultSkipListWriter(termsOut.skipInterval,termsOut.maxSkipLevels,totalNumDocs,freqOut,proxOut);
}
