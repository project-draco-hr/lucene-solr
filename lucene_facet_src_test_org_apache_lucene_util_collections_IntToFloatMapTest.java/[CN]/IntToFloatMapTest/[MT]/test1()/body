{
  IntToFloatMap map=new IntToFloatMap();
  for (int i=0; i < 100; ++i) {
    map.put(i,Integer.valueOf(100 + i));
  }
  HashSet<Float> set=new HashSet<Float>();
  for (FloatIterator iterator=map.iterator(); iterator.hasNext(); ) {
    set.add(iterator.next());
  }
  assertEquals(set.size(),map.size());
  for (int i=0; i < 100; ++i) {
    assertTrue(set.contains(Float.valueOf(100 + i)));
  }
  set.clear();
  for (FloatIterator iterator=map.iterator(); iterator.hasNext(); ) {
    float d=iterator.next();
    if (d % 2 == 1) {
      iterator.remove();
      continue;
    }
    set.add(d);
  }
  assertEquals(set.size(),map.size());
  for (int i=0; i < 100; i+=2) {
    assertTrue(set.contains(Float.valueOf(100 + i)));
  }
}
