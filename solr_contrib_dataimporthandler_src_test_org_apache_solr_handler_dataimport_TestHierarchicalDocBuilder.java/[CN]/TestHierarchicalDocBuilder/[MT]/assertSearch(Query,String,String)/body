{
  SolrIndexSearcher searcher=req.getSearcher();
  TopDocs result=searcher.search(query,values.length * 2);
  assertEquals(values.length,result.totalHits);
  List<String> actualValues=new ArrayList<String>();
  for (int index=0; index < values.length; ++index) {
    Document doc=searcher.doc(result.scoreDocs[index].doc);
    actualValues.add(doc.get(field));
  }
  for (  String expectedValue : values) {
    boolean removed=actualValues.remove(expectedValue);
    if (!removed) {
      fail("Search result does not contain expected values");
    }
  }
}
