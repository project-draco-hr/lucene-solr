{
  if (postingsVectorsUpto == postingsVectors.length) {
    final int newSize;
    if (postingsVectors.length < 2)     newSize=2;
 else     newSize=(int)(1.5 * postingsVectors.length);
    PostingVector[] newArray=new PostingVector[newSize];
    System.arraycopy(postingsVectors,0,newArray,0,postingsVectors.length);
    postingsVectors=newArray;
  }
  p.vector=postingsVectors[postingsVectorsUpto];
  if (p.vector == null)   p.vector=postingsVectors[postingsVectorsUpto]=new PostingVector();
  postingsVectorsUpto++;
  final PostingVector v=p.vector;
  v.p=p;
  final int firstSize=levelSizeArray[0];
  if (doVectorPositions) {
    final int upto=vectorsPool.newSlice(firstSize);
    v.posStart=v.posUpto=vectorsPool.byteOffset + upto;
  }
  if (doVectorOffsets) {
    final int upto=vectorsPool.newSlice(firstSize);
    v.offsetStart=v.offsetUpto=vectorsPool.byteOffset + upto;
  }
  return v;
}
