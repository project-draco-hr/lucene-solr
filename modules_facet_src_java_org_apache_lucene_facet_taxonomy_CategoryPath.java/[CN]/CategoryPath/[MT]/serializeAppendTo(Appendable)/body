{
  out.append((char)ncomponents);
  if (ncomponents == 0) {
    return;
  }
  for (int i=0; i < ncomponents; i++) {
    out.append((char)ends[i]);
  }
  int usedchars=ends[ncomponents - 1];
  for (int i=0; i < usedchars; i++) {
    out.append(chars[i]);
  }
}
