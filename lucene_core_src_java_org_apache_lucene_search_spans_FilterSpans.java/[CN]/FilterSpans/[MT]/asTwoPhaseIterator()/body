{
  TwoPhaseIterator inner=in.asTwoPhaseIterator();
  if (inner != null) {
    return new TwoPhaseIterator(inner.approximation()){
      @Override public boolean matches() throws IOException {
        return inner.matches() && twoPhaseCurrentDocMatches();
      }
    }
;
  }
 else {
    return new TwoPhaseIterator(in){
      @Override public boolean matches() throws IOException {
        return twoPhaseCurrentDocMatches();
      }
    }
;
  }
}
