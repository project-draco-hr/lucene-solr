{
  AttributeSource clone=new AttributeSource(this.factory);
  Iterator implIt=getAttributeImplsIterator();
  while (implIt.hasNext()) {
    AttributeImpl impl=(AttributeImpl)implIt.next();
    clone.attributeImpls.put(impl.getClass(),impl.clone());
  }
  Iterator attIt=this.attributes.entrySet().iterator();
  while (attIt.hasNext()) {
    Entry entry=(Entry)attIt.next();
    clone.attributes.put(entry.getKey(),clone.attributeImpls.get(entry.getValue().getClass()));
  }
  return clone;
}
