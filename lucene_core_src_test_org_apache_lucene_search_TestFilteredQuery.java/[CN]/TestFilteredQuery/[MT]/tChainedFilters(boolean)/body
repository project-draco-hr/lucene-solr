{
  Query query=new FilteredQuery(new FilteredQuery(new MatchAllDocsQuery(),new FilterWrapper(new QueryWrapperFilter(new TermQuery(new Term("field","three")))),randomFilterStrategy(random(),useRandomAccess)),new FilterWrapper(new QueryWrapperFilter(new TermQuery(new Term("field","four")))),randomFilterStrategy(random(),useRandomAccess));
  ScoreDoc[] hits=searcher.search(query,10).scoreDocs;
  assertEquals(2,hits.length);
  QueryUtils.check(random(),query,searcher);
  query=new FilteredQuery(query,new FilterWrapper(new QueryWrapperFilter(new TermQuery(new Term("field","five")))),randomFilterStrategy(random(),useRandomAccess));
  hits=searcher.search(query,10).scoreDocs;
  assertEquals(1,hits.length);
  QueryUtils.check(random(),query,searcher);
}
