{
  Query query=new TestFilteredQuery.FilteredQueryRA(new TestFilteredQuery.FilteredQueryRA(new MatchAllDocsQuery(),new CachingWrapperFilter(new QueryWrapperFilter(new TermQuery(new Term("field","three")))),useRandomAccess),new CachingWrapperFilter(new QueryWrapperFilter(new TermQuery(new Term("field","four")))),useRandomAccess);
  ScoreDoc[] hits=searcher.search(query,10).scoreDocs;
  assertEquals(2,hits.length);
  QueryUtils.check(random,query,searcher);
  query=new TestFilteredQuery.FilteredQueryRA(query,new CachingWrapperFilter(new QueryWrapperFilter(new TermQuery(new Term("field","five")))),useRandomAccess);
  hits=searcher.search(query,10).scoreDocs;
  assertEquals(1,hits.length);
  QueryUtils.check(random,query,searcher);
}
