{
  if (child == null)   throw new IllegalArgumentException("child analyzer must not be null");
  if (synonyms == null)   throw new IllegalArgumentException("synonyms must not be null");
  if (maxSynonyms < 0)   throw new IllegalArgumentException("maxSynonyms must not be negative");
  if (maxSynonyms == 0)   return child;
  return new Analyzer(){
    public TokenStream tokenStream(    String fieldName,    Reader reader){
      return new SynonymTokenFilter(child.tokenStream(fieldName,reader),synonyms,maxSynonyms);
    }
  }
;
}
