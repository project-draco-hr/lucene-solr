{
  if (!(text instanceof CharArrayIterator))   throw new UnsupportedOperationException("unsupported CharacterIterator");
  this.text=(CharArrayIterator)text;
  ccReorder(this.text.getText(),this.text.getStart(),this.text.getLength());
  working.setText(this.text.getText(),this.text.getStart(),this.text.getLength());
  rules.setText(working);
  workingOffset=0;
}
