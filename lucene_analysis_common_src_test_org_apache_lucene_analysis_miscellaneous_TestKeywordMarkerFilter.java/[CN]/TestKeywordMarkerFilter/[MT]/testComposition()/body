{
  TokenStream ts=new LowerCaseFilterMock(new SetKeywordMarkerFilter(new SetKeywordMarkerFilter(new MockTokenizer(new StringReader("Dogs Trees Birds Houses"),MockTokenizer.WHITESPACE,false),new CharArraySet(TEST_VERSION_CURRENT,asSet("Birds","Houses"),false)),new CharArraySet(TEST_VERSION_CURRENT,asSet("Dogs","Trees"),false)));
  assertTokenStreamContents(ts,new String[]{"Dogs","Trees","Birds","Houses"});
  ts=new LowerCaseFilterMock(new PatternKeywordMarkerFilter(new PatternKeywordMarkerFilter(new MockTokenizer(new StringReader("Dogs Trees Birds Houses"),MockTokenizer.WHITESPACE,false),Pattern.compile("Birds|Houses")),Pattern.compile("Dogs|Trees")));
  assertTokenStreamContents(ts,new String[]{"Dogs","Trees","Birds","Houses"});
  ts=new LowerCaseFilterMock(new SetKeywordMarkerFilter(new PatternKeywordMarkerFilter(new MockTokenizer(new StringReader("Dogs Trees Birds Houses"),MockTokenizer.WHITESPACE,false),Pattern.compile("Birds|Houses")),new CharArraySet(TEST_VERSION_CURRENT,asSet("Dogs","Trees"),false)));
  assertTokenStreamContents(ts,new String[]{"Dogs","Trees","Birds","Houses"});
}
