{
  RAMDirectory rd=new RAMDirectory();
  IndexWriterConfig iwConfig=new IndexWriterConfig(Version.LUCENE_CURRENT,analyzer);
  IndexWriter writer=new IndexWriter(rd,iwConfig);
  InputStream dataIn=getServletContext().getResourceAsStream("/WEB-INF/data.tsv");
  BufferedReader br=new BufferedReader(new InputStreamReader(dataIn,IOUtils.CHARSET_UTF_8));
  String line=br.readLine();
  final FieldType textNoNorms=new FieldType(TextField.TYPE_STORED);
  textNoNorms.setOmitNorms(true);
  while (line != null) {
    line=line.trim();
    if (line.length() > 0) {
      StringTokenizer st=new StringTokenizer(line,"\t");
      Document doc=new Document();
      doc.add(new Field("location",st.nextToken(),textNoNorms));
      doc.add(new Field("salary",st.nextToken(),textNoNorms));
      doc.add(new Field("type",st.nextToken(),textNoNorms));
      doc.add(new Field("description",st.nextToken(),textNoNorms));
      writer.addDocument(doc);
    }
    line=br.readLine();
  }
  writer.close();
  IndexReader reader=DirectoryReader.open(rd);
  searcher=new IndexSearcher(reader);
}
