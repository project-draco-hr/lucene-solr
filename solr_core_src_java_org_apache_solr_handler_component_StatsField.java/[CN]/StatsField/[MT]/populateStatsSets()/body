{
  boolean statSpecifiedByLocalParam=false;
  Iterator<String> itParams=localParams.getParameterNamesIterator();
  while (itParams.hasNext()) {
    String paramKey=itParams.next();
    Stat stat=Stat.forName(paramKey);
    if (stat != null) {
      statSpecifiedByLocalParam=true;
      if (stat.parseParams(this)) {
        statsInResponse.add(stat);
      }
    }
  }
  if (!(statSpecifiedByLocalParam || localParams.getBool("calcdistinct",false))) {
    statsInResponse.addAll(DEFAULT_STATS);
  }
  if (localParams.getBool("calcdistinct",topLevelCalcDistinct)) {
    for (    Stat stat : CALCDISTINCT_PSUEDO_STAT) {
      if (localParams.getBool(stat.name(),true)) {
        statsInResponse.add(stat);
      }
    }
  }
  for (  Stat stat : statsInResponse) {
    statsToCalculate.addAll(stat.getDistribDeps());
  }
}
