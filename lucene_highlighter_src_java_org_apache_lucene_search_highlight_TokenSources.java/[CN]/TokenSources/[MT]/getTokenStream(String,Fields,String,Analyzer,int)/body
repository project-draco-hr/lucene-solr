{
  TokenStream tokenStream=getTermVectorTokenStreamOrNull(field,tvFields,maxStartOffset);
  if (tokenStream != null) {
    return tokenStream;
  }
  tokenStream=analyzer.tokenStream(field,text);
  if (maxStartOffset >= 0 && maxStartOffset < text.length() - 1) {
    tokenStream=new LimitTokenOffsetFilter(tokenStream,maxStartOffset);
  }
  return tokenStream;
}
