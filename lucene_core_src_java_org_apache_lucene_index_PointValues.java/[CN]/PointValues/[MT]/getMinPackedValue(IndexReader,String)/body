{
  byte[] minValue=null;
  for (  LeafReaderContext ctx : reader.leaves()) {
    PointValues values=ctx.reader().getPointValues();
    if (values == null) {
      continue;
    }
    byte[] leafMinValue=values.getMinPackedValue(field);
    if (leafMinValue == null) {
      continue;
    }
    if (minValue == null) {
      minValue=leafMinValue.clone();
    }
 else {
      final int numDimensions=values.getNumDimensions(field);
      final int numBytesPerDimension=values.getBytesPerDimension(field);
      for (int i=0; i < numDimensions; ++i) {
        int offset=i * numBytesPerDimension;
        if (StringHelper.compare(numBytesPerDimension,leafMinValue,offset,minValue,offset) < 0) {
          System.arraycopy(leafMinValue,offset,minValue,offset,numBytesPerDimension);
        }
      }
    }
  }
  return minValue;
}
