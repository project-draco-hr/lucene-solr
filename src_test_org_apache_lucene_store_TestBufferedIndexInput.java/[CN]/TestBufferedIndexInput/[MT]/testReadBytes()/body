{
  final Random r=newRandom();
  MyBufferedIndexInput input=new MyBufferedIndexInput();
  runReadBytes(input,BufferedIndexInput.BUFFER_SIZE,r);
  final int inputBufferSize=128;
  File tmpInputFile=File.createTempFile("IndexInput","tmpFile");
  tmpInputFile.deleteOnExit();
  writeBytes(tmpInputFile,TEST_FILE_LENGTH);
  runReadBytesAndClose(new SimpleFSIndexInput(tmpInputFile,inputBufferSize,10),inputBufferSize,r);
  runReadBytesAndClose(new SimpleFSIndexInput(tmpInputFile,inputBufferSize),inputBufferSize,r);
  runReadBytesAndClose(new NIOFSIndexInput(tmpInputFile,inputBufferSize,10),inputBufferSize,r);
  runReadBytesAndClose(new NIOFSIndexInput(tmpInputFile,inputBufferSize),inputBufferSize,r);
}
