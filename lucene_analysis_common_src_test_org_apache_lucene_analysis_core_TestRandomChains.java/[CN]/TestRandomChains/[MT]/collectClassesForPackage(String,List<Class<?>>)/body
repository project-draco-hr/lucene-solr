{
  final ClassLoader cld=TestRandomChains.class.getClassLoader();
  final String path=pckgname.replace('.','/');
  final Enumeration<URL> resources=cld.getResources(path);
  while (resources.hasMoreElements()) {
    final URI uri=resources.nextElement().toURI();
    if (!"file".equalsIgnoreCase(uri.getScheme()))     continue;
    final File directory=new File(uri);
    if (directory.exists()) {
      String[] files=directory.list();
      for (      String file : files) {
        if (new File(directory,file).isDirectory()) {
          String subPackage=pckgname + "." + file;
          collectClassesForPackage(subPackage,classes);
        }
        if (file.endsWith(".class")) {
          String clazzName=file.substring(0,file.length() - 6);
          if (!clazzName.endsWith("Test") && !clazzName.startsWith("Test")) {
            classes.add(Class.forName(pckgname + '.' + clazzName,false,cld));
          }
        }
      }
    }
  }
}
