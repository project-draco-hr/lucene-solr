{
  List<List<Method>> methodHierarchy=annotatedWith(all,ann);
  List<List<Method>> noShadows=removeShadowed(methodHierarchy);
  if (!noShadows.equals(methodHierarchy)) {
    Set<Method> shadowed=new HashSet<Method>(flatten(methodHierarchy));
    shadowed.removeAll(flatten(noShadows));
    StringBuilder b=new StringBuilder();
    for (    Method m : shadowed) {
      String sig=signature(m);
      for (      Method other : flatten(methodHierarchy)) {
        if (other != m && sig.equals(signature(other))) {
          b.append("Method: " + m.toString() + "#"+ sig+ " possibly shadowed by "+ other.toString()+ "#"+ signature(other)+ "\n");
        }
      }
    }
    throw new RuntimeException("There are shadowed methods annotated with " + ann.getName() + ". These methods would not be executed by JUnit and need to manually chain themselves which can lead to"+ " maintenance problems.\n"+ b.toString().trim());
  }
}
