{
  final Random r=newRandom();
  final int ITER1=100 * _TestUtil.getRandomMultiplier();
  final int ITER2=100 * _TestUtil.getRandomMultiplier();
  for (int i=0; i < ITER1; i++) {
    final RegExp re=AutomatonTestUtil.randomRegexp(r);
    final Automaton a=re.toAutomaton();
    assertFalse(BasicOperations.isEmpty(a));
    final BasicOperations.RandomAcceptedStrings rx=new BasicOperations.RandomAcceptedStrings(a);
    for (int j=0; j < ITER2; j++) {
      int[] acc=null;
      try {
        acc=rx.getRandomAcceptedString(r);
        final String s=UnicodeUtil.newString(acc,0,acc.length);
        assertTrue(BasicOperations.run(a,s));
      }
 catch (      Throwable t) {
        System.out.println("regexp: " + re);
        if (acc != null) {
          System.out.println("fail acc re=" + re + " count="+ acc.length);
          for (int k=0; k < acc.length; k++) {
            System.out.println("  " + Integer.toHexString(acc[k]));
          }
        }
        throw t;
      }
    }
  }
}
