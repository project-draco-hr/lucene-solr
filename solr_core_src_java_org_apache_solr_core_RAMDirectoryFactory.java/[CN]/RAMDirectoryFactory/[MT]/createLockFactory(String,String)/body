{
  if (!(rawLockType == null || "single".equalsIgnoreCase(rawLockType.trim()))) {
    throw new SolrException(ErrorCode.FORBIDDEN,"RAMDirectory can only be used with the 'single' lock factory type.");
  }
  return new SingleInstanceLockFactory();
}
