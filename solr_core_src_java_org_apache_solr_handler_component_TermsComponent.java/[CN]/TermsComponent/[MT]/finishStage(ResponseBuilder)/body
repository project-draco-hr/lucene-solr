{
  if (!rb.doTerms || rb.stage != ResponseBuilder.STAGE_EXECUTE_QUERY) {
    return;
  }
  TermsHelper ti=rb._termsHelper;
  NamedList terms=ti.buildResponse();
  rb.rsp.add("terms",terms);
  if (ti.stats) {
    NamedList<Number> stats=new SimpleOrderedMap();
    stats.add("numDocs",Long.valueOf(ti.numDocs));
    rb.rsp.add("indexstats",stats);
  }
  rb._termsHelper=null;
}
