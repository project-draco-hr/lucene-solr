{
  int ng1, ng2;
  IndexReader.unlock(spellindex);
  IndexWriter writer=new IndexWriter(spellindex,new WhitespaceAnalyzer(),!IndexReader.indexExists(spellindex));
  writer.mergeFactor=300;
  writer.minMergeDocs=150;
  Iterator iter=dict.getWordsIterator();
  while (iter.hasNext()) {
    String word=(String)iter.next();
    int len=word.length();
    if (len < 3) {
      continue;
    }
    if (this.exist(word)) {
      continue;
    }
    Document doc=createDocument(word,getMin(len),getMax(len));
    writer.addDocument(doc);
  }
  writer.optimize();
  writer.close();
  reader.close();
  reader=null;
}
