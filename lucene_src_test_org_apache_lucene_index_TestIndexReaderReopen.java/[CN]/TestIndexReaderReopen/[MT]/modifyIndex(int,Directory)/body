{
switch (i) {
case 0:
{
      IndexWriter w=new IndexWriter(dir,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer()));
      w.deleteDocuments(new Term("field2","a11"));
      w.deleteDocuments(new Term("field2","b30"));
      w.close();
      break;
    }
case 1:
{
    IndexReader reader=IndexReader.open(dir,false);
    reader.setNorm(4,"field1",Similarity.getDefault().encodeNormValue(123f));
    reader.setNorm(44,"field2",Similarity.getDefault().encodeNormValue(222f));
    reader.setNorm(44,"field4",Similarity.getDefault().encodeNormValue(22f));
    reader.close();
    break;
  }
case 2:
{
  IndexWriter w=new IndexWriter(dir,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer()));
  w.optimize();
  w.close();
  break;
}
case 3:
{
IndexWriter w=new IndexWriter(dir,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer()));
w.addDocument(createDocument(101,4));
w.optimize();
w.addDocument(createDocument(102,4));
w.addDocument(createDocument(103,4));
w.close();
break;
}
case 4:
{
IndexReader reader=IndexReader.open(dir,false);
reader.setNorm(5,"field1",Similarity.getDefault().encodeNormValue(123f));
reader.setNorm(55,"field2",Similarity.getDefault().encodeNormValue(222f));
reader.close();
break;
}
case 5:
{
IndexWriter w=new IndexWriter(dir,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer()));
w.addDocument(createDocument(101,4));
w.close();
break;
}
}
}
