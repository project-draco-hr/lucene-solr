{
  Tokenizer tokenizer=new SentenceTokenizer(reader);
  TokenStream result=new WordTokenFilter(tokenizer);
  result=new PorterStemFilter(result);
  if (!stopWords.isEmpty()) {
    result=new StopFilter(matchVersion,result,stopWords,false);
  }
  return new TokenStreamComponents(tokenizer,result);
}
