{
  this.core=core;
  this.replicas=replicas;
  this.nUpdates=nUpdates;
  this.maxUpdates=nUpdates;
  this.cantReachIsSuccess=cantReachIsSuccess;
  this.getNoVersionsIsSuccess=getNoVersionsIsSuccess;
  this.doFingerprint=doFingerprint;
  this.client=core.getCoreDescriptor().getCoreContainer().getUpdateShardHandler().getHttpClient();
  this.onlyIfActive=onlyIfActive;
  uhandler=core.getUpdateHandler();
  ulog=uhandler.getUpdateLog();
  shardHandlerFactory=(HttpShardHandlerFactory)core.getCoreDescriptor().getCoreContainer().getShardHandlerFactory();
  shardHandler=shardHandlerFactory.getShardHandler(client);
}
