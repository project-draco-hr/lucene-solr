{
  ArrayList<Token> lst=new ArrayList<Token>();
  final List toks=tokens(input);
  TokenStream ts=new TokenStream(){
    Iterator iter=toks.iterator();
    @Override public Token next() throws IOException {
      return iter.hasNext() ? (Token)iter.next() : null;
    }
  }
;
  SynonymFilter sf=new SynonymFilter(ts,dict);
  Token target=new Token();
  while (true) {
    Token t=sf.next(target);
    if (t == null)     return lst;
    lst.add((Token)t.clone());
  }
}
