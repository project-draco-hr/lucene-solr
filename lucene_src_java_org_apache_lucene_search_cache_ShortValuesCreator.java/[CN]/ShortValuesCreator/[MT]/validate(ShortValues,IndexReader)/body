{
  boolean ok=false;
  if (hasOption(OPTION_CACHE_VALUES)) {
    ok=true;
    if (entry.values == null) {
      fillShortValues(entry,reader,field);
    }
 else {
      assertSameParser(entry,parser);
    }
  }
  if (hasOption(OPTION_CACHE_BITS)) {
    ok=true;
    if (entry.valid == null) {
      fillValidBits(entry,reader,field);
    }
  }
  if (!ok) {
    throw new RuntimeException("the config must cache values and/or bits");
  }
  return entry;
}
