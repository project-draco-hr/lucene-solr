{
  for (int i=0; i < testFields.length; i++) {
    fieldInfos.add(testFields[i],true,true);
  }
  try {
    Arrays.sort(testTerms);
    for (int j=0; j < 5; j++) {
      writer=new TermVectorsWriter(dir,seg,fieldInfos);
      writer.openDocument();
      for (int k=0; k < testFields.length; k++) {
        writer.openField(testFields[k]);
        for (int i=0; i < testTerms.length; i++) {
          writer.addTerm(testTerms[i],i);
        }
        writer.closeField();
      }
      writer.closeDocument();
      writer.close();
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
    assertTrue(false);
  }
}
