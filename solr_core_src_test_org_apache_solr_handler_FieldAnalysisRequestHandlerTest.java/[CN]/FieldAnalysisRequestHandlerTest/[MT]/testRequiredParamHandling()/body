{
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.add(CommonParams.Q,"fox brown");
  SolrQueryRequest req=new LocalSolrQueryRequest(h.getCore(),params);
  try {
    FieldAnalysisRequest request=handler.resolveAnalysisRequest(req);
    fail("A request with no parameters should not have succeeded");
  }
 catch (  NullPointerException npe) {
    fail("A request with no paramters should not result in NPE");
  }
catch (  SolrException e) {
    assertEquals("A request with no parameters should have returned a BAD_REQUEST error",e.code(),SolrException.ErrorCode.BAD_REQUEST.code);
  }
}
