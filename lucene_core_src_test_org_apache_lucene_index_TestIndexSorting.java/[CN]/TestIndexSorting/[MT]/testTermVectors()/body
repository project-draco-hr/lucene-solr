{
  for (  LeafReaderContext ctx : sortedReader.leaves()) {
    LeafReader reader=ctx.reader();
    int maxDoc=reader.maxDoc();
    for (int doc=0; doc < maxDoc; doc++) {
      Terms terms=reader.getTermVector(doc,TERM_VECTORS_FIELD);
      assertNotNull("term vectors not found for doc " + doc + " field ["+ TERM_VECTORS_FIELD+ "]",terms);
      String id=reader.document(doc).get(ID_FIELD);
      assertEquals("incorrect term vector for doc " + doc,id,terms.iterator().next().utf8ToString());
    }
  }
}
