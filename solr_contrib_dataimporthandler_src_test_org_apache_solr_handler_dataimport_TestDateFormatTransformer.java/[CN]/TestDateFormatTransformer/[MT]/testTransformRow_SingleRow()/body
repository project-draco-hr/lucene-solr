{
  List<Map<String,String>> fields=new ArrayList<>();
  fields.add(createMap(DataImporter.COLUMN,"lastModified"));
  fields.add(createMap(DataImporter.COLUMN,"dateAdded",RegexTransformer.SRC_COL_NAME,"lastModified",DateFormatTransformer.DATE_TIME_FMT,"${xyz.myDateFormat}"));
  SimpleDateFormat format=new SimpleDateFormat("MM/dd/yyyy",Locale.ROOT);
  Date now=format.parse(format.format(new Date()));
  Map<String,Object> row=createMap("lastModified",format.format(now));
  VariableResolver resolver=new VariableResolver();
  resolver.addNamespace("e",row);
  resolver.addNamespace("xyz",createMap("myDateFormat","MM/dd/yyyy"));
  Context context=getContext(null,resolver,null,Context.FULL_DUMP,fields,null);
  new DateFormatTransformer().transformRow(row,context);
  assertEquals(now,row.get("dateAdded"));
}
