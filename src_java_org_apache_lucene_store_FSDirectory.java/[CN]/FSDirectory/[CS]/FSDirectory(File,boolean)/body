{
  directory=path;
  lockDir=new File(LOCK_DIR);
  if (!lockDir.isAbsolute()) {
    lockDir=new File(directory,LOCK_DIR);
  }
  if (lockDir.exists() == false) {
    if (lockDir.mkdirs() == false) {
      throw new IOException("Cannot create lock directory: " + lockDir);
    }
  }
  if (create)   create();
  if (!directory.isDirectory())   throw new IOException(path + " not a directory");
}
