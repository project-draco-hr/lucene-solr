{
  file=new File(file.getCanonicalPath());
  if (file.exists() && !file.isDirectory())   throw new IOException(file + " not a directory");
  if (!file.exists())   if (!file.mkdirs())   throw new IOException("Cannot create directory: " + file);
  return file;
}
