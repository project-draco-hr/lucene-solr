{
  final File lockFile=new File(directory,name);
  return new Lock(){
    public boolean obtain() throws IOException {
      if (Constants.JAVA_1_1)       return true;
      return lockFile.createNewFile();
    }
    public void release(){
      if (Constants.JAVA_1_1)       return;
      lockFile.delete();
    }
    public String toString(){
      return "Lock@" + lockFile;
    }
  }
;
}
