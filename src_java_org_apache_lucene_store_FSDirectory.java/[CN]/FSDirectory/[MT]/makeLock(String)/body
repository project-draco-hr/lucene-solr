{
  StringBuffer buf=getLockPrefix();
  buf.append("-");
  buf.append(name);
  final File lockFile=new File(lockDir,buf.toString());
  return new Lock(lockFile){
    public boolean obtain() throws IOException {
      if (DISABLE_LOCKS)       return true;
      return lockFile.createNewFile();
    }
    public void release(){
      if (DISABLE_LOCKS)       return;
      lockFile.delete();
    }
    public boolean isLocked(){
      if (DISABLE_LOCKS)       return false;
      return lockFile.exists();
    }
    public String toString(){
      return "Lock@" + lockFile;
    }
  }
;
}
