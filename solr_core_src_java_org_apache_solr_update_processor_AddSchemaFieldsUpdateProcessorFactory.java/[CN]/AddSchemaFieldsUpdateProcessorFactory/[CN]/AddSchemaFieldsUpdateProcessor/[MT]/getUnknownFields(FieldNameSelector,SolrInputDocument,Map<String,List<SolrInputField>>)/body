{
  for (  final String fieldName : doc.getFieldNames()) {
    if (selector.shouldMutate(fieldName)) {
      List<SolrInputField> solrInputFields=unknownFields.get(fieldName);
      if (null == solrInputFields) {
        solrInputFields=new ArrayList<>();
        unknownFields.put(fieldName,solrInputFields);
      }
      solrInputFields.add(doc.getField(fieldName));
    }
  }
  List<SolrInputDocument> childDocs=doc.getChildDocuments();
  if (null != childDocs) {
    for (    SolrInputDocument childDoc : childDocs) {
      getUnknownFields(selector,childDoc,unknownFields);
    }
  }
}
