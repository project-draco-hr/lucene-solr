{
  Searchable[] searchables={getRemote()};
  Searcher searcher=new MultiSearcher(searchables);
  ScoreDoc[] result=searcher.search(query,null,1000).scoreDocs;
  assertEquals(1,result.length);
  Document document=searcher.doc(result[0].doc);
  assertTrue("document is null and it shouldn't be",document != null);
  assertEquals("test text",document.get("test"));
  assertTrue("document.getFields() Size: " + document.getFields().size() + " is not: "+ 2,document.getFields().size() == 2);
  Set<String> ftl=new HashSet<String>();
  ftl.add("other");
  FieldSelector fs=new SetBasedFieldSelector(ftl,Collections.<String>emptySet());
  document=searcher.doc(0,fs);
  assertTrue("document is null and it shouldn't be",document != null);
  assertTrue("document.getFields() Size: " + document.getFields().size() + " is not: "+ 1,document.getFields().size() == 1);
  fs=new MapFieldSelector(new String[]{"other"});
  document=searcher.doc(0,fs);
  assertTrue("document is null and it shouldn't be",document != null);
  assertTrue("document.getFields() Size: " + document.getFields().size() + " is not: "+ 1,document.getFields().size() == 1);
}
