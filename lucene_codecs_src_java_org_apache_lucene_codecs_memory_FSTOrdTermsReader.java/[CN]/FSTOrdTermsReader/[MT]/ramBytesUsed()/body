{
  long ramBytesUsed=0;
  for (  TermsReader r : fields.values()) {
    if (r.index != null) {
      ramBytesUsed+=r.index.ramBytesUsed();
      ramBytesUsed+=RamUsageEstimator.sizeOf(r.metaBytesBlock);
      ramBytesUsed+=RamUsageEstimator.sizeOf(r.metaLongsBlock);
      ramBytesUsed+=RamUsageEstimator.sizeOf(r.skipInfo);
      ramBytesUsed+=RamUsageEstimator.sizeOf(r.statsBlock);
    }
  }
  return ramBytesUsed;
}
