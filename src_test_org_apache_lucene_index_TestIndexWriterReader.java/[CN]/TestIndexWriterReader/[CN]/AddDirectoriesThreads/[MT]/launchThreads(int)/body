{
  for (int i=0; i < NUM_THREADS; i++) {
    threads[i]=new Thread(){
      public void run(){
        try {
          final Directory[] dirs=new Directory[numDirs];
          for (int k=0; k < numDirs; k++)           dirs[k]=new MockRAMDirectory(addDir);
          for (int x=0; x < numIter; x++) {
            doBody(x,dirs);
          }
        }
 catch (        Throwable t) {
          handle(t);
        }
      }
    }
;
  }
  for (int i=0; i < NUM_THREADS; i++)   threads[i].start();
}
