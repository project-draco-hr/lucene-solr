{
  this.baseUrl=baseURL;
  if (baseUrl.endsWith("/")) {
    baseUrl=baseUrl.substring(0,baseUrl.length() - 1);
  }
  if (baseUrl.indexOf('?') >= 0) {
    throw new RuntimeException("Invalid base url for solrj.  The base URL must not contain parameters: " + baseUrl);
  }
  if (client != null) {
    httpClient=client;
  }
 else {
    httpClient=createClient();
  }
  this.parser=parser;
}
