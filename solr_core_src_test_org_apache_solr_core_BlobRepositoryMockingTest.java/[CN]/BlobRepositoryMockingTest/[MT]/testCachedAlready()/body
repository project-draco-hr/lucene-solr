{
  expect(mockContainer.isZooKeeperAware()).andReturn(true);
  expect(mapMock.get("foo!")).andReturn(new BlobRepository.BlobContent<BlobRepository>("foo!",blobData));
  EasyMock.replay(mocks);
  BlobRepository.BlobContentRef ref=repository.getBlobIncRef("foo!");
  assertEquals("",blobKey);
  assertFalse(blobFetched);
  assertNotNull(ref.blob);
  assertEquals(blobData,ref.blob.get());
}
