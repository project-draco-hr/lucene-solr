{
  if (dis instanceof FixedBitSet) {
switch (logic) {
case OR:
      result.or((FixedBitSet)dis);
    break;
case AND:
  result.and((FixedBitSet)dis);
break;
case ANDNOT:
result.andNot((FixedBitSet)dis);
break;
case XOR:
result.xor((FixedBitSet)dis);
break;
default :
doChain(result,DEFAULT,dis);
break;
}
}
 else {
DocIdSetIterator disi;
if (dis == null) {
disi=DocIdSetIterator.empty();
}
 else {
disi=dis.iterator();
if (disi == null) {
disi=DocIdSetIterator.empty();
}
}
switch (logic) {
case OR:
result.or(disi);
break;
case AND:
result.and(disi);
break;
case ANDNOT:
result.andNot(disi);
break;
case XOR:
result.xor(disi);
break;
default :
doChain(result,DEFAULT,dis);
break;
}
}
}
