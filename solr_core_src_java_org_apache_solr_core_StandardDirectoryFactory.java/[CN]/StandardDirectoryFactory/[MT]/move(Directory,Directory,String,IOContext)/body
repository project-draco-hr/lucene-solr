{
  if (fromDir instanceof FSDirectory && toDir instanceof FSDirectory) {
    File dir1=((FSDirectory)fromDir).getDirectory();
    File dir2=((FSDirectory)toDir).getDirectory();
    File indexFileInTmpDir=new File(dir1,fileName);
    File indexFileInIndex=new File(dir2,fileName);
    boolean success=indexFileInTmpDir.renameTo(indexFileInIndex);
    if (success) {
      return;
    }
  }
  super.move(fromDir,toDir,fileName,ioContext);
}
