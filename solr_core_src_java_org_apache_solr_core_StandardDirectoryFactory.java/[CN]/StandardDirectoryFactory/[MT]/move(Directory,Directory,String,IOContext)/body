{
  Directory baseFromDir=getBaseDir(fromDir);
  Directory baseToDir=getBaseDir(toDir);
  if (baseFromDir instanceof FSDirectory && baseToDir instanceof FSDirectory) {
    File dir1=((FSDirectory)baseFromDir).getDirectory().toFile();
    File dir2=((FSDirectory)baseToDir).getDirectory().toFile();
    File indexFileInTmpDir=new File(dir1,fileName);
    File indexFileInIndex=new File(dir2,fileName);
    boolean success=indexFileInTmpDir.renameTo(indexFileInIndex);
    if (success) {
      return;
    }
  }
  super.move(fromDir,toDir,fileName,ioContext);
}
