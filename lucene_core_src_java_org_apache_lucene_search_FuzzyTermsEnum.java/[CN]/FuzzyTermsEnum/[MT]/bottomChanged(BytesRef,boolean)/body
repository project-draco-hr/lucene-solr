{
  int oldMaxEdits=maxEdits;
  boolean termAfter=bottomTerm == null || (lastTerm != null && lastTerm.compareTo(bottomTerm) >= 0);
  while (maxEdits > 0 && (termAfter ? bottom >= calculateMaxBoost(maxEdits) : bottom > calculateMaxBoost(maxEdits)))   maxEdits--;
  if (oldMaxEdits != maxEdits || init) {
    maxEditDistanceChanged(lastTerm,maxEdits,init);
  }
}
