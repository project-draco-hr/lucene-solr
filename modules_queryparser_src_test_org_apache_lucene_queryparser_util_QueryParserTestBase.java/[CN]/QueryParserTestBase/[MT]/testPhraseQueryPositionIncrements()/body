{
  CharacterRunAutomaton stopStopList=new CharacterRunAutomaton(new RegExp("[sS][tT][oO][pP]").toAutomaton());
  QueryParser qp=new QueryParser(TEST_VERSION_CURRENT,"field",new MockAnalyzer(random(),MockTokenizer.WHITESPACE,false,stopStopList,false));
  PhraseQuery phraseQuery=new PhraseQuery();
  phraseQuery.add(new Term("field","1"));
  phraseQuery.add(new Term("field","2"));
  assertEquals(phraseQuery,qp.parse("\"1 2\""));
  assertEquals(phraseQuery,qp.parse("\"1 stop 2\""));
  qp.setEnablePositionIncrements(true);
  assertEquals(phraseQuery,qp.parse("\"1 stop 2\""));
  qp.setEnablePositionIncrements(false);
  assertEquals(phraseQuery,qp.parse("\"1 stop 2\""));
  qp=new QueryParser(TEST_VERSION_CURRENT,"field",new MockAnalyzer(random(),MockTokenizer.WHITESPACE,false,stopStopList,true));
  qp.setEnablePositionIncrements(true);
  phraseQuery=new PhraseQuery();
  phraseQuery.add(new Term("field","1"));
  phraseQuery.add(new Term("field","2"),2);
  assertEquals(phraseQuery,qp.parse("\"1 stop 2\""));
}
