{
  LBHttpSolrClient testClient=new LBHttpSolrClient(HttpClientUtil.createClient(new ModifiableSolrParams()),(ResponseParser)null);
  HttpSolrClient httpSolrClient=testClient.makeSolrClient("http://127.0.0.1:8080");
  assertNull("Generated server should have null parser.",httpSolrClient.getParser());
  ResponseParser parser=new BinaryResponseParser();
  testClient=new LBHttpSolrClient(HttpClientUtil.createClient(new ModifiableSolrParams()),parser);
  httpSolrClient=testClient.makeSolrClient("http://127.0.0.1:8080");
  assertEquals("Invalid parser passed to generated server.",parser,httpSolrClient.getParser());
}
