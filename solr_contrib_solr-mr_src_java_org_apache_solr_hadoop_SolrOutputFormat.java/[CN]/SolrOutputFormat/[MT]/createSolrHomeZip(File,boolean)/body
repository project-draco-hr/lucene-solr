{
  if (solrHomeDir == null || !(solrHomeDir.exists() && solrHomeDir.isDirectory())) {
    throw new IOException("Invalid solr home: " + solrHomeDir);
  }
  File solrHomeZip=File.createTempFile("solr",".zip");
  createZip(solrHomeDir,solrHomeZip);
  return solrHomeZip;
}
