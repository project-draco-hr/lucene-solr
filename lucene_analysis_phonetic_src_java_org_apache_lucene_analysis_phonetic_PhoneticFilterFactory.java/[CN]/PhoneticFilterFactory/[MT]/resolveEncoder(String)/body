{
  String lookupName=name;
  if (name.indexOf('.') == -1) {
    lookupName=PACKAGE_CONTAINING_ENCODERS + name;
  }
  try {
    return Class.forName(lookupName).asSubclass(Encoder.class);
  }
 catch (  ClassNotFoundException cnfe) {
    throw new InitializationException("Unknown encoder: " + name + " must be full class name or one of "+ registry.keySet(),cnfe);
  }
catch (  ClassCastException e) {
    throw new InitializationException("Not an encoder: " + name + " must be full class name or one of "+ registry.keySet(),e);
  }
}
