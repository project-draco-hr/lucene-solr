{
  SavedStreams saved=(SavedStreams)getPreviousTokenStream();
  if (saved == null) {
    saved=new SavedStreams();
    saved.tokenizer=new MockTokenizer(reader,runAutomaton,lowerCase);
    saved.filter=new MockTokenFilter(saved.tokenizer,filter,enablePositionIncrements);
    setPreviousTokenStream(saved);
    return saved.filter;
  }
 else {
    saved.tokenizer.reset(reader);
    return saved.filter;
  }
}
