{
  SavedStreams saved=(SavedStreams)getPreviousTokenStream();
  if (saved == null) {
    saved=new SavedStreams();
    saved.tokenizer=new MockTokenizer(reader,runAutomaton,lowerCase);
    saved.filter=new MockTokenFilter(saved.tokenizer,filter,enablePositionIncrements);
    if (payload) {
      saved.filter=new SimplePayloadFilter(saved.filter,fieldName);
    }
    setPreviousTokenStream(saved);
    return saved.filter;
  }
 else {
    saved.tokenizer.reset(reader);
    saved.filter.reset();
    return saved.filter;
  }
}
