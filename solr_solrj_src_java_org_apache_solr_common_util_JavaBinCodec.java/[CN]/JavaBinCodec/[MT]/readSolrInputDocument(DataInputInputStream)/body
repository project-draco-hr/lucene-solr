{
  int sz=readVInt(dis);
  dis.readByte();
  int childsSize=readVInt(dis);
  float docBoost=(Float)readVal(dis);
  SolrInputDocument sdoc=new SolrInputDocument();
  sdoc.setDocumentBoost(docBoost);
  for (int i=0; i < sz; i++) {
    float boost=1.0f;
    String fieldName;
    Object boostOrFieldName=readVal(dis);
    if (boostOrFieldName instanceof Float) {
      boost=(Float)boostOrFieldName;
      fieldName=(String)readVal(dis);
    }
 else {
      fieldName=(String)boostOrFieldName;
    }
    Object fieldVal=readVal(dis);
    sdoc.setField(fieldName,fieldVal,boost);
  }
  for (int i=0; i < childsSize; i++) {
    dis.readByte();
    SolrInputDocument child=readSolrInputDocument(dis);
    sdoc.addChildDocument(child);
  }
  return sdoc;
}
