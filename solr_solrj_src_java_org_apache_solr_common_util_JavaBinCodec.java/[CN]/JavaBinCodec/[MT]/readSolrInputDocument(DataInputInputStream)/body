{
  int sz=readVInt(dis);
  float docBoost=(Float)readVal(dis);
  SolrInputDocument sdoc=new SolrInputDocument();
  sdoc.setDocumentBoost(docBoost);
  for (int i=0; i < sz; i++) {
    float boost=1.0f;
    String fieldName;
    Object obj=readVal(dis);
    if (obj instanceof Float) {
      boost=(Float)obj;
      fieldName=(String)readVal(dis);
    }
 else     if (obj instanceof SolrInputDocument) {
      sdoc.addChildDocument((SolrInputDocument)obj);
      continue;
    }
 else {
      fieldName=(String)obj;
    }
    Object fieldVal=readVal(dis);
    sdoc.setField(fieldName,fieldVal,boost);
  }
  return sdoc;
}
