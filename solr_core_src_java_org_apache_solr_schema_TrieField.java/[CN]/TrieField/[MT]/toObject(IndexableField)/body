{
  if (f instanceof NumericField) {
    final Number val=((NumericField)f).numericValue();
    if (val == null)     return badFieldString(f);
    return (type == TrieTypes.DATE) ? new Date(val.longValue()) : val;
  }
 else {
    final BytesRef bytes=f.binaryValue();
    if (bytes == null)     return badFieldString(f);
switch (type) {
case INTEGER:
      return toInt(bytes.bytes,bytes.offset);
case FLOAT:
    return Float.intBitsToFloat(toInt(bytes.bytes,bytes.offset));
case LONG:
  return toLong(bytes.bytes,bytes.offset);
case DOUBLE:
return Double.longBitsToDouble(toLong(bytes.bytes,bytes.offset));
case DATE:
return new Date(toLong(bytes.bytes,bytes.offset));
default :
throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unknown type for trie field: " + f.name());
}
}
}
