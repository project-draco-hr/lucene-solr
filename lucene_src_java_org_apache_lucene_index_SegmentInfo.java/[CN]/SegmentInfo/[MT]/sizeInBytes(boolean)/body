{
  if (includeDocStores) {
    if (sizeInBytesWithStore != -1)     return sizeInBytesWithStore;
    sizeInBytesWithStore=0;
    for (    final String fileName : files()) {
      if (docStoreOffset == -1 || !IndexFileNames.isDocStoreFile(fileName)) {
        sizeInBytesWithStore+=dir.fileLength(fileName);
      }
    }
    return sizeInBytesWithStore;
  }
 else {
    if (sizeInBytesNoStore != -1)     return sizeInBytesNoStore;
    sizeInBytesNoStore=0;
    for (    final String fileName : files()) {
      if (IndexFileNames.isDocStoreFile(fileName)) {
        continue;
      }
      sizeInBytesNoStore+=dir.fileLength(fileName);
    }
    return sizeInBytesNoStore;
  }
}
