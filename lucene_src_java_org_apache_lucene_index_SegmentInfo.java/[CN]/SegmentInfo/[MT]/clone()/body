{
  SegmentInfo si=new SegmentInfo(name,docCount,dir,isCompoundFile,segmentCodecs,fieldInfos == null ? null : (FieldInfos)fieldInfos.clone());
  si.docStoreOffset=docStoreOffset;
  si.docStoreSegment=docStoreSegment;
  si.docStoreIsCompoundFile=docStoreIsCompoundFile;
  si.delGen=delGen;
  si.delCount=delCount;
  si.diagnostics=new HashMap<String,String>(diagnostics);
  if (normGen != null) {
    si.normGen=new HashMap<Integer,Long>();
    for (    Entry<Integer,Long> entry : normGen.entrySet()) {
      si.normGen.put(entry.getKey(),entry.getValue());
    }
  }
  si.hasProx=hasProx;
  si.hasVectors=hasVectors;
  si.version=version;
  return si;
}
