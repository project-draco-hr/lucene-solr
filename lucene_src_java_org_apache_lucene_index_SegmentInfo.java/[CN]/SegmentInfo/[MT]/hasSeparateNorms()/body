{
  if (normGen == null) {
    if (!preLockless) {
      return false;
    }
 else {
      String[] result=dir.listAll();
      if (result == null)       throw new IOException("cannot read directory " + dir + ": listAll() returned null");
      final String pattern=name + ".s\\d+";
      for (int i=0; i < result.length; i++) {
        String fileName=result[i];
        if (fileName.matches(pattern)) {
          return true;
        }
      }
      return false;
    }
  }
 else {
    for (int i=0; i < normGen.length; i++) {
      if (normGen[i] >= YES) {
        return true;
      }
    }
    for (int i=0; i < normGen.length; i++) {
      if (normGen[i] == CHECK_DIR) {
        if (hasSeparateNorms(i)) {
          return true;
        }
      }
    }
  }
  return false;
}
