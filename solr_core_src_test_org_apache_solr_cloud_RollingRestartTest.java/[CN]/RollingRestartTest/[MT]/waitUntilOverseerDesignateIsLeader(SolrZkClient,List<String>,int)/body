{
  long now=System.nanoTime();
  long timeout=now + TimeUnit.NANOSECONDS.convert(timeoutInSeconds,TimeUnit.SECONDS);
  boolean firstTime=true;
  int stableCheckTimeout=2000;
  while (System.nanoTime() < timeout) {
    String newLeader=OverseerCollectionProcessor.getLeaderNode(testZkClient);
    if (!overseerDesignates.contains(newLeader)) {
      Thread.sleep(500);
    }
 else {
      if (firstTime) {
        firstTime=false;
        Thread.sleep(stableCheckTimeout);
      }
 else {
        return true;
      }
    }
  }
  return false;
}
