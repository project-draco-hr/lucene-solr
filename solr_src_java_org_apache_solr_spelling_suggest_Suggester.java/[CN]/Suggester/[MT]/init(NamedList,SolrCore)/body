{
  LOG.info("init: " + config);
  String name=super.init(config,core);
  threshold=config.get(THRESHOLD_TOKEN_FREQUENCY) == null ? 0.0f : (Float)config.get(THRESHOLD_TOKEN_FREQUENCY);
  sourceLocation=(String)config.get(LOCATION);
  field=(String)config.get(FIELD);
  lookupImpl=(String)config.get(LOOKUP_IMPL);
  if (lookupImpl == null) {
    lookupImpl=JaspellLookup.class.getName();
  }
  lookup=(Lookup)core.getResourceLoader().newInstance(lookupImpl);
  lookup.init(config,core);
  String store=(String)config.get(STORE_DIR);
  if (store != null) {
    storeDir=new File(store);
    if (!storeDir.isAbsolute()) {
      storeDir=new File(core.getDataDir() + File.separator + storeDir);
    }
    if (!storeDir.exists()) {
      storeDir.mkdirs();
    }
 else {
      try {
        lookup.load(storeDir);
      }
 catch (      IOException e) {
        LOG.warn("Loading stored lookup data failed",e);
      }
    }
  }
  return name;
}
