{
  LOG.info("init: " + config);
  String name=super.init(config,core);
  threshold=config.get(THRESHOLD_TOKEN_FREQUENCY) == null ? 0.0f : Float.valueOf((String)config.get(THRESHOLD_TOKEN_FREQUENCY));
  sourceLocation=(String)config.get(LOCATION);
  field=(String)config.get(FIELD);
  lookupImpl=(String)config.get(LOOKUP_IMPL);
  if (lookupImpl == null) {
    lookupImpl=JaspellLookup.class.getName();
  }
  String store=(String)config.get(STORE_DIR);
  if (store != null) {
    storeDir=new File(store);
    if (!storeDir.isAbsolute()) {
      storeDir=new File(core.getDataDir() + File.separator + storeDir);
    }
    if (!storeDir.exists()) {
      storeDir.mkdirs();
    }
  }
  return name;
}
