{
  IndexWriter writer=getRunData().getIndexWriter();
  if (useAddIndexesDir) {
    writer.addIndexes(inputDir);
  }
 else {
    try (IndexReader r=DirectoryReader.open(inputDir)){
      LeafReader leaves[]=new LeafReader[r.leaves().size()];
      int i=0;
      for (      LeafReaderContext leaf : r.leaves()) {
        leaves[i++]=leaf.reader();
      }
      writer.addIndexes(leaves);
    }
   }
  return 1;
}
