{
  String currencyCode=(p1 != null) ? p1.getCurrencyCode() : (p2 != null) ? p2.getCurrencyCode() : defaultCurrency;
  final CurrencyValueSource vs=new CurrencyValueSource(field,currencyCode,parser);
  return new SolrConstantScoreQuery(new ValueSourceRangeFilter(vs,p1 == null ? null : p1.getAmount() + "",p2 == null ? null : p2.getAmount() + "",minInclusive,maxInclusive));
}
