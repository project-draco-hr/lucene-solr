{
  String result=val;
  if (schFld.getType() instanceof DateField) {
    try {
      Date date=DateUtil.parseDate(val,dateFormats);
      DateFormat df=DateUtil.getThreadLocalDateFormat();
      result=df.format(date);
    }
 catch (    Exception e) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Invalid value: " + val + " for field: "+ schFld,e);
    }
  }
  return result;
}
