{
  float boost=1.0f;
  for (  String name : metadata.names()) {
    String[] vals=metadata.getValues(name);
    addField(name,null,vals);
  }
  Iterator<String> paramNames=params.getParameterNamesIterator();
  while (paramNames.hasNext()) {
    String pname=paramNames.next();
    if (!pname.startsWith(LITERALS_PREFIX))     continue;
    String name=pname.substring(LITERALS_PREFIX.length());
    addField(name,null,params.getParams(pname));
  }
  addField(contentFieldName,catchAllBuilder.toString(),null);
  for (  Map.Entry<String,StringBuilder> entry : fieldBuilders.entrySet()) {
    if (entry.getValue().length() > 0) {
      addField(entry.getKey(),entry.getValue().toString(),null);
    }
  }
  if (log.isDebugEnabled()) {
    log.debug("Doc: " + document);
  }
  return document;
}
