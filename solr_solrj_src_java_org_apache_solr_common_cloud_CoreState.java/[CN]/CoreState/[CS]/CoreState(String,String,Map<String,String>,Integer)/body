{
  HashMap<String,String> props=new HashMap<String,String>();
  props.putAll(properties);
  props.put(ZkStateReader.COLLECTION_PROP,collectionName);
  props.put(ZkStateReader.CORE_NAME_PROP,coreName);
  if (numShards != null) {
    props.put("num_shards",Integer.toString(numShards));
  }
  this.properties=Collections.unmodifiableMap(props);
}
