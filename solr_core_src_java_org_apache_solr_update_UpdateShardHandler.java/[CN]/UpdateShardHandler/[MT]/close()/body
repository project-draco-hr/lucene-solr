{
  try {
    ExecutorUtil.shutdownWithInterruptAndAwaitTermination(updateExecutor);
    ExecutorUtil.shutdownAndAwaitTermination(recoveryExecutor);
  }
 catch (  Exception e) {
    SolrException.log(log,e);
  }
 finally {
    HttpClientUtil.close(client);
    clientConnectionManager.close();
  }
}
