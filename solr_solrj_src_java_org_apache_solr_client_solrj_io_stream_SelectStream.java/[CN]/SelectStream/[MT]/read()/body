{
  Tuple original=stream.read();
  if (original.EOF) {
    return original;
  }
  Tuple working=new Tuple(new HashMap<>());
  for (  Object fieldName : original.fields.keySet()) {
    if (selectedFields.containsKey(fieldName)) {
      working.put(selectedFields.get(fieldName),original.get(fieldName));
    }
  }
  for (  StreamOperation operation : operations) {
    operation.operate(working);
  }
  return working;
}
