{
  if (name == null) {
    return;
  }
  if (Context.SCOPE_ENTITY.equals(scope)) {
    if (entitySession == null) {
      entitySession=new HashMap<String,Object>();
    }
    entitySession.put(name,val);
  }
 else   if (Context.SCOPE_GLOBAL.equals(scope)) {
    if (globalSession != null) {
      globalSession.put(name,val);
    }
  }
 else   if (Context.SCOPE_DOC.equals(scope)) {
    DocBuilder.DocWrapper doc=getDocument();
    if (doc != null) {
      doc.setSessionAttribute(name,val);
    }
  }
 else   if (SCOPE_SOLR_CORE.equals(scope)) {
    if (dataImporter != null) {
      dataImporter.getCoreScopeSession().put(name,val);
    }
  }
}
