{
  dir=new RAMDirectory();
  RandomIndexWriter w=new RandomIndexWriter(random(),dir,newIndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer(random())).setMergePolicy(newLogMergePolicy()));
  int num=atLeast(31);
  for (int i=0; i < num; i++) {
    Document doc=new Document();
    doc.add(newField("f","a b c d b c d c d d",TextField.TYPE_UNSTORED));
    w.addDocument(doc);
    doc=new Document();
    doc.add(newField("f","a b c d",TextField.TYPE_UNSTORED));
    w.addDocument(doc);
  }
  s=newSearcher(w.getReader());
  w.close();
}
