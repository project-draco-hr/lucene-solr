{
  dir=new RAMDirectory();
  RandomIndexWriter w=new RandomIndexWriter(random(),dir,newIndexWriterConfig(new MockAnalyzer(random())).setMergePolicy(newLogMergePolicy()));
  int num=atLeast(31);
  for (int i=0; i < num; i++) {
    Document doc=new Document();
    doc.add(newTextField("f","a b c d b c d c d d",Field.Store.NO));
    w.addDocument(doc);
    doc=new Document();
    doc.add(newTextField("f","a b c d",Field.Store.NO));
    w.addDocument(doc);
  }
  s=newSearcher(w.getReader());
  w.shutdown();
}
