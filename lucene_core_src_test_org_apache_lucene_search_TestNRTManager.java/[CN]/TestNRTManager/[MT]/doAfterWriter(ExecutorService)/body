{
  final double minReopenSec=0.01 + 0.05 * random.nextDouble();
  final double maxReopenSec=minReopenSec * (1.0 + 10 * random.nextDouble());
  if (VERBOSE) {
    System.out.println("TEST: make NRTManager maxReopenSec=" + maxReopenSec + " minReopenSec="+ minReopenSec);
  }
  nrt=new NRTManager(writer,new SearcherFactory(){
    @Override public IndexSearcher newSearcher(    IndexReader r) throws IOException {
      TestNRTManager.this.warmCalled=true;
      IndexSearcher s=new IndexSearcher(r,es);
      s.search(new TermQuery(new Term("body","united")),10);
      return s;
    }
  }
,false);
  nrtThread=new NRTManagerReopenThread(nrt,maxReopenSec,minReopenSec);
  nrtThread.setName("NRT Reopen Thread");
  nrtThread.setPriority(Math.min(Thread.currentThread().getPriority() + 2,Thread.MAX_PRIORITY));
  nrtThread.setDaemon(true);
  nrtThread.start();
}
