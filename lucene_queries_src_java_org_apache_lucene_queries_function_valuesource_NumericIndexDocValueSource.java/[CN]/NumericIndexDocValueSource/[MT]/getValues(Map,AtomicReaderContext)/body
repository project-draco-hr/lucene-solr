{
  final Source source=readerContext.reader().docValues(field).getSource();
  Type type=source.getType();
switch (type) {
case FLOAT_32:
case FLOAT_64:
    return new FunctionValues(){
      @Override public String toString(      int doc){
        return "float: [" + floatVal(doc) + "]";
      }
      @Override public float floatVal(      int doc){
        return (float)source.getFloat(doc);
      }
    }
;
case FIXED_INTS_8:
case FIXED_INTS_16:
case FIXED_INTS_32:
case FIXED_INTS_64:
case VAR_INTS:
  return new FunctionValues(){
    @Override public String toString(    int doc){
      return "float: [" + floatVal(doc) + "]";
    }
    @Override public float floatVal(    int doc){
      return (float)source.getInt(doc);
    }
  }
;
default :
throw new IOException("Type: " + type + "is not numeric");
}
}
