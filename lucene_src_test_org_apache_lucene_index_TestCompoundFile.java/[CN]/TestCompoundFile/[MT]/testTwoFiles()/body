{
  createSequenceFile(dir,"d1",(byte)0,15);
  createSequenceFile(dir,"d2",(byte)0,114);
  CompoundFileWriter csw=new CompoundFileWriter(dir,"d.csf",newIOContext(random));
  csw.addFile("d1");
  csw.addFile("d2");
  csw.close();
  CompoundFileReader csr=new CompoundFileReader(dir,"d.csf",newIOContext(random));
  IndexInput expected=dir.openInput("d1",newIOContext(random));
  IndexInput actual=csr.openInput("d1",newIOContext(random));
  assertSameStreams("d1",expected,actual);
  assertSameSeekBehavior("d1",expected,actual);
  expected.close();
  actual.close();
  expected=dir.openInput("d2",newIOContext(random));
  actual=csr.openInput("d2",newIOContext(random));
  assertSameStreams("d2",expected,actual);
  assertSameSeekBehavior("d2",expected,actual);
  expected.close();
  actual.close();
  csr.close();
}
