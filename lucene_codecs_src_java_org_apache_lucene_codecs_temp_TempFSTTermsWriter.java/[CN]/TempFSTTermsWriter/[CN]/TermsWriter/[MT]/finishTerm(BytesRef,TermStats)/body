{
  final BlockTermState state=postingsWriter.newTermState();
  final TempTermOutputs.TempTermData meta=new TempTermOutputs.TempTermData();
  meta.longs=new long[longsSize];
  meta.bytes=null;
  meta.docFreq=state.docFreq=stats.docFreq;
  meta.totalTermFreq=state.totalTermFreq=stats.totalTermFreq;
  postingsWriter.finishTerm(state);
  postingsWriter.encodeTerm(meta.longs,metaWriter,fieldInfo,state,true);
  final int bytesSize=(int)metaWriter.getFilePointer();
  if (bytesSize > 0) {
    meta.bytes=new byte[bytesSize];
    metaWriter.writeTo(meta.bytes,0);
    metaWriter.reset();
  }
  builder.add(Util.toIntsRef(text,scratchTerm),meta);
  numTerms++;
}
