{
  String input="aabfooaabfooabfoob ab caaaaaaaaab";
  PatternReplaceFilterFactory factory=new PatternReplaceFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("pattern","a*b");
  args.put("replacement","-");
  factory.init(args);
  TokenStream ts=factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader(input)));
  assertTokenStreamContents(ts,new String[]{"-foo-foo-foo-","-","c-"});
}
