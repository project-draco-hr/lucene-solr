{
  Weight w=q.weight(s);
  try {
    ByteArrayOutputStream bos=new ByteArrayOutputStream();
    ObjectOutputStream oos=new ObjectOutputStream(bos);
    oos.writeObject(w);
    oos.close();
    ObjectInputStream ois=new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));
    Weight w2=(Weight)ois.readObject();
    ois.close();
  }
 catch (  Exception e) {
    IOException e2=new IOException("Serialization failed for " + w);
    e2.initCause(e);
    throw e2;
  }
}
