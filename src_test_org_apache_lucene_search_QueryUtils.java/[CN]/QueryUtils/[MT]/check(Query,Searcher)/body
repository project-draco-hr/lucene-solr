{
  try {
    check(q1);
    if (s != null) {
      if (s instanceof IndexSearcher) {
        IndexSearcher is=(IndexSearcher)s;
        checkFirstSkipTo(q1,is);
        checkSkipTo(q1,is);
      }
      checkExplanations(q1,s);
      checkSerialization(q1,s);
      Query q2=(Query)q1.clone();
      checkEqual(s.rewrite(q1),s.rewrite(q2));
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
