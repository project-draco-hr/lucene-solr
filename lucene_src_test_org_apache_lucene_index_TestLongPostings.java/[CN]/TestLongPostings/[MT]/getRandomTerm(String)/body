{
  Analyzer a=new MockAnalyzer(random);
  while (true) {
    String s=_TestUtil.randomRealisticUnicodeString(random);
    if (other != null && s.equals(other)) {
      continue;
    }
    final TokenStream ts=a.reusableTokenStream("foo",new StringReader(s));
    final TermToBytesRefAttribute termAtt=ts.getAttribute(TermToBytesRefAttribute.class);
    final BytesRef termBytes=termAtt.getBytesRef();
    int count=0;
    ts.reset();
    while (ts.incrementToken()) {
      termAtt.fillBytesRef();
      if (count == 0 && !termBytes.utf8ToString().equals(s)) {
        break;
      }
      count++;
    }
    ts.end();
    ts.close();
    if (count == 1) {
      return s;
    }
  }
}
