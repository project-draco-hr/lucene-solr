{
  fromDocTermOrds.setDocument(doc);
  long ord;
  while ((ord=fromDocTermOrds.nextOrd()) != SortedSetDocValues.NO_MORE_ORDS) {
    int termID=collectedTerms.add(fromDocTermOrds.lookupOrd(ord));
    if (termID < 0) {
      termID=-termID - 1;
    }
 else {
      if (termID >= scoreSums.length) {
        scoreSums=ArrayUtil.grow(scoreSums);
        scoreCounts=ArrayUtil.grow(scoreCounts);
      }
    }
    scoreSums[termID]+=scorer.score();
    scoreCounts[termID]++;
  }
}
