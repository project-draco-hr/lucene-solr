{
  if (suffix != null) {
    SchemaField sf=schema.getField(suffix);
    subType=sf.getType();
    dynFieldProps=sf.getProperties();
  }
 else   if (subType != null) {
    SchemaField proto=registerPolyFieldDynamicPrototype(schema,subType);
    dynFieldProps=proto.getProperties();
  }
 else {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"The field type: " + typeName + " must specify the "+ SUB_FIELD_TYPE+ " attribute or the "+ SUB_FIELD_SUFFIX+ " attribute.");
  }
}
