{
  if (!initCalled) {
    throw new IllegalStateException("this instance is not being used by IndexWriter; be sure to use the instance returned from writer.getConfig().getIndexDeletionPolicy()");
  }
  if (lastCommit == null) {
    throw new IllegalStateException("No index commit to snapshot");
  }
  incRef(lastCommit);
  return lastCommit;
}
