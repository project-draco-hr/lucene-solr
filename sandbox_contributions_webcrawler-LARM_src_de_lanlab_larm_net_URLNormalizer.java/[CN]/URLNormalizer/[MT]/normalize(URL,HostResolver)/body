{
  if (u == null) {
    return null;
  }
  if (u.getProtocol().equals("http")) {
    try {
      int port=u.getPort();
      return new URL(u.getProtocol(),normalizeHost(hostResolver,u.getHost()),port == 80 ? -1 : port,normalizePath(u.getFile()));
    }
 catch (    MalformedURLException e) {
      System.out.println("assertion failed: MalformedURLException in URLNormalizer.normalize()");
      throw new java.lang.InternalError("assertion failed: MalformedURLException in URLNormalizer.normalize()");
    }
catch (    IOException e) {
      System.out.println("assertion failed: IOException in URLNormalizer.normalize()");
      throw new java.lang.InternalError("assertion failed: MalformedURLException in URLNormalizer.normalize()");
    }
  }
 else {
    return u;
  }
}
