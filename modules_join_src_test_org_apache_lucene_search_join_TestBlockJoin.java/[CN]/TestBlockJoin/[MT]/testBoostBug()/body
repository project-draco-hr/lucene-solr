{
  final Directory dir=newDirectory();
  final RandomIndexWriter w=new RandomIndexWriter(random,dir);
  IndexReader r=w.getReader();
  w.close();
  IndexSearcher s=newSearcher(r);
  BlockJoinQuery q=new BlockJoinQuery(new MatchAllDocsQuery(),new QueryWrapperFilter(new MatchAllDocsQuery()),BlockJoinQuery.ScoreMode.Avg);
  s.search(q,10);
  BooleanQuery bq=new BooleanQuery();
  bq.setBoost(2f);
  bq.add(q,BooleanClause.Occur.MUST);
  s.search(bq,10);
  r.close();
  dir.close();
}
