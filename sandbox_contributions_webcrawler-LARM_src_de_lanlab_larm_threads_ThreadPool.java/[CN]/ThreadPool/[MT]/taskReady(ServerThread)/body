{
  if (isStopped) {
    s.interrupt();
    sendMessage(s.getThreadNumber(),THREAD_STOP,s.getTask().getInfo());
    busyThreads.remove(s);
  }
 else   if (!queue.isEmpty()) {
    InterruptableTask t=(InterruptableTask)queue.remove();
    sendMessage(-1,THREADQUEUE_REMOVE,t.getInfo());
    sendMessage(s.getThreadNumber(),THREAD_START,"");
    s.runTask(t);
    sendMessage(s.getThreadNumber(),THREAD_RUNNING,s.getTask().getInfo());
  }
 else {
    sendMessage(s.getThreadNumber(),THREAD_IDLE,"");
    idleThreads.add(s);
    busyThreads.remove(s);
  }
synchronized (idleThreads) {
    idleThreads.notify();
  }
}
