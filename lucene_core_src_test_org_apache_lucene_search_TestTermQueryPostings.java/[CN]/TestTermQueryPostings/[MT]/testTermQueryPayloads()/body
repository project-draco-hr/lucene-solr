{
  PayloadHelper helper=new PayloadHelper();
  IndexSearcher searcher=helper.setUp(random(),new DefaultSimilarity(),1000);
  TermQuery tq=new TermQuery(new Term(PayloadHelper.FIELD,"seventy"));
  Weight weight=searcher.createNormalizedWeight(tq,PostingsEnum.FLAG_PAYLOADS);
  for (  LeafReaderContext ctx : searcher.leafContexts) {
    Scorer scorer=weight.scorer(ctx,null);
    if (scorer.nextDoc() == DocIdSetIterator.NO_MORE_DOCS)     continue;
    scorer.nextPosition();
    BytesRef payload=scorer.getPayload();
    assertEquals(payload.length,1);
  }
  helper.tearDown();
}
