{
  maxDoc=reader.maxDoc();
  PointValues values=reader.getPointValues();
  if (values == null) {
    throw new IllegalStateException("the query is missing null checks");
  }
  docCount=values.getDocCount(field);
  numPoints=values.size(field);
  if (docCount >= 0 && docCount * 100L < maxDoc) {
    bits=new SparseFixedBitSet(maxDoc);
  }
 else {
    bits=new FixedBitSet(maxDoc);
  }
}
