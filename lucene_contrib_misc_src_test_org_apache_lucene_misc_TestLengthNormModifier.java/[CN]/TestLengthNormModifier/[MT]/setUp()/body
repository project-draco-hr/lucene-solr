{
  super.setUp();
  store=newDirectory();
  IndexWriter writer=new IndexWriter(store,newIndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer(random)).setMergePolicy(newLogMergePolicy()));
  for (int i=0; i < NUM_DOCS; i++) {
    Document d=new Document();
    d.add(newField("field","word",Field.Store.YES,Field.Index.ANALYZED));
    d.add(newField("nonorm","word",Field.Store.YES,Field.Index.NOT_ANALYZED_NO_NORMS));
    for (int j=1; j <= i; j++) {
      d.add(newField("field","crap",Field.Store.YES,Field.Index.ANALYZED));
      d.add(newField("nonorm","more words",Field.Store.YES,Field.Index.NOT_ANALYZED_NO_NORMS));
    }
    writer.addDocument(d);
  }
  writer.close();
}
