{
  assertQueryEquals("[ a TO z]",null,"[a TO z]");
  assertEquals(MultiTermQuery.CONSTANT_SCORE_AUTO_REWRITE_DEFAULT,((TermRangeQuery)getQuery("[ a TO z]",null)).getRewriteMethod());
  QueryParser qp=new QueryParser(TEST_VERSION_CURRENT,"field",new MockAnalyzer(MockAnalyzer.SIMPLE,true));
  qp.setMultiTermRewriteMethod(MultiTermQuery.SCORING_BOOLEAN_QUERY_REWRITE);
  assertEquals(MultiTermQuery.SCORING_BOOLEAN_QUERY_REWRITE,((TermRangeQuery)qp.parse("[ a TO z]")).getRewriteMethod());
  assertQueryEquals("[ a TO z ]",null,"[a TO z]");
  assertQueryEquals("{ a TO z}",null,"{a TO z}");
  assertQueryEquals("{ a TO z }",null,"{a TO z}");
  assertQueryEquals("{ a TO z }^2.0",null,"{a TO z}^2.0");
  assertQueryEquals("[ a TO z] OR bar",null,"[a TO z] bar");
  assertQueryEquals("[ a TO z] AND bar",null,"+[a TO z] +bar");
  assertQueryEquals("( bar blar { a TO z}) ",null,"bar blar {a TO z}");
  assertQueryEquals("gack ( bar blar { a TO z}) ",null,"gack (bar blar {a TO z})");
}
