{
  String collectionName="solrj_implicit";
  CollectionAdminResponse response=new CollectionAdminRequest.Create().setCollectionName(collectionName).setShards("shardA,shardB").setConfigName("conf1").setRouterName("implicit").process(cloudClient);
  assertEquals(0,response.getStatus());
  assertTrue(response.isSuccess());
  Map<String,NamedList<Integer>> coresStatus=response.getCollectionCoresStatus();
  assertEquals(2,coresStatus.size());
  cloudClient.setDefaultCollection(collectionName);
  response=new CollectionAdminRequest.CreateShard().setCollectionName(collectionName).setShardName("shardC").process(cloudClient);
  assertEquals(0,response.getStatus());
  assertTrue(response.isSuccess());
  coresStatus=response.getCollectionCoresStatus();
  assertEquals(1,coresStatus.size());
  assertEquals(0,(int)coresStatus.get(collectionName + "_shardC_replica1").get("status"));
  CollectionAdminRequest.DeleteShard deleteShardRequest=new CollectionAdminRequest.DeleteShard().setCollectionName(collectionName).setShardName("shardC");
  response=deleteShardRequest.process(cloudClient);
  assertEquals(0,response.getStatus());
  assertTrue(response.isSuccess());
  Map<String,NamedList<Integer>> nodesStatus=response.getCollectionNodesStatus();
  assertEquals(1,nodesStatus.size());
}
