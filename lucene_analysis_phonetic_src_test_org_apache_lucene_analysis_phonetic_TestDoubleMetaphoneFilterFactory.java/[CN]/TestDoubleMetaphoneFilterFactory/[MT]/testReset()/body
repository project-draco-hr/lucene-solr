{
  DoubleMetaphoneFilterFactory factory=new DoubleMetaphoneFilterFactory(new HashMap<String,String>());
  TokenStream inputStream=new MockTokenizer(new StringReader("international"),MockTokenizer.WHITESPACE,false);
  TokenStream filteredStream=factory.create(inputStream);
  CharTermAttribute termAtt=filteredStream.addAttribute(CharTermAttribute.class);
  assertEquals(DoubleMetaphoneFilter.class,filteredStream.getClass());
  filteredStream.reset();
  assertTrue(filteredStream.incrementToken());
  assertEquals(13,termAtt.length());
  assertEquals("international",termAtt.toString());
  filteredStream.reset();
  assertFalse(filteredStream.incrementToken());
}
