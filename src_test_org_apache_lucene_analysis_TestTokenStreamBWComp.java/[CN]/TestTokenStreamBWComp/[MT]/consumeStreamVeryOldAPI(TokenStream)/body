{
  stream.reset();
  Token token;
  int i=0;
  while ((token=stream.next()) != null) {
    String term=token.term();
    Payload p=token.getPayload();
    if (p != null && p.getData().length == 1 && p.getData()[0] == PartOfSpeechAnnotatingFilter.PROPER_NOUN_ANNOTATION) {
      assertEquals("only TokenStream is a proper noun","tokenstream",term);
    }
 else {
      assertFalse("all other tokens (if this test fails, the special POSToken subclass is not correctly passed through the chain)","tokenstream".equals(term));
    }
    assertEquals(results[i],term);
    i++;
  }
}
