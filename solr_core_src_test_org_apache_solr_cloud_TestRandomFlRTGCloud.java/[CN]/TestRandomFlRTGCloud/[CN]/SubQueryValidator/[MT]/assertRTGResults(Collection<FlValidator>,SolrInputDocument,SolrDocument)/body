{
  final Object origVal=expected.getFieldValue(SUBQ_FIELD);
  final Object actualVal=actual.getFieldValue(SUBQ_KEY);
  assertTrue("Expected a doclist: " + actualVal,actualVal instanceof SolrDocumentList);
  SolrDocumentList subList=(SolrDocumentList)actualVal;
  assertTrue("sub query should have producted at least one result (this doc)",1 <= subList.getNumFound());
  for (  SolrDocument subDoc : subList) {
    assertEquals("orig doc value doesn't match subquery doc value",origVal,subDoc.getFirstValue(SUBQ_FIELD));
  }
  return Collections.<String>singleton(SUBQ_KEY);
}
