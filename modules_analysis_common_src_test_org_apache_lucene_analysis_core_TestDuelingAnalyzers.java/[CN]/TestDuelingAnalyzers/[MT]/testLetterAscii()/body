{
  Analyzer left=new MockAnalyzer(random,jvmLetter,false);
  Analyzer right=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new LetterTokenizer(TEST_VERSION_CURRENT,reader);
      return new TokenStreamComponents(tokenizer,tokenizer);
    }
  }
;
  for (int i=0; i < 10000; i++) {
    String s=_TestUtil.randomSimpleString(random);
    assertEquals(s,left.tokenStream("foo",new StringReader(s)),right.tokenStream("foo",new StringReader(s)));
  }
}
