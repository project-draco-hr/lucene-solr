{
  if (sizeStr == null)   return null;
  Matcher m=PLACE_HOLDER_PATTERN.matcher(sizeStr);
  if (m.find()) {
    Object o=context.resolve(m.group(1));
    if (o instanceof Number) {
      Number number=(Number)o;
      return number.longValue();
    }
    sizeStr=(String)o;
  }
 else {
    sizeStr=context.replaceTokens(sizeStr);
  }
  return Long.parseLong(sizeStr);
}
