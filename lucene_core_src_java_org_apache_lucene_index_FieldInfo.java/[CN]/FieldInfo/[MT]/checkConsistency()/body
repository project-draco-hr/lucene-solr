{
  if (indexOptions != IndexOptions.NONE) {
    if (indexOptions.compareTo(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS) < 0 && storePayloads) {
      throw new IllegalStateException("indexed field '" + name + "' cannot have payloads without positions");
    }
  }
 else {
    if (storeTermVector) {
      throw new IllegalStateException("non-indexed field '" + name + "' cannot store term vectors");
    }
    if (storePayloads) {
      throw new IllegalStateException("non-indexed field '" + name + "' cannot store payloads");
    }
    if (omitNorms) {
      throw new IllegalStateException("non-indexed field '" + name + "' cannot omit norms");
    }
  }
  if (dimensionCount < 0) {
    throw new IllegalStateException("dimensionCount must be >= 0; got " + dimensionCount);
  }
  if (dimensionNumBytes < 0) {
    throw new IllegalStateException("dimensionNumBytes must be >= 0; got " + dimensionNumBytes);
  }
  if (dimensionCount != 0 && dimensionNumBytes == 0) {
    throw new IllegalStateException("dimensionNumBytes must be > 0 when dimensionCount=" + dimensionCount);
  }
  if (dimensionNumBytes != 0 && dimensionCount == 0) {
    throw new IllegalStateException("dimensionCount must be > 0 when dimensionNumBytes=" + dimensionNumBytes);
  }
  if (dvGen != -1 && docValuesType == DocValuesType.NONE) {
    throw new IllegalStateException("field '" + name + "' cannot have a docvalues update generation without having docvalues");
  }
  return true;
}
