{
  if (collection == null || shardId == null || coreNodeName == null)   return null;
  String znodePath=getLeaderInitiatedRecoveryZnodePath(collection,shardId,coreNodeName);
  String state=null;
  try {
    byte[] data=zkClient.getData(znodePath,null,new Stat(),false);
    if (data != null && data.length > 0)     state=new String(data,"UTF-8");
  }
 catch (  NoNodeException ignoreMe) {
  }
catch (  ConnectionLossException cle) {
    log.warn("Unable to read " + znodePath + " due to: "+ cle);
  }
catch (  SessionExpiredException see) {
    log.warn("Unable to read " + znodePath + " due to: "+ see);
  }
catch (  UnsupportedEncodingException e) {
    throw new Error("JVM Does not seem to support UTF-8",e);
  }
catch (  Exception exc) {
    log.error("Failed to read data from znode " + znodePath + " due to: "+ exc);
    if (exc instanceof SolrException) {
      throw (SolrException)exc;
    }
 else {
      throw new SolrException(ErrorCode.SERVER_ERROR,"Failed to read data from znodePath: " + znodePath,exc);
    }
  }
  return state;
}
