{
  int iterCount=60;
  Exception exp=null;
  while (iterCount-- > 0) {
    try {
      byte[] data=zkClient.getData(ZkStateReader.getShardLeadersPath(collection,slice),null,null,true);
      ZkCoreNodeProps leaderProps=new ZkCoreNodeProps(ZkNodeProps.load(data));
      return leaderProps;
    }
 catch (    InterruptedException e) {
      throw e;
    }
catch (    Exception e) {
      exp=e;
      Thread.sleep(500);
    }
    if (cc.isShutDown()) {
      throw new RuntimeException("CoreContainer is shutdown");
    }
  }
  throw new RuntimeException("Could not get leader props",exp);
}
