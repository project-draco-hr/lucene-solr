{
synchronized (coreStates) {
    coreStates.remove(coreName);
  }
  publishState();
  final String zkNodeName=getNodeName() + "_" + coreName;
  ElectionContext context=electionContexts.remove(zkNodeName);
  if (context != null) {
    context.cancelElection();
  }
}
