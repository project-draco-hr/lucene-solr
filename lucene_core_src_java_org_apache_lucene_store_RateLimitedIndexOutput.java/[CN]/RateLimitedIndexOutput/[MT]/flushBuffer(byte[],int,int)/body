{
  bytesSinceLastPause+=len;
  if (bytesSinceLastPause > rateLimiter.getMinPauseCheckBytes()) {
    rateLimiter.pause(bytesSinceLastPause);
    bytesSinceLastPause=0;
  }
  if (bufferedDelegate != null) {
    bufferedDelegate.flushBuffer(b,offset,len);
  }
 else {
    delegate.writeBytes(b,offset,len);
  }
}
