{
  if (blockSize <= 0 || blockSize > MAX_BLOCK_SIZE) {
    throw new IllegalArgumentException("blockSize must be > 0 and < " + MAX_BLOCK_SIZE + ", got "+ blockSize);
  }
  if (blockSize < 64) {
    throw new IllegalArgumentException("blockSize must be >= 64, got " + blockSize);
  }
  if ((blockSize & (blockSize - 1)) != 0) {
    throw new IllegalArgumentException("blockSize must be a power of two, got " + blockSize);
  }
}
