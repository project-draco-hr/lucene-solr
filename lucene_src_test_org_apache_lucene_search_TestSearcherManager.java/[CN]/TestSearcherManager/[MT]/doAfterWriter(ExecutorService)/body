{
  final SearcherWarmer warmer=new SearcherWarmer(){
    @Override public void warm(    IndexSearcher s) throws IOException {
      TestSearcherManager.this.warmCalled=true;
      s.search(new TermQuery(new Term("body","united")),10);
    }
  }
;
  if (random.nextBoolean()) {
    mgr=new SearcherManager(writer,true,warmer,es);
    isNRT=true;
  }
 else {
    writer.commit();
    mgr=new SearcherManager(dir,warmer,es);
    isNRT=false;
  }
  lifetimeMGR=new SearcherLifetimeManager();
}
