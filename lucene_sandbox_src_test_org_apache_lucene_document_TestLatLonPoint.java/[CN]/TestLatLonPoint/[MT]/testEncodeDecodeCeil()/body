{
  final double ENCODING_TOLERANCE=1e-7;
  int iters=atLeast(10000);
  for (int iter=0; iter < iters; iter++) {
    double lat=GeoTestUtil.nextLatitude();
    double latEnc=LatLonPoint.decodeLatitude(LatLonPoint.encodeLatitudeCeil(lat));
    assertEquals("lat=" + lat + " latEnc="+ latEnc+ " diff="+ (lat - latEnc),lat,latEnc,ENCODING_TOLERANCE);
    double lon=GeoTestUtil.nextLongitude();
    double lonEnc=LatLonPoint.decodeLongitude(LatLonPoint.encodeLongitudeCeil(lon));
    assertEquals("lon=" + lon + " lonEnc="+ lonEnc+ " diff="+ (lon - lonEnc),lon,lonEnc,ENCODING_TOLERANCE);
  }
  assertEquals(0.0,LatLonPoint.decodeLatitude(LatLonPoint.encodeLatitudeCeil(0.0)),ENCODING_TOLERANCE);
  assertEquals(90.0,LatLonPoint.decodeLatitude(LatLonPoint.encodeLatitudeCeil(90.0)),ENCODING_TOLERANCE);
  assertEquals(-90.0,LatLonPoint.decodeLatitude(LatLonPoint.encodeLatitudeCeil(-90.0)),ENCODING_TOLERANCE);
  assertEquals(0.0,LatLonPoint.decodeLongitude(LatLonPoint.encodeLongitudeCeil(0.0)),ENCODING_TOLERANCE);
  assertEquals(180.0,LatLonPoint.decodeLongitude(LatLonPoint.encodeLongitudeCeil(180.0)),ENCODING_TOLERANCE);
  assertEquals(-180.0,LatLonPoint.decodeLongitude(LatLonPoint.encodeLongitudeCeil(-180.0)),ENCODING_TOLERANCE);
}
