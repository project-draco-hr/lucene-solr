{
  StringBuilder sb=new StringBuilder();
  String lowerInclusiveStr=(lowerInclusive ? "[" : "{");
  String upperInclusiveStr=(upperInclusive ? "]" : "}");
  for (  NumericField.DataType type : NumericField.DataType.values()) {
    String lowerStr=numberToString(getNumberType(lowerType,type.name()));
    String upperStr=numberToString(getNumberType(upperType,type.name()));
    sb.append("+").append(type.name()).append(':').append(lowerInclusiveStr).append('"').append(lowerStr).append("\" TO \"").append(upperStr).append('"').append(upperInclusiveStr).append(' ');
  }
  Number lowerDateNumber=getNumberType(lowerType,DATE_FIELD_NAME);
  Number upperDateNumber=getNumberType(upperType,DATE_FIELD_NAME);
  String lowerDateStr;
  String upperDateStr;
  if (lowerDateNumber != null) {
    lowerDateStr=ESCAPER.escape(DATE_FORMAT.format(new Date(lowerDateNumber.longValue())),LOCALE,EscapeQuerySyntax.Type.STRING).toString();
  }
 else {
    lowerDateStr="*";
  }
  if (upperDateNumber != null) {
    upperDateStr=ESCAPER.escape(DATE_FORMAT.format(new Date(upperDateNumber.longValue())),LOCALE,EscapeQuerySyntax.Type.STRING).toString();
  }
 else {
    upperDateStr="*";
  }
  sb.append("+").append(DATE_FIELD_NAME).append(':').append(lowerInclusiveStr).append('"').append(lowerDateStr).append("\" TO \"").append(upperDateStr).append('"').append(upperInclusiveStr);
  testQuery(sb.toString(),expectedDocCount);
}
