{
  maybeThrowDeterministicException();
  if (crashed && !forced)   throw new IOException("cannot delete after crash");
  if (unSyncedFiles.contains(name))   unSyncedFiles.remove(name);
  if (!forced) {
    if (noDeleteOpenFile && openFiles.containsKey(name)) {
      throw new IOException("MockRAMDirectory: file \"" + name + "\" is still open: cannot delete");
    }
  }
  super.deleteFile(name);
}
