{
  Map<String,List<String>> dynamicFieldsByFieldType=new HashMap<String,List<String>>();
  for (  SchemaField schemaField : getSchema().getDynamicFieldPrototypes()) {
    final String fieldType=schemaField.getType().getTypeName();
    List<String> dynamicFields=dynamicFieldsByFieldType.get(fieldType);
    if (null == dynamicFields) {
      dynamicFields=new ArrayList<String>();
      dynamicFieldsByFieldType.put(fieldType,dynamicFields);
    }
    dynamicFields.add(schemaField.getName());
  }
  return dynamicFieldsByFieldType;
}
