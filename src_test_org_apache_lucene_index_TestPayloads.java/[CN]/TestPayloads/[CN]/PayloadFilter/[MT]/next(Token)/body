{
  token=input.next(token);
  if (token != null) {
    if (offset + length <= data.length) {
      Payload p=null;
      if (p == null) {
        p=new Payload();
        token.setPayload(p);
      }
      p.setData(data,offset,length);
      offset+=length;
    }
 else {
      token.setPayload(null);
    }
  }
  return token;
}
