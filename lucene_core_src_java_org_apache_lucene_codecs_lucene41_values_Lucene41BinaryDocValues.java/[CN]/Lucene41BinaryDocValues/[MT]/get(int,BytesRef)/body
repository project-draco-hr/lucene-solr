{
  try {
    final long offset;
    final int length;
    if (index == null) {
      offset=size * ((long)docId);
      length=size;
    }
 else {
      offset=index.get(docId);
      data.seek(baseOffset + offset);
      final long nextOffset=index.get(1 + docId);
      length=(int)(nextOffset - offset);
    }
    result.offset=0;
    result.grow(length);
    data.readBytes(result.bytes,0,length);
    result.length=length;
  }
 catch (  IOException ex) {
    throw new IllegalStateException("failed to get value for docID: " + docId,ex);
  }
}
