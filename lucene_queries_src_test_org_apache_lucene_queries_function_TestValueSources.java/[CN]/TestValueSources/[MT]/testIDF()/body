{
  Similarity saved=searcher.getSimilarity();
  try {
    searcher.setSimilarity(new DefaultSimilarity());
    assertHits(new FunctionQuery(new IDFValueSource("bogus","bogus","text",new BytesRef("test"))),new float[]{0.5945349f,0.5945349f});
  }
  finally {
    searcher.setSimilarity(saved);
  }
}
