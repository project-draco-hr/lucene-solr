{
  ValueSource vs=new IfFunction(new BytesRefFieldSource("id"),new ConstValueSource(1.0f),new ConstValueSource(2.0f));
  assertHits(new FunctionQuery(vs),new float[]{1f,1f});
  assertAllExist(vs);
  vs=new IfFunction(new LiteralValueSource("false"),new ConstValueSource(1.0f),new ConstValueSource(2.0f));
  assertHits(new FunctionQuery(vs),new float[]{1f,1f});
  assertAllExist(vs);
  vs=new IfFunction(BOGUS_FLOAT_VS,new ConstValueSource(1.0f),new ConstValueSource(2.0f));
  assertHits(new FunctionQuery(vs),new float[]{2F,2F});
  assertAllExist(vs);
  vs=new IfFunction(new BytesRefFieldSource("id"),BOGUS_FLOAT_VS,new ConstValueSource(1.0f));
  assertNoneExist(vs);
}
