{
  Similarity saved=searcher.getSimilarity(true);
  try {
    searcher.setSimilarity(new ClassicSimilarity());
    ValueSource vs=new NormValueSource("byte");
    assertHits(new FunctionQuery(vs),new float[]{0f,0f});
    assertAllExist(vs);
    vs=new NormValueSource("text");
    assertAllExist(vs);
  }
  finally {
    searcher.setSimilarity(saved);
  }
}
