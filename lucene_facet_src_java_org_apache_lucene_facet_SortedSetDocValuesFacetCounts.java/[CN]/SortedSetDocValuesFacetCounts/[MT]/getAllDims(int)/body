{
  List<FacetResult> results=new ArrayList<FacetResult>();
  for (  Map.Entry<String,OrdRange> ent : state.getPrefixToOrdRange().entrySet()) {
    FacetResult fr=getDim(ent.getKey(),ent.getValue(),topN);
    if (fr != null) {
      results.add(fr);
    }
  }
  Collections.sort(results,new Comparator<FacetResult>(){
    @Override public int compare(    FacetResult a,    FacetResult b){
      if (a.value.intValue() > b.value.intValue()) {
        return -1;
      }
 else       if (b.value.intValue() > a.value.intValue()) {
        return 1;
      }
 else {
        return 0;
      }
    }
  }
);
  return results;
}
