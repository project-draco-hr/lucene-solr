{
  LimitTokenCountFilterFactory factory=new LimitTokenCountFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put(LimitTokenCountFilterFactory.MAX_TOKEN_COUNT_KEY,"3");
  factory.init(args);
  String test="A1 B2 C3 D4 E5 F6";
  MockTokenizer tok=new MockTokenizer(new StringReader(test),MockTokenizer.WHITESPACE,false);
  tok.setEnableChecks(false);
  TokenStream stream=factory.create(tok);
  assertTokenStreamContents(stream,new String[]{"A1","B2","C3"});
  factory=new LimitTokenCountFilterFactory();
  args=new HashMap<String,String>();
  IllegalArgumentException iae=null;
  try {
    factory.init(args);
  }
 catch (  IllegalArgumentException e) {
    assertTrue("exception doesn't mention param: " + e.getMessage(),0 < e.getMessage().indexOf(LimitTokenCountFilterFactory.MAX_TOKEN_COUNT_KEY));
    iae=e;
  }
  assertNotNull("no exception thrown",iae);
}
