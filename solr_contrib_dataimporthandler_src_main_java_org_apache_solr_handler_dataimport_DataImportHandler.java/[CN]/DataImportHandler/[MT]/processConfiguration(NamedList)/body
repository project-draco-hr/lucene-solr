{
  if (defaults == null) {
    LOG.info("No configuration specified in solrconfig.xml for DataImportHandler");
    return;
  }
  LOG.info("Processing configuration from solrconfig.xml: " + defaults);
  dataSources=new HashMap<String,Properties>();
  int position=0;
  while (position < defaults.size()) {
    if (defaults.getName(position) == null)     break;
    String name=defaults.getName(position);
    if (name.equals("datasource")) {
      NamedList dsConfig=(NamedList)defaults.getVal(position);
      Properties props=new Properties();
      for (int i=0; i < dsConfig.size(); i++)       props.put(dsConfig.getName(i),dsConfig.getVal(i));
      LOG.info("Adding properties to datasource: " + props);
      dataSources.put((String)dsConfig.get("name"),props);
    }
    position++;
  }
}
