{
  char[] chars=new char[50000];
  TestUtil.randomFixedLengthUnicodeString(random(),chars,0,chars.length);
  String bigString1=new String(chars);
  TestUtil.randomFixedLengthUnicodeString(random(),chars,0,chars.length);
  String bigString2=new String(chars);
  LightAutomaton a=BasicOperations.unionLight(BasicAutomata.makeStringLight(bigString1),BasicAutomata.makeStringLight(bigString2));
  Set<IntsRef> strings=getFiniteStrings(a,-1,false);
  assertEquals(2,strings.size());
  IntsRef scratch=new IntsRef();
  Util.toUTF32(bigString1.toCharArray(),0,bigString1.length(),scratch);
  assertTrue(strings.contains(scratch));
  Util.toUTF32(bigString2.toCharArray(),0,bigString2.length(),scratch);
  assertTrue(strings.contains(scratch));
}
