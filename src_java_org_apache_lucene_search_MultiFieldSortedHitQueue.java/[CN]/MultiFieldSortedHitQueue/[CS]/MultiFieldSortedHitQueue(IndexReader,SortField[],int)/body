{
  final int n=fields.length;
  comparators=new ScoreDocComparator[n];
  this.fields=new SortField[n];
  for (int i=0; i < n; ++i) {
    comparators[i]=FieldSortedHitQueue.getCachedComparator(reader,fields[i].getField(),fields[i].getType());
    this.fields[i]=new SortField(fields[i].getField(),comparators[i].sortType(),fields[i].getReverse());
  }
  initialize(size);
}
