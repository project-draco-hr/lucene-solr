{
  Throwable t=e;
  String cause=null;
  while (t != null) {
    if (t instanceof SolrException) {
      SolrException solrException=(SolrException)t;
      cause=solrException.getMetadata("cause");
      if (cause != null && !"NonExistentCore".equals(cause)) {
        throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unable to delete already existing sub shard: " + subSlice,e);
      }
    }
    t=t.getCause();
  }
  if (!"NonExistentCore".equals(cause)) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unable to delete already existing sub shard: " + subSlice,e);
  }
}
