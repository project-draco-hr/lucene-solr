{
  if (indexingParams.getAllCategoryListParams().size() == 1) {
    return Collections.singletonMap(indexingParams.getCategoryListParams(null),categories);
  }
  HashMap<CategoryListParams,Iterable<CategoryPath>> categoryLists=new HashMap<CategoryListParams,Iterable<CategoryPath>>();
  for (  CategoryPath cp : categories) {
    CategoryListParams clp=indexingParams.getCategoryListParams(cp);
    List<CategoryPath> list=(List<CategoryPath>)categoryLists.get(clp);
    if (list == null) {
      list=new ArrayList<CategoryPath>();
      categoryLists.put(clp,list);
    }
    list.add(cp);
  }
  return categoryLists;
}
