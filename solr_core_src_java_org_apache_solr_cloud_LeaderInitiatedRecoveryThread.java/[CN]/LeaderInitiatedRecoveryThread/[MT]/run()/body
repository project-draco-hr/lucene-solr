{
  long startMs=System.currentTimeMillis();
  try {
    sendRecoveryCommandWithRetry();
  }
 catch (  Exception exc) {
    log.error(getName() + " failed due to: " + exc,exc);
    if (exc instanceof SolrException) {
      throw (SolrException)exc;
    }
 else {
      throw new SolrException(ErrorCode.SERVER_ERROR,exc);
    }
  }
  long diffMs=(System.currentTimeMillis() - startMs);
  log.info(getName() + " completed successfully after running for " + Math.round(diffMs / 1000L)+ " secs");
}
