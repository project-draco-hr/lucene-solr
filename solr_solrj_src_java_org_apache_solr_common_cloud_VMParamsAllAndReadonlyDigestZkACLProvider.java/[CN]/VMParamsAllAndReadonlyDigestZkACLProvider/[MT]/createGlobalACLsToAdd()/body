{
  try {
    List<ACL> result=new ArrayList<ACL>();
    String digestAllUsername=System.getProperty(zkDigestAllUsernameVMParamName);
    String digestAllPassword=System.getProperty(zkDigestAllPasswordVMParamName);
    if (!StringUtils.isEmpty(digestAllUsername) && !StringUtils.isEmpty(digestAllPassword)) {
      result.add(new ACL(ZooDefs.Perms.ALL,new Id("digest",DigestAuthenticationProvider.generateDigest(digestAllUsername + ":" + digestAllPassword))));
    }
    String digestReadonlyUsername=System.getProperty(zkDigestReadonlyUsernameVMParamName);
    String digestReadonlyPassword=System.getProperty(zkDigestReadonlyPasswordVMParamName);
    if (!StringUtils.isEmpty(digestReadonlyUsername) && !StringUtils.isEmpty(digestReadonlyPassword)) {
      result.add(new ACL(ZooDefs.Perms.READ,new Id("digest",DigestAuthenticationProvider.generateDigest(digestReadonlyUsername + ":" + digestReadonlyPassword))));
    }
    if (result.isEmpty()) {
      result=super.createGlobalACLsToAdd();
    }
    return result;
  }
 catch (  NoSuchAlgorithmException e) {
    throw new RuntimeException(e);
  }
}
