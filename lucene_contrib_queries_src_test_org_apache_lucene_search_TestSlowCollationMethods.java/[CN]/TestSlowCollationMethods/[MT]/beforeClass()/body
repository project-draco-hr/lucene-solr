{
  final Locale locale=LuceneTestCase.randomLocale(random);
  collator=Collator.getInstance(locale);
  collator.setStrength(Collator.IDENTICAL);
  collator.setDecomposition(Collator.NO_DECOMPOSITION);
  numDocs=1000 * RANDOM_MULTIPLIER;
  dir=newDirectory();
  RandomIndexWriter iw=new RandomIndexWriter(random,dir);
  for (int i=0; i < numDocs; i++) {
    Document doc=new Document();
    String value=_TestUtil.randomUnicodeString(random);
    Field field=newField("field",value,Field.Store.YES,Field.Index.NOT_ANALYZED_NO_NORMS);
    doc.add(field);
    iw.addDocument(doc);
  }
  reader=iw.getReader();
  iw.close();
  searcher=newSearcher(reader);
}
