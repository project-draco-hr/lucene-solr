{
  UpdateRequest req=new UpdateRequest();
  req.setDocIterator(docIterator);
  if (commitParams instanceof ModifiableSolrParams) {
    req.setParams((ModifiableSolrParams)commitParams);
  }
 else   if (commitParams != null) {
    req.setParams(new ModifiableSolrParams(commitParams));
  }
  req.setParam(UpdateParams.COMMIT,"true");
  return req.process(this);
}
