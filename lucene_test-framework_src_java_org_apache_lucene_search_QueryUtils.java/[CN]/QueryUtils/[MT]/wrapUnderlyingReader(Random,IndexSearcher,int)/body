{
  IndexReader r=s.getIndexReader();
  IndexReader[] readers=new IndexReader[]{edge < 0 ? r : emptyReaders[0],emptyReaders[0],new MultiReader(edge < 0 ? emptyReaders[4] : emptyReaders[0],emptyReaders[0],0 == edge ? r : emptyReaders[0]),0 < edge ? emptyReaders[0] : emptyReaders[7],emptyReaders[0],new MultiReader(0 < edge ? emptyReaders[0] : emptyReaders[5],emptyReaders[0],0 < edge ? r : emptyReaders[0])};
  IndexSearcher out=LuceneTestCase.newSearcher(new MultiReader(readers));
  out.setSimilarity(s.getSimilarity());
  return out;
}
