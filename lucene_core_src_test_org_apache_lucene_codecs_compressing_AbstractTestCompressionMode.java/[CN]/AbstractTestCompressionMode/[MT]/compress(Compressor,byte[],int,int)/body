{
  byte[] compressed=new byte[len * 2 + 16];
  ByteArrayDataOutput out=new ByteArrayDataOutput(compressed);
  compressor.compress(decompressed,off,len,out);
  final int compressedLen=out.getPosition();
  return Arrays.copyOf(compressed,compressedLen);
}
