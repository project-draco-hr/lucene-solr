{
  for (  AtomicReaderContext ctx : r.leaves()) {
    AtomicReader sub=ctx.reader();
    Bits liveDocs=sub.getLiveDocs();
    System.out.println("  " + ((SegmentReader)sub).getSegmentInfo());
    for (int docID=0; docID < sub.maxDoc(); docID++) {
      StoredDocument doc=sub.document(docID);
      if (liveDocs == null || liveDocs.get(docID)) {
        System.out.println("    docID=" + docID + " id:"+ doc.get("id"));
      }
 else {
        System.out.println("    DEL docID=" + docID + " id:"+ doc.get("id"));
      }
    }
  }
}
