{
  File f=null;
  String name=null;
synchronized (this) {
    if (nextFile >= inputFiles.size()) {
      if (!forever) {
        throw new NoMoreDataException();
      }
      nextFile=0;
      iteration++;
    }
    f=inputFiles.get(nextFile++);
    name=f.getCanonicalPath() + "_" + iteration;
  }
  BufferedReader reader=new BufferedReader(new FileReader(f));
  try {
    String dateStr=reader.readLine();
    reader.readLine();
    String title=reader.readLine();
    reader.readLine();
    StringBuffer bodyBuf=new StringBuffer(1024);
    String line=null;
    while ((line=reader.readLine()) != null) {
      bodyBuf.append(line).append(' ');
    }
    reader.close();
    addBytes(f.length());
    Date date=parseDate(dateStr.trim());
    docData.clear();
    docData.setName(name);
    docData.setBody(bodyBuf.toString());
    docData.setTitle(title);
    docData.setDate(date);
    return docData;
  }
  finally {
    reader.close();
  }
}
