{
  Token t=input.next();
  if (t == null)   return null;
  Matcher m=p.matcher(t.termText());
  if (all) {
    t.setTermText(m.replaceAll(replacement));
  }
 else {
    t.setTermText(m.replaceFirst(replacement));
  }
  return t;
}
