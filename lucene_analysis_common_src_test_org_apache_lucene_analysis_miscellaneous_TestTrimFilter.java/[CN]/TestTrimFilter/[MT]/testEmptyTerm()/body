{
  Analyzer a=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new KeywordTokenizer(reader);
      final boolean updateOffsets=random().nextBoolean();
      final Version version=updateOffsets ? Version.LUCENE_43 : TEST_VERSION_CURRENT;
      return new TokenStreamComponents(tokenizer,new TrimFilter(version,tokenizer,updateOffsets));
    }
  }
;
  checkOneTermReuse(a,"","");
}
