{
  super.setUp();
  analyzer=new MockAnalyzer(random());
  dir=newDirectory();
  IndexWriterConfig config=newIndexWriterConfig(analyzer);
  config.setMergePolicy(newLogMergePolicy());
  RandomIndexWriter writer=new RandomIndexWriter(random(),dir,config);
  writer.addDocument(doc("lucene","lucene is a very popular search engine library"));
  writer.addDocument(doc("solr","solr is a very popular search server and is using lucene"));
  writer.addDocument(doc("nutch","nutch is an internet search engine with web crawler and is using lucene and hadoop"));
  reader=writer.getReader();
  writer.close();
  searcher=new IndexSearcher(reader);
  scorerSearcher=new ScorerIndexSearcher(reader);
}
