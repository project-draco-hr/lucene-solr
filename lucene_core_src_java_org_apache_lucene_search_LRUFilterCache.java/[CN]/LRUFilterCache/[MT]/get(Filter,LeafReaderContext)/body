{
  final Object readerKey=context.reader().getCoreCacheKey();
  final LeafCache leafCache=cache.get(readerKey);
  if (leafCache == null) {
    onMiss(readerKey,filter);
    return null;
  }
  final Filter singleton=uniqueFilters.get(filter);
  if (singleton == null) {
    onMiss(readerKey,filter);
    return null;
  }
  final DocIdSet cached=leafCache.get(singleton);
  if (cached == null) {
    onMiss(readerKey,singleton);
  }
 else {
    onHit(readerKey,singleton);
  }
  return cached;
}
