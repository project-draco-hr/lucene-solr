{
  int downto=len;
  int code=0;
  while (downto > 0) {
    final char c;
    if (ignoreCase)     c=Character.toLowerCase(text[--downto]);
 else     c=text[--downto];
    code=(code * 31) + c;
  }
  return code;
}
