{
  final OpenBitSet bits=new OpenBitSet(reader.maxDoc());
  new IndexSearcher(reader).search(query,new HitCollector(){
    public final void collect(    int doc,    float score){
      bits.set(doc);
    }
  }
);
  return bits;
}
