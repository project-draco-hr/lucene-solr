{
  if (dir.exists()) {
    if (dir.isFile() && !dir.delete()) {
      throw new IOException("could not delete " + dir);
    }
    for (    File f : dir.listFiles()) {
      if (f.isDirectory()) {
        rmDir(f);
      }
 else {
        if (!f.delete()) {
          throw new IOException("could not delete " + f);
        }
      }
    }
    if (!dir.delete()) {
      throw new IOException("could not delete " + dir);
    }
  }
}
