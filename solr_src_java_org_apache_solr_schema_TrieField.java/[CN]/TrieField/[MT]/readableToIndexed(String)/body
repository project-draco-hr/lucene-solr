{
  BytesRef bytes=new BytesRef(NumericUtils.BUF_SIZE_LONG);
switch (type) {
case INTEGER:
    NumericUtils.intToPrefixCoded(Integer.parseInt(val),0,bytes);
  break;
case FLOAT:
NumericUtils.intToPrefixCoded(NumericUtils.floatToSortableInt(Float.parseFloat(val)),0,bytes);
break;
case LONG:
NumericUtils.longToPrefixCoded(Long.parseLong(val),0,bytes);
break;
case DOUBLE:
NumericUtils.longToPrefixCoded(NumericUtils.doubleToSortableLong(Double.parseDouble(val)),0,bytes);
break;
case DATE:
NumericUtils.longToPrefixCoded(dateField.parseMath(null,val).getTime(),0,bytes);
break;
default :
throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unknown type for trie field: " + type);
}
return bytes.utf8ToString();
}
