{
  String s=val.toString();
switch (type) {
case INTEGER:
    NumericUtils.intToPrefixCoded(Integer.parseInt(s),0,result);
  break;
case FLOAT:
NumericUtils.intToPrefixCoded(NumericUtils.floatToSortableInt(Float.parseFloat(s)),0,result);
break;
case LONG:
NumericUtils.longToPrefixCoded(Long.parseLong(s),0,result);
break;
case DOUBLE:
NumericUtils.longToPrefixCoded(NumericUtils.doubleToSortableLong(Double.parseDouble(s)),0,result);
break;
case DATE:
NumericUtils.longToPrefixCoded(dateField.parseMath(null,s).getTime(),0,result);
break;
default :
throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unknown type for trie field: " + type);
}
}
