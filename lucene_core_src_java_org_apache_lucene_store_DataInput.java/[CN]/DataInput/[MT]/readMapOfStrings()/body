{
  int count=readVInt();
  if (count == 0) {
    return Collections.emptyMap();
  }
 else   if (count == 1) {
    return Collections.singletonMap(readString(),readString());
  }
 else {
    Map<String,String> map=count > 10 ? new HashMap<>() : new TreeMap<>();
    for (int i=0; i < count; i++) {
      final String key=readString();
      final String val=readString();
      map.put(key,val);
    }
    return Collections.unmodifiableMap(map);
  }
}
