{
  log.info("Checking if I (core={},coreNodeName={}) should try and be the leader.",core.getName(),core.getCoreDescriptor().getCloudDescriptor().getCoreNodeName());
  if (isClosed) {
    log.info("Bailing on leader process because we have been closed");
    return false;
  }
  if (!weAreReplacement) {
    return true;
  }
  if (core.getCoreDescriptor().getCloudDescriptor().getLastPublished() == Replica.State.ACTIVE) {
    final Replica.State lirState=zkController.getLeaderInitiatedRecoveryState(collection,shardId,core.getCoreDescriptor().getCloudDescriptor().getCoreNodeName());
    if (lirState == Replica.State.DOWN || lirState == Replica.State.RECOVERING) {
      log.warn("Although my last published state is Active, the previous leader marked me " + core.getName() + " as "+ lirState.toString()+ " and I haven't recovered yet, so I shouldn't be the leader.");
      return false;
    }
    log.info("My last published State was Active, it's okay to be the leader.");
    return true;
  }
  log.info("My last published State was " + core.getCoreDescriptor().getCloudDescriptor().getLastPublished() + ", I won't be the leader.");
  return false;
}
