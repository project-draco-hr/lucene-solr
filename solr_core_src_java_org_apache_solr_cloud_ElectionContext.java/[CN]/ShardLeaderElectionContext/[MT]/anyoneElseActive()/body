{
  ClusterState clusterState=zkController.getZkStateReader().getClusterState();
  Map<String,Slice> slices=clusterState.getSlices(this.collection);
  Slice slice=slices.get(shardId);
  Map<String,Replica> shards=slice.getReplicasMap();
  for (  Map.Entry<String,Replica> shard : shards.entrySet()) {
    String state=shard.getValue().getStr(ZkStateReader.STATE_PROP);
    if ((state.equals(ZkStateReader.ACTIVE)) && clusterState.liveNodesContain(shard.getValue().getStr(ZkStateReader.NODE_NAME_PROP))) {
      return true;
    }
  }
  return false;
}
