{
  position+=posIncAtt.getPositionIncrement();
  String termText=termAtt.term();
  WeightedSpanTerm weightedSpanTerm;
  if ((weightedSpanTerm=(WeightedSpanTerm)fieldWeightedSpanTerms.get(termText)) == null) {
    return 0;
  }
  if (weightedSpanTerm.positionSensitive && !weightedSpanTerm.checkPosition(position)) {
    return 0;
  }
  float score=weightedSpanTerm.getWeight();
  if (!foundTerms.contains(termText)) {
    totalScore+=score;
    foundTerms.add(termText);
  }
  return score;
}
