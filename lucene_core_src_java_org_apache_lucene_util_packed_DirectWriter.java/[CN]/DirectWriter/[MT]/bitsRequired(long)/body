{
  if (maxValue < 0) {
    throw new IllegalArgumentException("maxValue must be non-negative (got: " + maxValue + ")");
  }
  int bitsRequired=Math.max(1,64 - Long.numberOfLeadingZeros(maxValue));
  int index=Arrays.binarySearch(SUPPORTED_BITS_PER_VALUE,bitsRequired);
  if (index < 0) {
    return SUPPORTED_BITS_PER_VALUE[-index - 1];
  }
 else {
    return bitsRequired;
  }
}
