{
  int size=TestUtil.nextInt(random(),3,16);
  BytesRef previous=null;
  BytesRef current=new BytesRef(new byte[size]);
  for (long value=-100000L; value < 100000L; value++) {
    NumericUtils.bigIntToSortableBytes(BigInteger.valueOf(value),size,current.bytes,current.offset);
    if (previous == null) {
      previous=new BytesRef(new byte[size]);
    }
 else {
      assertTrue("current bigger than previous: ",previous.compareTo(current) < 0);
    }
    assertEquals("forward and back conversion should generate same BigInteger",BigInteger.valueOf(value),NumericUtils.sortableBytesToBigInt(current.bytes,current.offset,current.length));
    System.arraycopy(current.bytes,current.offset,previous.bytes,previous.offset,current.length);
  }
}
