{
  Iterable<ContentStream> streams=req.getContentStreams();
  if (streams == null) {
    throw new SolrException(400,"missing content stream");
  }
  for (  ContentStream stream : req.getContentStreams()) {
    Reader reader=stream.getReader();
    try {
      rsp.add("update",this.update(reader));
    }
  finally {
      IOUtils.closeQuietly(reader);
    }
  }
}
