{
  List<CacheEntry> result=new ArrayList<CacheEntry>(17);
  for (  final Map.Entry<Class<?>,Cache> cacheEntry : caches.entrySet()) {
    final Cache cache=cacheEntry.getValue();
    final Class<?> cacheType=cacheEntry.getKey();
synchronized (cache.readerCache) {
      for (      final Map.Entry<Object,Map<CacheKey,Object>> readerCacheEntry : cache.readerCache.entrySet()) {
        final Object readerKey=readerCacheEntry.getKey();
        if (readerKey == null)         continue;
        final Map<CacheKey,Object> innerCache=readerCacheEntry.getValue();
        for (        final Map.Entry<CacheKey,Object> mapEntry : innerCache.entrySet()) {
          CacheKey entry=mapEntry.getKey();
          result.add(new CacheEntry(readerKey,entry.field,cacheType,entry.custom,mapEntry.getValue()));
        }
      }
    }
  }
  return result.toArray(new CacheEntry[result.size()]);
}
