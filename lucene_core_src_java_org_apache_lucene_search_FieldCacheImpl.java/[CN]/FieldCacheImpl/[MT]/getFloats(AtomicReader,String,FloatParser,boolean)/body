{
  final NumericDocValues valuesIn=reader.getNumericDocValues(field);
  if (valuesIn != null) {
    return new Floats(){
      @Override public float get(      int docID){
        return Float.intBitsToFloat((int)valuesIn.get(docID));
      }
    }
;
  }
 else {
    final FieldInfo info=reader.getFieldInfos().fieldInfo(field);
    if (info == null) {
      return Floats.EMPTY;
    }
 else     if (info.hasDocValues()) {
      throw new IllegalStateException("Type mismatch: " + field + " was indexed as "+ info.getDocValuesType());
    }
 else     if (!info.isIndexed()) {
      return Floats.EMPTY;
    }
    return (Floats)caches.get(Float.TYPE).get(reader,new CacheKey(field,parser),setDocsWithField);
  }
}
