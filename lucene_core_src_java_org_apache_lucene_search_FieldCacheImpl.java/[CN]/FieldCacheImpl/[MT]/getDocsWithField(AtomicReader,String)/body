{
  final FieldInfo fieldInfo=reader.getFieldInfos().fieldInfo(field);
  if (fieldInfo == null) {
    return new Bits.MatchNoBits(reader.maxDoc());
  }
 else   if (fieldInfo.hasDocValues()) {
    return new Bits.MatchAllBits(reader.maxDoc());
  }
 else   if (!fieldInfo.isIndexed()) {
    return new Bits.MatchNoBits(reader.maxDoc());
  }
  return (Bits)caches.get(DocsWithFieldCache.class).get(reader,new CacheKey(field,null),false);
}
