{
  FileInputStream inputStream=new FileInputStream(filename);
  InputStreamReader streamReader=new InputStreamReader(inputStream,encoding);
  LineNumberReader lineReader=new LineNumberReader(streamReader);
  String line=null;
  while ((line=lineReader.readLine()) != null) {
    line=line.replaceAll("^\\s","");
    line=line.replaceAll("\\s*#.*","");
    line=line.replaceAll("\\s+"," ");
    if (line.length() == 0) {
      continue;
    }
    if (line.startsWith("0x")) {
      String[] values=line.split(" ",2);
      if (!values[0].contains("..")) {
        int cp=Integer.decode(values[0]).intValue();
        dictionary.putCharacterCategory(cp,values[1]);
      }
 else {
        String[] codePoints=values[0].split("\\.\\.");
        int cpFrom=Integer.decode(codePoints[0]).intValue();
        int cpTo=Integer.decode(codePoints[1]).intValue();
        for (int i=cpFrom; i <= cpTo; i++) {
          dictionary.putCharacterCategory(i,values[1]);
        }
      }
    }
 else {
      String[] values=line.split(" ");
      String characterClassName=values[0];
      int invoke=Integer.parseInt(values[1]);
      int group=Integer.parseInt(values[2]);
      int length=Integer.parseInt(values[3]);
      dictionary.putInvokeDefinition(characterClassName,invoke,group,length);
    }
  }
}
