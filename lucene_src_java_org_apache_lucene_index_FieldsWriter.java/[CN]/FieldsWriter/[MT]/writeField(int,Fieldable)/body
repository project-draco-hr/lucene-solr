{
  fieldsStream.writeVInt(fieldNumber);
  byte bits=0;
  if (field.isTokenized())   bits|=FieldsWriter.FIELD_IS_TOKENIZED;
  if (field.isBinary())   bits|=FieldsWriter.FIELD_IS_BINARY;
  fieldsStream.writeByte(bits);
  if (field.isBinary()) {
    final byte[] data;
    final int len;
    final int offset;
    data=field.getBinaryValue();
    len=field.getBinaryLength();
    offset=field.getBinaryOffset();
    fieldsStream.writeVInt(len);
    fieldsStream.writeBytes(data,offset,len);
  }
 else {
    fieldsStream.writeString(field.stringValue());
  }
}
