{
  super(fsp,reader,null,null);
  for (  FacetRequest fr : fsp.facetRequests) {
    if (!(fr instanceof RangeFacetRequest)) {
      throw new IllegalArgumentException("only RangeFacetRequest is supported; got " + fsp.facetRequests.get(0).getClass());
    }
    if (fr.categoryPath.length != 1) {
      throw new IllegalArgumentException("only flat (dimension only) CategoryPath is allowed");
    }
    RangeFacetRequest<?> rfr=(RangeFacetRequest<?>)fr;
    requests.add(new RangeSet(rfr.ranges,rfr.categoryPath.components[0]));
  }
}
