{
  long timeout=System.nanoTime() + TimeUnit.NANOSECONDS.convert(timeoutms,TimeUnit.MILLISECONDS);
  while (true) {
    try {
      cmd.execute();
    }
 catch (    Throwable t) {
      if (isInstanceOf(classes,t) && System.nanoTime() < timeout) {
        log.info("Retry due to Throwable, " + t.getClass().getName() + " "+ t.getMessage());
        Thread.sleep(intervalms);
        continue;
      }
      throw t;
    }
    break;
  }
}
