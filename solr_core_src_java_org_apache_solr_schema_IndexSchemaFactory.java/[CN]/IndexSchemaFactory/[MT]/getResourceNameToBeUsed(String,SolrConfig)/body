{
  PluginInfo info=config.getPluginInfo(IndexSchemaFactory.class.getName());
  final String nonManagedResourceName=null == resourceName ? IndexSchema.DEFAULT_SCHEMA_FILE : resourceName;
  if (null == info) {
    return nonManagedResourceName;
  }
  String managedSchemaResourceName=(String)info.initArgs.get(ManagedIndexSchemaFactory.MANAGED_SCHEMA_RESOURCE_NAME);
  if (null == managedSchemaResourceName) {
    managedSchemaResourceName=ManagedIndexSchemaFactory.DEFAULT_MANAGED_SCHEMA_RESOURCE_NAME;
  }
  if ((new File(config.getResourceLoader().getConfigDir(),managedSchemaResourceName)).exists()) {
    return managedSchemaResourceName;
  }
  return nonManagedResourceName;
}
