{
  if (termsEnum == null)   return null;
  SmallDocSet leafDocs=getLeafDocs(cell,acceptContains);
  SmallDocSet combinedSubResults=null;
  Collection<Cell> subCells=cell.getSubCells(queryShape);
  for (  Cell subCell : subCells) {
    if (!seekExact(subCell))     combinedSubResults=null;
 else     if (subCell.getLevel() == detailLevel)     combinedSubResults=getDocs(subCell,acceptContains);
 else     if (subCell.getShapeRel() == SpatialRelation.WITHIN)     combinedSubResults=getLeafDocs(subCell,acceptContains);
 else     combinedSubResults=visit(subCell,acceptContains);
    if (combinedSubResults == null)     break;
    acceptContains=combinedSubResults;
  }
  if (combinedSubResults != null) {
    if (leafDocs == null)     return combinedSubResults;
    return leafDocs.union(combinedSubResults);
  }
  return leafDocs;
}
