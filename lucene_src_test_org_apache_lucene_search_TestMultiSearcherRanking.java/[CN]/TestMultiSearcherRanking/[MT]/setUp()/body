{
  super.setUp();
  Random random=newRandom();
  d1=newDirectory(random);
  IndexWriter iw1=new IndexWriter(d1,newIndexWriterConfig(random,TEST_VERSION_CURRENT,new MockAnalyzer()));
  addCollection1(iw1);
  iw1.close();
  d2=newDirectory(random);
  IndexWriter iw2=new IndexWriter(d2,newIndexWriterConfig(random,TEST_VERSION_CURRENT,new MockAnalyzer()));
  addCollection2(iw2);
  iw2.close();
  Searchable[] s=new Searchable[2];
  s[0]=new IndexSearcher(d1,true);
  s[1]=new IndexSearcher(d2,true);
  multiSearcher=new MultiSearcher(s);
  d=newDirectory(random);
  IndexWriter iw=new IndexWriter(d,newIndexWriterConfig(random,TEST_VERSION_CURRENT,new MockAnalyzer()));
  addCollection1(iw);
  addCollection2(iw);
  iw.close();
  singleSearcher=new IndexSearcher(d,true);
}
