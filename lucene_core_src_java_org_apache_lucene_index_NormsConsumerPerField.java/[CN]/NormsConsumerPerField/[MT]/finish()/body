{
  if (fieldInfo.isIndexed() && !fieldInfo.omitsNorms()) {
    if (consumer == null) {
      fieldInfo.setNormValueType(FieldInfo.DocValuesType.NUMERIC);
      consumer=new NumericDocValuesWriter(fieldInfo,docState.docWriter.bytesUsed);
    }
    consumer.addValue(docState.docID,similarity.computeNorm(fieldState));
  }
}
