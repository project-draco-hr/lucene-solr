{
  Map<String,String> args=new HashMap<String,String>();
  args.put(CapitalizationFilterFactory.KEEP,"and the it BIG");
  args.put(CapitalizationFilterFactory.ONLY_FIRST_WORD,"true");
  CapitalizationFilterFactory factory=new CapitalizationFilterFactory();
  factory.setLuceneMatchVersion(DEFAULT_VERSION);
  factory.init(args);
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("kiTTEN"),MockTokenizer.WHITESPACE,false)),new String[]{"Kitten"});
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("and"),MockTokenizer.WHITESPACE,false)),new String[]{"And"});
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("AnD"),MockTokenizer.WHITESPACE,false)),new String[]{"And"});
  factory.forceFirstLetter=false;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("AnD"),MockTokenizer.WHITESPACE,false)),new String[]{"And"});
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("big"),MockTokenizer.WHITESPACE,false)),new String[]{"Big"});
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("BIG"),MockTokenizer.WHITESPACE,false)),new String[]{"BIG"});
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("Hello thEre my Name is Ryan"),MockTokenizer.KEYWORD,false)),new String[]{"Hello there my name is ryan"});
  factory.onlyFirstWord=false;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("Hello thEre my Name is Ryan"),MockTokenizer.WHITESPACE,false)),new String[]{"Hello","There","My","Name","Is","Ryan"});
  factory.minWordLength=3;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("Hello thEre my Name is Ryan"),MockTokenizer.WHITESPACE,false)),new String[]{"Hello","There","my","Name","is","Ryan"});
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("McKinley"),MockTokenizer.WHITESPACE,false)),new String[]{"Mckinley"});
  factory=new CapitalizationFilterFactory();
  factory.setLuceneMatchVersion(DEFAULT_VERSION);
  args.put("okPrefix","McK");
  factory.init(args);
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("McKinley"),MockTokenizer.WHITESPACE,false)),new String[]{"McKinley"});
  factory.forceFirstLetter=false;
  factory.onlyFirstWord=false;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("1st 2nd third"),MockTokenizer.WHITESPACE,false)),new String[]{"1st","2nd","Third"});
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("the The the"),MockTokenizer.KEYWORD,false)),new String[]{"The The the"});
}
