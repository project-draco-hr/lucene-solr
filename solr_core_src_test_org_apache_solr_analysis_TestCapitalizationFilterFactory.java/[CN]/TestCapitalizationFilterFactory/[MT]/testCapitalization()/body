{
  Map<String,String> args=new HashMap<String,String>(DEFAULT_VERSION_PARAM);
  args.put(CapitalizationFilterFactory.KEEP,"and the it BIG");
  args.put(CapitalizationFilterFactory.ONLY_FIRST_WORD,"true");
  CapitalizationFilterFactory factory=new CapitalizationFilterFactory();
  factory.init(args);
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("kiTTEN"))),new String[]{"Kitten"});
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("and"))),new String[]{"And"});
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("AnD"))),new String[]{"And"});
  factory.forceFirstLetter=false;
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("AnD"))),new String[]{"And"});
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("big"))),new String[]{"Big"});
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("BIG"))),new String[]{"BIG"});
  assertTokenStreamContents(factory.create(new KeywordTokenizer(new StringReader("Hello thEre my Name is Ryan"))),new String[]{"Hello there my name is ryan"});
  factory.onlyFirstWord=false;
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("Hello thEre my Name is Ryan"))),new String[]{"Hello","There","My","Name","Is","Ryan"});
  factory.minWordLength=3;
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("Hello thEre my Name is Ryan"))),new String[]{"Hello","There","my","Name","is","Ryan"});
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("McKinley"))),new String[]{"Mckinley"});
  factory=new CapitalizationFilterFactory();
  args.put("okPrefix","McK");
  factory.init(args);
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("McKinley"))),new String[]{"McKinley"});
  factory.forceFirstLetter=false;
  factory.onlyFirstWord=false;
  assertTokenStreamContents(factory.create(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("1st 2nd third"))),new String[]{"1st","2nd","Third"});
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new KeywordTokenizer(new StringReader("the The the"))),new String[]{"The The the"});
}
