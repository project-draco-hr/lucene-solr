{
  Map<String,String> args=new HashMap<String,String>();
  args.put(CapitalizationFilterFactory.KEEP,"kitten");
  args.put(CapitalizationFilterFactory.KEEP_IGNORE_CASE,"true");
  args.put(CapitalizationFilterFactory.ONLY_FIRST_WORD,"true");
  CapitalizationFilterFactory factory=new CapitalizationFilterFactory();
  factory.setLuceneMatchVersion(DEFAULT_VERSION);
  factory.init(args);
  factory.forceFirstLetter=true;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("kiTTEN"),MockTokenizer.KEYWORD,false)),new String[]{"KiTTEN"});
  factory.forceFirstLetter=false;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("kiTTEN"),MockTokenizer.KEYWORD,false)),new String[]{"kiTTEN"});
  factory.keep=null;
  assertTokenStreamContents(factory.create(new MockTokenizer(new StringReader("kiTTEN"),MockTokenizer.KEYWORD,false)),new String[]{"Kitten"});
}
