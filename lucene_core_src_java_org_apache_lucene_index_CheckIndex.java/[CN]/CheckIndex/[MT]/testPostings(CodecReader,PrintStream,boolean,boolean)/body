{
  Status.TermIndexStatus status;
  final int maxDoc=reader.maxDoc();
  try {
    if (infoStream != null) {
      infoStream.print("    test: terms, freq, prox...");
    }
    final Fields fields=reader.getPostingsReader().getMergeInstance();
    final FieldInfos fieldInfos=reader.getFieldInfos();
    status=checkFields(fields,reader.getLiveDocs(),maxDoc,fieldInfos,true,false,infoStream,verbose);
  }
 catch (  Throwable e) {
    if (failFast) {
      IOUtils.reThrow(e);
    }
    msg(infoStream,"ERROR: " + e);
    status=new Status.TermIndexStatus();
    status.error=e;
    if (infoStream != null) {
      e.printStackTrace(infoStream);
    }
  }
  return status;
}
