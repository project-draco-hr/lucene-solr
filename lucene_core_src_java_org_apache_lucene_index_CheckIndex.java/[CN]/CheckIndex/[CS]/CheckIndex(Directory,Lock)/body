{
  this.dir=dir;
  this.writeLock=writeLock;
  this.infoStream=null;
  if (!writeLock.obtain(IndexWriterConfig.WRITE_LOCK_TIMEOUT)) {
    throw new LockObtainFailedException("Index locked for write: " + writeLock);
  }
}
