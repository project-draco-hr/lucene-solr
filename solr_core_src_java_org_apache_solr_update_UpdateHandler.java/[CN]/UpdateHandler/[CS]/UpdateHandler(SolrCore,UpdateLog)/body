{
  this.core=core;
  schema=core.getSchema();
  idField=schema.getUniqueKeyField();
  idFieldType=idField != null ? idField.getType() : null;
  parseEventListeners();
  PluginInfo ulogPluginInfo=core.getSolrConfig().getPluginInfo(UpdateLog.class.getName());
  if (!core.isReloaded() && !core.getDirectoryFactory().isPersistent()) {
    clearLog(ulogPluginInfo);
  }
  if (updateLog == null) {
    initLog(ulogPluginInfo);
  }
 else {
    this.ulog=updateLog;
  }
}
