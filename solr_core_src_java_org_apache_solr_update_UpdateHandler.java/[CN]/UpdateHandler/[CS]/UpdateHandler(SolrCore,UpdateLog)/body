{
  this.core=core;
  idField=core.getLatestSchema().getUniqueKeyField();
  idFieldType=idField != null ? idField.getType() : null;
  parseEventListeners();
  PluginInfo ulogPluginInfo=core.getSolrConfig().getPluginInfo(UpdateLog.class.getName());
  if (!core.isReloaded() && !core.getDirectoryFactory().isPersistent()) {
    clearLog(ulogPluginInfo);
  }
  initLog(ulogPluginInfo,updateLog);
}
