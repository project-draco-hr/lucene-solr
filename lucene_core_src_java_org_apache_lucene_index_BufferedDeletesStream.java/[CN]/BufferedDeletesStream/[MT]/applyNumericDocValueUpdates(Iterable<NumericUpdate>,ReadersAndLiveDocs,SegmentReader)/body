{
  Fields fields=reader.fields();
  if (fields == null) {
    return false;
  }
  TermsEnum termsEnum=null;
  DocsEnum docs=null;
  boolean any=false;
  for (  NumericUpdate update : updates) {
    Term term=update.term;
    int limit=update.docIDUpto;
    Terms terms=fields.terms(term.field);
    if (terms == null) {
      termsEnum=null;
      continue;
    }
    termsEnum=terms.iterator(termsEnum);
    if (termsEnum.seekExact(term.bytes())) {
      DocsEnum docsEnum=termsEnum.docs(rld.getLiveDocs(),docs,DocsEnum.FLAG_NONE);
      int doc;
      while ((doc=docsEnum.nextDoc()) != DocIdSetIterator.NO_MORE_DOCS) {
        if (doc >= limit) {
          break;
        }
        rld.updateNumericDocValue(update.field,doc,update.value);
        any=true;
      }
    }
  }
  return any;
}
