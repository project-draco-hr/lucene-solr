{
  String userDict="# Custom segmentation for long entries\n" + "??????????????????,?????? ?????? ??????,????????? ???????????? ????????????,??????????????????\n" + "??????????????????,?????? ?????? ??????,???????????? ???????????? ????????????,???????????????\n"+ "# Custom reading for sumo wrestler\n"+ "?????????,?????????,????????????????????????,??????????????????\n";
  Map<String,String> args=new HashMap<>();
  args.put("userDictionary","userdict.txt");
  JapaneseTokenizerFactory factory=new JapaneseTokenizerFactory(args);
  factory.inform(new StringMockResourceLoader(userDict));
  TokenStream ts=factory.create();
  ((Tokenizer)ts).setReader(new StringReader("??????????????????????????????"));
  assertTokenStreamContents(ts,new String[]{"??????","??????","??????","???","??????","???"});
}
