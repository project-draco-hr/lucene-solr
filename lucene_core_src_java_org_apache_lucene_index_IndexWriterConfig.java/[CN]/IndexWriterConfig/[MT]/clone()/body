{
  IndexWriterConfig clone;
  if (inUseByIndexWriter.get()) {
    throw new IllegalStateException("cannot clone: this IndexWriterConfig is private to IndexWriter; make a new one instead");
  }
  try {
    clone=(IndexWriterConfig)super.clone();
  }
 catch (  CloneNotSupportedException e) {
    throw new RuntimeException(e);
  }
  clone.inUseByIndexWriter=new AtomicBoolean();
  clone.flushPolicy=flushPolicy.clone();
  clone.indexerThreadPool=indexerThreadPool.clone();
  clone.mergePolicy=mergePolicy.clone();
  return clone;
}
