{
  return new AnalyzerWrapper(Analyzer.PER_FIELD_REUSE_STRATEGY){
    @Override protected Analyzer getWrappedAnalyzer(    String fieldName){
      return indexAnalyzer;
    }
    @Override protected TokenStreamComponents wrapComponents(    String fieldName,    TokenStreamComponents components){
      if (fieldName.equals("textgrams") && minPrefixChars > 0) {
        return new TokenStreamComponents(components.getTokenizer(),new EdgeNGramTokenFilter(matchVersion,components.getTokenStream(),1,minPrefixChars));
      }
 else {
        return components;
      }
    }
  }
;
}
