{
  List<Accountable> resources=new ArrayList<>();
  try {
    if (searcherMgr != null) {
      IndexSearcher searcher=searcherMgr.acquire();
      try {
        for (        AtomicReaderContext context : searcher.getIndexReader().leaves()) {
          AtomicReader reader=FilterAtomicReader.unwrap(context.reader());
          if (reader instanceof SegmentReader) {
            resources.add(Accountables.namedAccountable("segment",(SegmentReader)reader));
          }
        }
      }
  finally {
        searcherMgr.release(searcher);
      }
    }
    return resources;
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
}
