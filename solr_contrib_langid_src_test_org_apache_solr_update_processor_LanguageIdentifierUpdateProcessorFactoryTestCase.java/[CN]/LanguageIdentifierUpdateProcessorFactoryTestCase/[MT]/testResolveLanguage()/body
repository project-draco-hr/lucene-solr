{
  List<DetectedLanguage> langs;
  parameters=new ModifiableSolrParams();
  parameters.add("langid.fl","text");
  parameters.add("langid.langField","language");
  liProcessor=createLangIdProcessor(parameters);
  langs=new ArrayList<DetectedLanguage>();
  assertEquals("",liProcessor.resolveLanguage(langs,null));
  assertEquals("fallback",liProcessor.resolveLanguage(langs,"fallback"));
  langs.add(new DetectedLanguage("one",1.0));
  assertEquals("one",liProcessor.resolveLanguage(langs,"fallback"));
  langs=new ArrayList<DetectedLanguage>();
  langs.add(new DetectedLanguage("under",0.1));
  assertEquals("fallback",liProcessor.resolveLanguage(langs,"fallback"));
}
