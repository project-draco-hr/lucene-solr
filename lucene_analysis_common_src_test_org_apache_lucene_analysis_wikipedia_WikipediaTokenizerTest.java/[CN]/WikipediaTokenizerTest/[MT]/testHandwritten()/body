{
  String test="[[link]] This is a [[Category:foo]] Category  This is a linked [[:Category:bar none withstanding]] " + "Category This is (parens) This is a [[link]]  This is an external URL [http://lucene.apache.org] " + "Here is ''italics'' and ''more italics'', '''bold''' and '''''five quotes''''' "+ " This is a [[link|display info]]  This is a period.  Here is $3.25 and here is 3.50.  Here's Johnny.  "+ "==heading== ===sub head=== followed by some text  [[Category:blah| ]] "+ "''[[Category:ital_cat]]''  here is some that is ''italics [[Category:foo]] but is never closed."+ "'''same [[Category:foo]] goes for this '''''and2 [[Category:foo]] and this"+ " [http://foo.boo.com/test/test/ Test Test] [http://foo.boo.com/test/test/test.html Test Test]"+ " [http://foo.boo.com/test/test/test.html?g=b&c=d Test Test] <ref>Citation</ref> <sup>martian</sup> <span class=\"glue\">code</span>";
  WikipediaTokenizer tf=new WikipediaTokenizer();
  tf.setReader(new StringReader(test));
  assertTokenStreamContents(tf,new String[]{"link","This","is","a","foo","Category","This","is","a","linked","bar","none","withstanding","Category","This","is","parens","This","is","a","link","This","is","an","external","URL","http://lucene.apache.org","Here","is","italics","and","more","italics","bold","and","five","quotes","This","is","a","link","display","info","This","is","a","period","Here","is","3.25","and","here","is","3.50","Here's","Johnny","heading","sub","head","followed","by","some","text","blah","ital","cat","here","is","some","that","is","italics","foo","but","is","never","closed","same","foo","goes","for","this","and2","foo","and","this","http://foo.boo.com/test/test/","Test","Test","http://foo.boo.com/test/test/test.html","Test","Test","http://foo.boo.com/test/test/test.html?g=b&c=d","Test","Test","Citation","martian","code"},new String[]{INTERNAL_LINK,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",CATEGORY,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",CATEGORY,CATEGORY,CATEGORY,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",INTERNAL_LINK,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",EXTERNAL_LINK_URL,"<ALPHANUM>","<ALPHANUM>",ITALICS,"<ALPHANUM>",ITALICS,ITALICS,BOLD,"<ALPHANUM>",BOLD_ITALICS,BOLD_ITALICS,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",INTERNAL_LINK,INTERNAL_LINK,INTERNAL_LINK,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<NUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<NUM>","<APOSTROPHE>","<ALPHANUM>",HEADING,SUB_HEADING,SUB_HEADING,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",CATEGORY,CATEGORY,CATEGORY,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",ITALICS,CATEGORY,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",BOLD,CATEGORY,"<ALPHANUM>","<ALPHANUM>","<ALPHANUM>",BOLD_ITALICS,CATEGORY,"<ALPHANUM>","<ALPHANUM>",EXTERNAL_LINK_URL,EXTERNAL_LINK,EXTERNAL_LINK,EXTERNAL_LINK_URL,EXTERNAL_LINK,EXTERNAL_LINK,EXTERNAL_LINK_URL,EXTERNAL_LINK,EXTERNAL_LINK,CITATION,"<ALPHANUM>","<ALPHANUM>"});
}
