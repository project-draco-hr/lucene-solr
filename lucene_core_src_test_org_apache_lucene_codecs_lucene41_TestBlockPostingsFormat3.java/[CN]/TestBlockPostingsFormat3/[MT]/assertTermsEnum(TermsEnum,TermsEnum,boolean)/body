{
  BytesRef term;
  Bits randomBits=new RandomBits(MAXDOC,random().nextDouble(),random());
  DocsAndPositionsEnum leftPositions=null;
  DocsAndPositionsEnum rightPositions=null;
  DocsEnum leftDocs=null;
  DocsEnum rightDocs=null;
  while ((term=leftTermsEnum.next()) != null) {
    assertEquals(term,rightTermsEnum.next());
    assertTermStats(leftTermsEnum,rightTermsEnum);
    if (deep) {
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions,DocsAndPositionsEnum.FLAG_PAYLOADS),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions,DocsAndPositionsEnum.FLAG_PAYLOADS));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions,DocsAndPositionsEnum.FLAG_PAYLOADS),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions,DocsAndPositionsEnum.FLAG_PAYLOADS));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions,DocsAndPositionsEnum.FLAG_PAYLOADS),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions,DocsAndPositionsEnum.FLAG_PAYLOADS));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions,DocsAndPositionsEnum.FLAG_PAYLOADS),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions,DocsAndPositionsEnum.FLAG_PAYLOADS));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions,DocsAndPositionsEnum.FLAG_OFFSETS),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions,DocsAndPositionsEnum.FLAG_OFFSETS));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions,DocsAndPositionsEnum.FLAG_OFFSETS),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions,DocsAndPositionsEnum.FLAG_OFFSETS));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions,DocsAndPositionsEnum.FLAG_OFFSETS),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions,DocsAndPositionsEnum.FLAG_OFFSETS));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions,DocsAndPositionsEnum.FLAG_OFFSETS),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions,DocsAndPositionsEnum.FLAG_OFFSETS));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions,DocsEnum.FLAG_NONE),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions,DocsEnum.FLAG_NONE));
      assertDocsAndPositionsEnum(leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions,DocsEnum.FLAG_NONE),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions,DocsEnum.FLAG_NONE));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(null,leftPositions,DocsEnum.FLAG_NONE),rightPositions=rightTermsEnum.docsAndPositions(null,rightPositions,DocsEnum.FLAG_NONE));
      assertPositionsSkipping(leftTermsEnum.docFreq(),leftPositions=leftTermsEnum.docsAndPositions(randomBits,leftPositions,DocsEnum.FLAG_NONE),rightPositions=rightTermsEnum.docsAndPositions(randomBits,rightPositions,DocsEnum.FLAG_NONE));
      assertDocsEnum(leftDocs=leftTermsEnum.docs(null,leftDocs),rightDocs=rightTermsEnum.docs(null,rightDocs));
      assertDocsEnum(leftDocs=leftTermsEnum.docs(randomBits,leftDocs),rightDocs=rightTermsEnum.docs(randomBits,rightDocs));
      assertDocsEnum(leftDocs=leftTermsEnum.docs(null,leftDocs,DocsEnum.FLAG_NONE),rightDocs=rightTermsEnum.docs(null,rightDocs,DocsEnum.FLAG_NONE));
      assertDocsEnum(leftDocs=leftTermsEnum.docs(randomBits,leftDocs,DocsEnum.FLAG_NONE),rightDocs=rightTermsEnum.docs(randomBits,rightDocs,DocsEnum.FLAG_NONE));
      assertDocsSkipping(leftTermsEnum.docFreq(),leftDocs=leftTermsEnum.docs(null,leftDocs),rightDocs=rightTermsEnum.docs(null,rightDocs));
      assertDocsSkipping(leftTermsEnum.docFreq(),leftDocs=leftTermsEnum.docs(randomBits,leftDocs),rightDocs=rightTermsEnum.docs(randomBits,rightDocs));
      assertDocsSkipping(leftTermsEnum.docFreq(),leftDocs=leftTermsEnum.docs(null,leftDocs,DocsEnum.FLAG_NONE),rightDocs=rightTermsEnum.docs(null,rightDocs,DocsEnum.FLAG_NONE));
      assertDocsSkipping(leftTermsEnum.docFreq(),leftDocs=leftTermsEnum.docs(randomBits,leftDocs,DocsEnum.FLAG_NONE),rightDocs=rightTermsEnum.docs(randomBits,rightDocs,DocsEnum.FLAG_NONE));
    }
  }
  assertNull(rightTermsEnum.next());
}
