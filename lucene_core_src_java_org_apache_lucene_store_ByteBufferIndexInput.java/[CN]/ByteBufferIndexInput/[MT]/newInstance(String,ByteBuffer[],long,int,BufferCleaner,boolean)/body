{
  final WeakIdentityMap<ByteBufferIndexInput,Boolean> clones=trackClones ? WeakIdentityMap.<ByteBufferIndexInput,Boolean>newConcurrentHashMap() : null;
  if (buffers.length == 1) {
    return new SingleBufferImpl(resourceDescription,buffers[0],length,chunkSizePower,cleaner,clones);
  }
 else {
    return new DefaultImpl(resourceDescription,buffers,length,chunkSizePower,cleaner,clones);
  }
}
