{
  paramMap.put("folders","top2");
  paramMap.put("recurse","true");
  paramMap.put("processAttachement","false");
  paramMap.put("exclude",".*grandchild.*");
  DataImporter di=new DataImporter();
  di.loadAndInit(getConfigFromMap(paramMap));
  Entity ent=di.getConfig().getEntities().get(0);
  RequestInfo rp=new RequestInfo(null,createMap("command","full-import"),null);
  SolrWriterImpl swi=new SolrWriterImpl();
  di.runCmd(rp,swi);
  assertEquals("top2 and its direct children did not return 5 messages",swi.docs.size(),5);
}
