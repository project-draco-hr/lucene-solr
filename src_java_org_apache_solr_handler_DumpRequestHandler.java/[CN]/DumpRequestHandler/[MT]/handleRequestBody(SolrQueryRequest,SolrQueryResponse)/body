{
  rsp.add("params",req.getParams().toNamedList());
  if (req.getContentStreams() != null) {
    NamedList<Object> streams=new NamedList<Object>();
    for (    ContentStream content : req.getContentStreams()) {
      NamedList<Object> stream=new NamedList<Object>();
      stream.add("name",content.getName());
      stream.add("fieldName",content.getSourceInfo());
      stream.add("size",content.getSize());
      stream.add("contentType",content.getContentType());
      stream.add("stream",IOUtils.toString(content.getStream()));
      streams.add("stream",stream);
    }
    rsp.add("streams",streams);
  }
  Map<Object,Object> context=req.getContext();
  if (context != null) {
    NamedList ctx=new NamedList();
    for (    Map.Entry<Object,Object> entry : context.entrySet()) {
      ctx.add(entry.getKey().toString(),entry.getValue());
    }
    rsp.add("context",ctx);
  }
}
