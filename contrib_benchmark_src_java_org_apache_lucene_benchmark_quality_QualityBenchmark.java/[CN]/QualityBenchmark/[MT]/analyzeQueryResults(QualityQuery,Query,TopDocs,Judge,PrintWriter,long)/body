{
  QualityStats stts=new QualityStats(judge.maxRecall(qq),searchTime);
  ScoreDoc sd[]=td.scoreDocs;
  long t1=System.currentTimeMillis();
  DocNameExtractor xt=new DocNameExtractor(docNameField);
  for (int i=0; i < sd.length; i++) {
    String docName=xt.docName(searcher,sd[i].doc);
    long docNameExtractTime=System.currentTimeMillis() - t1;
    t1=System.currentTimeMillis();
    boolean isRelevant=judge.isRelevant(docName,qq);
    stts.addResult(i + 1,isRelevant,docNameExtractTime);
  }
  if (logger != null) {
    logger.println(qq.getQueryID() + "  -  " + q);
    stts.log(qq.getQueryID() + " Stats:",1,logger,"  ");
  }
  return stts;
}
