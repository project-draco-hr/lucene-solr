{
  if (requiresEviction()) {
    Iterator<Query> iterator=mostRecentlyUsedQueries.iterator();
    do {
      final Query query=iterator.next();
      final int size=mostRecentlyUsedQueries.size();
      iterator.remove();
      if (size == mostRecentlyUsedQueries.size()) {
        throw new ConcurrentModificationException("Removal from the cache failed! This " + "is probably due to a query which has been modified after having been put into " + " the cache or a badly implemented clone(). Query class: [" + query.getClass() + "], query: ["+ query+ "]");
      }
      onEviction(query);
    }
 while (iterator.hasNext() && requiresEviction());
  }
}
