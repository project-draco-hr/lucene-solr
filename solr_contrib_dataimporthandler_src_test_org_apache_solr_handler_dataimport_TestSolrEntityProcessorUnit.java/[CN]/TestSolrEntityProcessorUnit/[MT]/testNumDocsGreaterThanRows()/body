{
  List<Doc> docs=generateUniqueDocs(44);
  int rowsNum=10;
  MockSolrEntityProcessor processor=createAndInit(docs,rowsNum);
  try {
    assertExpectedDocs(docs,processor);
    assertEquals(5,processor.getQueryCount());
  }
  finally {
    processor.destroy();
  }
}
