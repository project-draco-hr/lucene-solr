{
  String[][][] docs=new String[1][2][2];
  String[][] doc=new String[][]{{"id","1"},{"multi","multi1"},{"multi","multi2"},{"multi","multi3"}};
  docs[0]=doc;
  MockSolrEntityProcessor processor=new MockSolrEntityProcessor(docs);
  Map<String,Object> next=processor.nextRow();
  assertNotNull(next);
  assertEquals(doc[0][1],next.get(doc[0][0]));
  String[] multiValued={"multi1","multi2","multi3"};
  assertEquals(Arrays.asList(multiValued),next.get(doc[1][0]));
  assertEquals(1,processor.getQueryCount());
  assertNull(processor.nextRow());
}
