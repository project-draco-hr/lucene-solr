{
  String home=System.getProperty("java.io.tmpdir") + File.separator + getClass().getName()+ "-"+ System.currentTimeMillis();
  homeDir=new File(home);
  dataDir=new File(home,"data");
  confDir=new File(home,"conf");
  homeDir.mkdirs();
  dataDir.mkdirs();
  confDir.mkdirs();
  File f=new File(confDir,"solrconfig.xml");
  copyFile(new File(getSolrConfigFile()),f);
  f=new File(confDir,"schema.xml");
  copyFile(new File(getSchemaFile()),f);
  Properties p=new Properties();
  p.setProperty("foo.foo1","f1");
  p.setProperty("foo.foo2","f2");
  FileOutputStream fos=new FileOutputStream(confDir + File.separator + "solrcore.properties");
  p.store(fos,null);
  fos.close();
  IOUtils.closeQuietly(fos);
}
