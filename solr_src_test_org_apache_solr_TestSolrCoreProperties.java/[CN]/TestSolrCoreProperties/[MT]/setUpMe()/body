{
  homeDir=new File(TEMP_DIR,getClass().getName() + "-" + System.currentTimeMillis());
  dataDir=new File(homeDir,"data");
  confDir=new File(homeDir,"conf");
  homeDir.mkdirs();
  dataDir.mkdirs();
  confDir.mkdirs();
  File f=new File(confDir,"solrconfig.xml");
  copyFile(new File(getSolrConfigFile()),f);
  f=new File(confDir,"schema.xml");
  copyFile(new File(getSchemaFile()),f);
  Properties p=new Properties();
  p.setProperty("foo.foo1","f1");
  p.setProperty("foo.foo2","f2");
  FileOutputStream fos=new FileOutputStream(confDir + File.separator + "solrcore.properties");
  p.store(fos,null);
  fos.close();
  IOUtils.closeQuietly(fos);
}
