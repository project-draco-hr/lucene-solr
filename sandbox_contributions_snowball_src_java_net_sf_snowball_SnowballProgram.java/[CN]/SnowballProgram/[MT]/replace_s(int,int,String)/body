{
  int adjustment=s.length() - (c_ket - c_bra);
  current.replace(bra,ket,s);
  limit+=adjustment;
  if (cursor >= c_ket)   cursor+=adjustment;
 else   if (cursor > c_bra)   cursor=c_bra;
  return adjustment;
}
