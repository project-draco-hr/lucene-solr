{
  SolrZkClient zkClient=new SolrZkClient(zkHost,AbstractZkTestCase.TIMEOUT);
  zkClient.makePath("/solr",false,true);
  zkClient.close();
  zkClient=new SolrZkClient(zkAddress,AbstractZkTestCase.TIMEOUT);
  Map<String,String> props=new HashMap<String,String>();
  props.put("configName","conf1");
  final ZkNodeProps zkProps=new ZkNodeProps(props);
  zkClient.makePath("/collections/collection1",ZkStateReader.toJSON(zkProps),CreateMode.PERSISTENT,true);
  zkClient.makePath("/collections/collection1/shards",CreateMode.PERSISTENT,true);
  zkClient.makePath("/collections/control_collection",ZkStateReader.toJSON(zkProps),CreateMode.PERSISTENT,true);
  zkClient.makePath("/collections/control_collection/shards",CreateMode.PERSISTENT,true);
  putConfig(zkClient,config);
  putConfig(zkClient,schema);
  putConfig(zkClient,"solrconfig.xml");
  putConfig(zkClient,"stopwords.txt");
  putConfig(zkClient,"protwords.txt");
  putConfig(zkClient,"mapping-ISOLatin1Accent.txt");
  putConfig(zkClient,"old_synonyms.txt");
  putConfig(zkClient,"synonyms.txt");
  zkClient.close();
}
