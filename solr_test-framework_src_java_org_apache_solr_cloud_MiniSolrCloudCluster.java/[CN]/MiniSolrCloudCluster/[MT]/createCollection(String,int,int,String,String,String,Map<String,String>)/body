{
  final ModifiableSolrParams params=new ModifiableSolrParams();
  params.set(CoreAdminParams.ACTION,CollectionAction.CREATE.name());
  params.set(CoreAdminParams.NAME,name);
  params.set("numShards",numShards);
  params.set("replicationFactor",replicationFactor);
  params.set("collection.configName",configName);
  if (null != createNodeSet) {
    params.set(OverseerCollectionProcessor.CREATE_NODE_SET,createNodeSet);
  }
  if (null != asyncId) {
    params.set(CommonAdminParams.ASYNC,asyncId);
  }
  if (collectionProperties != null) {
    for (    Map.Entry<String,String> property : collectionProperties.entrySet()) {
      params.set(CoreAdminParams.PROPERTY_PREFIX + property.getKey(),property.getValue());
    }
  }
  return makeCollectionsRequest(params);
}
