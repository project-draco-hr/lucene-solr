{
  ByteArrayOutputStream baos=new ByteArrayOutputStream(256);
  int expectedSize=0;
  for (int j=0; j < testValues.length; j++) {
    Vint8.encode(testValues[j],baos);
    expectedSize+=bytesNeededTestValues[j];
  }
  assertEquals(expectedSize,baos.size());
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  for (int j=0; j < testValues.length; j++) {
    assertEquals(testValues[j],Vint8.decode(bais));
  }
  assertEquals(0,bais.available());
}
