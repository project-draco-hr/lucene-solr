{
  Map<Term,TermContext> termContexts=new HashMap<Term,TermContext>();
  TreeSet<Term> terms=new TreeSet<Term>();
  query.extractTerms(terms);
  for (  Term term : terms) {
    termContexts.put(term,TermContext.build(context,term,true));
  }
  final AtomicReaderContext[] leaves=context.leaves();
  for (  AtomicReaderContext atomicReaderContext : leaves) {
    final Spans spans=query.getSpans(atomicReaderContext,atomicReaderContext.reader().getLiveDocs(),termContexts);
    while (spans.next() == true) {
      if (spans.isPayloadAvailable()) {
        Collection<byte[]> payload=spans.getPayload();
        for (        byte[] bytes : payload) {
          payloads.add(bytes);
        }
      }
    }
  }
}
