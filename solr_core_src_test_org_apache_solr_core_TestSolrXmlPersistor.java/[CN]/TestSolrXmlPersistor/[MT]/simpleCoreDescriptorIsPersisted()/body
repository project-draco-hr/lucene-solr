{
  final String solrxml="<solr><cores></cores></solr>";
  SolrResourceLoader loader=new SolrResourceLoader("solr/example/solr");
  CoreContainer cc=new CoreContainer(loader);
  final CoreDescriptor cd=new CoreDescriptor(cc,"testcore","instance/dir/");
  List<CoreDescriptor> cds=ImmutableList.of(cd);
  SolrXMLCoresLocator persistor=new SolrXMLCoresLocator(new File("testfile.xml"),solrxml,null);
  assertEquals(persistor.buildSolrXML(cds),"<solr><cores>" + SolrXMLCoresLocator.NEWLINE + "    <core name=\"testcore\" instanceDir=\"instance/dir/\"/>"+ SolrXMLCoresLocator.NEWLINE+ "</cores></solr>");
}
