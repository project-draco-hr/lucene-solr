{
  PrecedenceQueryParser parser=getParser(new WhitespaceAnalyzer(Version.LUCENE_CURRENT));
  Query query1=parser.parse("A AND B OR C AND D");
  Query query2=parser.parse("(A AND B) OR (C AND D)");
  assertEquals(query1,query2);
  query1=parser.parse("A OR B C");
  query2=parser.parse("A B C");
  assertEquals(query1,query2);
  query1=parser.parse("A AND B C");
  query2=parser.parse("(+A +B) C");
  assertEquals(query1,query2);
  query1=parser.parse("A AND NOT B");
  query2=parser.parse("+A -B");
  assertEquals(query1,query2);
  query1=parser.parse("A OR NOT B");
  query2=parser.parse("A -B");
  assertEquals(query1,query2);
  query1=parser.parse("A OR NOT B AND C");
  query2=parser.parse("A (-B +C)");
  assertEquals(query1,query2);
}
