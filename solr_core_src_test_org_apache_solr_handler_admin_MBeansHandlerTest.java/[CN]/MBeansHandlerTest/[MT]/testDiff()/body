{
  String xml=h.query(req(CommonParams.QT,"/admin/mbeans","stats","true",CommonParams.WT,"xml"));
  List<ContentStream> streams=new ArrayList<>();
  streams.add(new ContentStreamBase.StringStream(xml));
  LocalSolrQueryRequest req=lrf.makeRequest(CommonParams.QT,"/admin/mbeans","stats","true",CommonParams.WT,"xml","diff","true");
  req.setContentStreams(streams);
  xml=h.query(req);
  NamedList<NamedList<NamedList<Object>>> diff=SolrInfoMBeanHandler.fromXML(xml);
  NamedList stats=(NamedList)diff.get("QUERYHANDLER").get("/admin/mbeans").get("stats");
  assertEquals("Was: 1, Now: 2, Delta: 1",stats.get("requests"));
  xml=h.query(req(CommonParams.QT,"/admin/mbeans","stats","true","key","org.apache.solr.handler.admin.CollectionsHandler"));
  NamedList<NamedList<NamedList<Object>>> nl=SolrInfoMBeanHandler.fromXML(xml);
  assertNotNull(nl.get("QUERYHANDLER").get("org.apache.solr.handler.admin.CollectionsHandler"));
}
