{
  Directory srcTaxoDir=newDirectory(), targetTaxoDir=newDirectory();
  DirectoryTaxonomyWriter taxoWriter=new DirectoryTaxonomyWriter(srcTaxoDir);
  int ord=taxoWriter.addCategory(new CategoryPath("A/1/1/1/1/1/1",'/'));
  taxoWriter.close();
  taxoWriter=new DirectoryTaxonomyWriter(targetTaxoDir);
  int ordinal=taxoWriter.addCategory(new CategoryPath("B/1",'/'));
  assertEquals(1,taxoWriter.getParent(ordinal));
  taxoWriter.commit();
  taxoWriter.replaceTaxonomy(srcTaxoDir);
  assertEquals(ord - 1,taxoWriter.getParent(ord));
  taxoWriter.close();
  srcTaxoDir.close();
  targetTaxoDir.close();
}
