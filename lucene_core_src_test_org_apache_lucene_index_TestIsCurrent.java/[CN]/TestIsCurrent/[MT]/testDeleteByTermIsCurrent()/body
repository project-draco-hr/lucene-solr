{
  DirectoryReader reader=writer.getReader();
  assertEquals("One document should be in the index",1,writer.numDocs());
  assertTrue("One document added, reader should be current",reader.isCurrent());
  Term idTerm=new Term("UUID","1");
  writer.deleteDocuments(idTerm);
  writer.commit();
  assertEquals("Document should be removed",0,writer.numDocs());
  assertFalse("Reader should be stale",reader.isCurrent());
  reader.close();
}
