{
  try {
    String url="http://localhost:" + port + context;
    ConcurrentUpdateSolrServer s=new ConcurrentUpdateSolrServer(url,2,5){
      public Throwable lastError=null;
      @Override public void handleError(      Throwable ex){
        lastError=ex;
      }
    }
;
    s.setParser(new XMLResponseParser());
    s.setRequestWriter(new RequestWriter());
    return s;
  }
 catch (  Exception ex) {
    throw new RuntimeException(ex);
  }
}
