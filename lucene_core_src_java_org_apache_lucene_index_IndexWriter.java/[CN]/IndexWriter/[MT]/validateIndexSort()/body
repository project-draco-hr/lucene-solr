{
  Sort indexSort=config.getIndexSort();
  if (indexSort != null) {
    for (    SegmentCommitInfo info : segmentInfos) {
      Sort segmentIndexSort=info.info.getIndexSort();
      if (segmentIndexSort != null && indexSort.equals(segmentIndexSort) == false) {
        throw new IllegalArgumentException("cannot change previous indexSort=" + segmentIndexSort + " (from segment="+ info+ ") to new indexSort="+ indexSort);
      }
    }
  }
}
