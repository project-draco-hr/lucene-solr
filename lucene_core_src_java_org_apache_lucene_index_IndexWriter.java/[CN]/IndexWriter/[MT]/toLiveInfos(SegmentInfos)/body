{
  final SegmentInfos newSIS=new SegmentInfos();
  final Map<SegmentCommitInfo,SegmentCommitInfo> liveSIS=new HashMap<SegmentCommitInfo,SegmentCommitInfo>();
  for (  SegmentCommitInfo info : segmentInfos) {
    liveSIS.put(info,info);
  }
  for (  SegmentCommitInfo info : sis) {
    SegmentCommitInfo liveInfo=liveSIS.get(info);
    if (liveInfo != null) {
      info=liveInfo;
    }
    newSIS.add(info);
  }
  return newSIS;
}
