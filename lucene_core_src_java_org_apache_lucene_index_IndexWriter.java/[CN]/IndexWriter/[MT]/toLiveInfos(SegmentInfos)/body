{
  final SegmentInfos newSIS=new SegmentInfos();
  final Map<SegmentInfoPerCommit,SegmentInfoPerCommit> liveSIS=new HashMap<SegmentInfoPerCommit,SegmentInfoPerCommit>();
  for (  SegmentInfoPerCommit info : segmentInfos) {
    liveSIS.put(info,info);
  }
  for (  SegmentInfoPerCommit info : sis) {
    SegmentInfoPerCommit liveInfo=liveSIS.get(info);
    if (liveInfo != null) {
      info=liveInfo;
    }
    newSIS.add(info);
  }
  return newSIS;
}
