{
  assertTrue(reader.numDocs() == 1);
  assertTrue(reader.maxDoc() >= 1);
  Document result=reader.document(0);
  assertTrue(result != null);
  assertTrue(DocHelper.numFields(result) == DocHelper.numFields(testDoc) - DocHelper.unstored.size());
  Enumeration fields=result.fields();
  while (fields.hasMoreElements()) {
    Fieldable field=(Fieldable)fields.nextElement();
    assertTrue(field != null);
    assertTrue(DocHelper.nameValues.containsKey(field.name()));
  }
}
