{
  try {
    long resolution=20 * TimeLimitingCollector.DEFAULT_RESOLUTION;
    TimeLimitingCollector.setResolution(resolution);
    assertEquals(resolution,TimeLimitingCollector.getResolution());
    doTestTimeout(false,true);
    resolution=5;
    TimeLimitingCollector.setResolution(resolution);
    assertEquals(resolution,TimeLimitingCollector.getResolution());
    doTestTimeout(false,true);
    resolution=TimeLimitingCollector.DEFAULT_RESOLUTION;
    TimeLimitingCollector.setResolution(resolution);
    assertEquals(resolution,TimeLimitingCollector.getResolution());
    doTestTimeout(false,true);
  }
  finally {
    TimeLimitingCollector.setResolution(TimeLimitingCollector.DEFAULT_RESOLUTION);
  }
}
