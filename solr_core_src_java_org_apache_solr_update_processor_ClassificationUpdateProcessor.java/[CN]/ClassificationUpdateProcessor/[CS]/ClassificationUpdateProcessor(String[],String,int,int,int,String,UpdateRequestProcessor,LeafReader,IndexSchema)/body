{
  super(next);
  this.classFieldName=classFieldName;
  Map<String,Analyzer> field2analyzer=new HashMap<String,Analyzer>();
  for (  String fieldName : inputFieldNames) {
    SchemaField fieldFromSolrSchema=schema.getField(fieldName);
    Analyzer indexAnalyzer=fieldFromSolrSchema.getType().getQueryAnalyzer();
    field2analyzer.put(fieldName,indexAnalyzer);
  }
switch (algorithm) {
case "knn":
    classifier=new KNearestNeighborDocumentClassifier(indexReader,null,null,k,minDf,minTf,classFieldName,field2analyzer,inputFieldNames);
  break;
case "bayes":
classifier=new SimpleNaiveBayesDocumentClassifier(indexReader,null,classFieldName,field2analyzer,inputFieldNames);
break;
}
}
