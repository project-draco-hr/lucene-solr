{
  String input="aabfooaabfooabfoob ab caaaaaaaaab";
  TokenStream ts=new PatternReplaceFilter(new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader(input)),Pattern.compile("a*b"),"-",true);
  assertTokenStreamContents(ts,new String[]{"-foo-foo-foo-","-","c-"});
}
