{
  final FeatureFormat f;
  if (featureFormat == null || featureFormat.isEmpty() || featureFormat.equals("sparse")) {
    f=FeatureFormat.SPARSE;
  }
 else   if (featureFormat.equals("dense")) {
    f=FeatureFormat.DENSE;
  }
 else {
    f=FeatureFormat.SPARSE;
    log.warn("unknown feature logger feature format {} | {}",stringFormat,featureFormat);
  }
  if ((stringFormat == null) || stringFormat.isEmpty()) {
    return new CSVFeatureLogger(f);
  }
  if (stringFormat.equals("csv")) {
    return new CSVFeatureLogger(f);
  }
  if (stringFormat.equals("json")) {
    return new MapFeatureLogger(f);
  }
  log.warn("unknown feature logger string format {} | {}",stringFormat,featureFormat);
  return null;
}
