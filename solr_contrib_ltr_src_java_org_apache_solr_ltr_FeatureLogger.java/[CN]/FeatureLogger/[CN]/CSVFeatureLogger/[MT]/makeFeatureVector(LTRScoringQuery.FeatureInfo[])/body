{
  boolean isDense=featureFormat.equals(FeatureFormat.DENSE);
  for (  LTRScoringQuery.FeatureInfo featInfo : featuresInfo) {
    if (featInfo.isUsed() || isDense) {
      sb.append(featInfo.getName()).append(keyValueSep).append(featInfo.getValue()).append(featureSep);
    }
  }
  final String features=(sb.length() > 0 ? sb.substring(0,sb.length() - 1) : "");
  sb.setLength(0);
  return features;
}
