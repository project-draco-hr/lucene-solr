{
  if (!checkCollectionKeyExistence(message))   return ZkStateWriter.NO_OP;
  DocCollection coll=clusterState.getCollection(message.getStr(COLLECTION_PROP));
  Map<String,Object> m=coll.shallowCopy();
  for (  String prop : CollectionsHandler.MODIFIABLE_COLL_PROPS) {
    if (message.get(prop) != null)     m.put(prop,message.get(prop));
  }
  return new ZkWriteCommand(coll.getName(),new DocCollection(coll.getName(),coll.getSlicesMap(),m,coll.getRouter(),coll.getZNodeVersion(),coll.getZNode()));
}
