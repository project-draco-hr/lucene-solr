{
  if (init) {
    init=false;
    core.addCloseHook(new CloseHook(){
      @Override public void preClose(      SolrCore core){
        threadPool.shutdown();
      }
      @Override public void postClose(      SolrCore core){
      }
    }
);
  }
}
