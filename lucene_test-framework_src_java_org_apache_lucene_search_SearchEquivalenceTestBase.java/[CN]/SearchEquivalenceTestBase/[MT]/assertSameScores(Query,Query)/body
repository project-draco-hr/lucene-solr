{
  assertSameSet(q1,q2);
  assertSameScores(q1,q2,null);
  int numFilters=TEST_NIGHTLY ? atLeast(10) : atLeast(3);
  for (int i=0; i < numFilters; i++) {
    Filter filter=randomFilter();
    assertSameScores(q1,q2,filter);
    assertSameScores(filteredQuery(q1,filter),filteredQuery(q2,filter),null);
    assertSameScores(filteredQuery(q1,filter),filteredBooleanQuery(q2,filter),null);
    assertSameScores(filteredBooleanQuery(q1,filter),filteredBooleanQuery(q2,filter),null);
    assertSameScores(filteredBooleanQuery(q1,filter),filteredQuery(q2,filter),null);
  }
}
