{
  final LeafReaderContext privateContext=context.reader().getContext();
  final Weight weight=new IndexSearcher(privateContext).createNormalizedWeight(query,false);
  return new DocIdSet(){
    @Override public DocIdSetIterator iterator() throws IOException {
      return weight.scorer(privateContext);
    }
    @Override public long ramBytesUsed(){
      return 0L;
    }
    @Override public Bits bits() throws IOException {
      if (useBits) {
        BitDocIdSet.Builder builder=new BitDocIdSet.Builder(context.reader().maxDoc());
        DocIdSetIterator disi=iterator();
        if (disi != null) {
          builder.or(disi);
        }
        BitDocIdSet bitset=builder.build();
        if (bitset == null) {
          return new Bits.MatchNoBits(context.reader().maxDoc());
        }
 else {
          return bitset.bits();
        }
      }
 else {
        return null;
      }
    }
  }
;
}
