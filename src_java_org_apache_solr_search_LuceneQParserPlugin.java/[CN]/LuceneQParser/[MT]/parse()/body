{
  String qstr=getString();
  String defaultField=getParam(CommonParams.DF);
  if (defaultField == null) {
    defaultField=getReq().getSchema().getSolrQueryParser(null).getField();
  }
  lparser=new SolrQueryParser(this,defaultField);
  String opParam=getParam(QueryParsing.OP);
  if (opParam != null) {
    lparser.setDefaultOperator("AND".equals(opParam) ? QueryParser.Operator.AND : QueryParser.Operator.OR);
  }
 else {
    String operator=getReq().getSchema().getSolrQueryParser(null).getField();
    lparser.setDefaultOperator("AND".equals(operator) ? QueryParser.Operator.AND : QueryParser.Operator.OR);
  }
  return lparser.parse(qstr);
}
