{
  MemoryMXBean memoryMXBean=ManagementFactory.getMemoryMXBean();
  causeGc();
  long before=memoryMXBean.getHeapMemoryUsage().getUsed();
  Object[] all=new Object[1000000];
  for (int i=0; i < all.length; i++) {
    all[i]=new byte[random().nextInt(3)];
  }
  causeGc();
  long after=memoryMXBean.getHeapMemoryUsage().getUsed();
  System.out.println("mx:  " + RamUsageEstimator.humanReadableUnits(after - before));
  System.out.println("rue: " + RamUsageEstimator.humanReadableUnits(shallowSizeOf(all)));
  guard=all;
}
