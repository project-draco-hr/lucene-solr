{
  FixedBitSet parentBits=parentList.getBits();
  DocSetCollector collector=new DocSetCollector(qcontext.searcher().maxDoc() >> 6,qcontext.searcher().maxDoc());
  DocIterator iter=parentInput.iterator();
  while (iter.hasNext()) {
    int parentDoc=iter.nextDoc();
    if (!parentList.exists(parentDoc) || parentDoc == 0) {
      continue;
    }
    int prevParent=parentBits.prevSetBit(parentDoc - 1);
    for (int childDoc=prevParent + 1; childDoc < parentDoc; childDoc++) {
      if (acceptDocs != null && !acceptDocs.exists(childDoc))       continue;
      collector.collect(childDoc);
    }
  }
  return collector.getDocSet();
}
