{
  assertTrue(reader.numDocs() == 1);
  assertTrue(reader.maxDoc() >= 1);
  Document result=reader.document(0);
  assertTrue(result != null);
  assertTrue(DocHelper.numFields(result) == DocHelper.numFields(testDoc) - DocHelper.unstored.size());
  List fields=result.getFields();
  for (Iterator iter=fields.iterator(); iter.hasNext(); ) {
    Fieldable field=(Fieldable)iter.next();
    assertTrue(field != null);
    assertTrue(DocHelper.nameValues.containsKey(field.name()));
  }
}
