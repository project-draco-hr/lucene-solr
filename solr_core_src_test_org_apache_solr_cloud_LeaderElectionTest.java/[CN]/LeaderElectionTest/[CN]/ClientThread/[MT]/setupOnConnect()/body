{
  ZkStateReader zkStateReader=new ZkStateReader(zkClient);
  LeaderElector elector=new LeaderElector(zkClient);
  ShardLeaderElectionContextBase context=new ShardLeaderElectionContextBase(elector,"shard1","collection1",Integer.toString(nodeNumber),props,zkStateReader);
  elector.setup(context);
  seq=elector.joinElection(context,false);
  electionDone=true;
  seqToThread.put(seq,this);
}
