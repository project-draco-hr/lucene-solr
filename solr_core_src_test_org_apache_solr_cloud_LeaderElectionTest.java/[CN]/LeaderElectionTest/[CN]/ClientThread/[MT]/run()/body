{
  LeaderElector elector=new LeaderElector(ClientThread.this.zkClient);
  ElectionContext context=new ShardLeaderElectionContextBase(elector,"shard1","collection1",Integer.toString(nodeNumber),props,this.zkStateReader);
  try {
    elector.setup(context);
    seq=elector.joinElection(context);
    electionDone=true;
    seqToThread.put(seq,this);
  }
 catch (  InterruptedException e) {
    return;
  }
catch (  Throwable e) {
  }
  while (!stop) {
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e) {
      return;
    }
  }
}
