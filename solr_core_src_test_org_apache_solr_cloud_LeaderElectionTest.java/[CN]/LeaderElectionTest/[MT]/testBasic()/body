{
  LeaderElector elector=new LeaderElector(zkClient);
  ZkNodeProps props=new ZkNodeProps(ZkStateReader.BASE_URL_PROP,"http://127.0.0.1/solr/",ZkStateReader.CORE_NAME_PROP,"");
  ElectionContext context=new ShardLeaderElectionContextBase(elector,"shard2","collection1","dummynode1",props,zkStateReader);
  elector.setup(context);
  elector.joinElection(context);
  assertEquals("http://127.0.0.1/solr/",getLeaderUrl("collection1","shard2"));
}
