{
  PayloadNearQuery query;
  TopDocs hits;
  query=newPhraseQuery("field","nine hundred ninety nine",true,new AveragePayloadFunction());
  hits=searcher.search(query,100);
  assertTrue("hits is null and it shouldn't be",hits != null);
  ScoreDoc doc=hits.scoreDocs[0];
  assertTrue("there should only be one hit",hits.totalHits == 1);
  assertTrue(doc.score + " does not equal: " + 3,doc.score == 3);
}
