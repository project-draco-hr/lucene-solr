{
  PreAnalyzedField paf=new PreAnalyzedField();
  paf.init(h.getCore().getLatestSchema(),Collections.emptyMap());
  Analyzer preAnalyzer=paf.getIndexAnalyzer();
  for (  String s : invalidJson) {
    TokenStream stream=null;
    try {
      stream=preAnalyzer.tokenStream("dummy",s);
      stream.reset();
      fail("should fail: '" + s + "'");
    }
 catch (    Exception e) {
    }
 finally {
      if (stream != null) {
        stream.close();
      }
    }
  }
  TokenStream stream=preAnalyzer.tokenStream("dummy",validJson);
  CharTermAttribute termAttr=stream.addAttribute(CharTermAttribute.class);
  stream.reset();
  while (stream.incrementToken()) {
    assertFalse("zero-length token",termAttr.length() == 0);
  }
  stream.end();
  stream.close();
}
