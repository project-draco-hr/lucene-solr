{
  BooleanQuery query=new BooleanQuery();
  query.add(new TermQuery(new Term(field,"1")),BooleanClause.Occur.MUST);
  query.add(new TermQuery(new Term(field,"1")),BooleanClause.Occur.SHOULD);
  query.add(new TermQuery(new Term(field,"2")),BooleanClause.Occur.SHOULD);
  TopScoreDocCollector collector=TopScoreDocCollector.create(1000,false);
  searcher.search(query,null,collector);
  TopDocs tops1=collector.topDocs();
  ScoreDoc[] hits1=tops1.scoreDocs;
  int hitsNum1=tops1.totalHits;
  collector=TopScoreDocCollector.create(1000,true);
  searcher.search(query,null,collector);
  TopDocs tops2=collector.topDocs();
  ScoreDoc[] hits2=tops2.scoreDocs;
  int hitsNum2=tops2.totalHits;
  assertEquals(hitsNum1,count1);
  assertEquals(hitsNum2,count1);
  CheckHits.checkEqual(query,hits1,hits2);
}
