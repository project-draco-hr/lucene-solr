{
  String file=req.getParams().get("file");
  if (file == null) {
    log.error("You must specify a file for the write operation.");
    rsp.setException(new SolrException(ErrorCode.BAD_REQUEST,"You must specify a file for the write operation."));
    return null;
  }
  Iterable<ContentStream> streams=req.getContentStreams();
  if (streams == null) {
    log.error("Input stream list was null for admin file write operation.");
    rsp.setException(new SolrException(ErrorCode.BAD_REQUEST,"Input stream list was null for admin file write operation."));
    return null;
  }
  Iterator<ContentStream> iter=streams.iterator();
  if (!iter.hasNext()) {
    log.error("No input streams were in the list for admin file write operation.");
    rsp.setException(new SolrException(ErrorCode.BAD_REQUEST,"No input streams were in the list for admin file write operation."));
    return null;
  }
  ContentStream stream=iter.next();
  if (iter.hasNext()) {
    log.error("More than one input stream was found for admin file write operation.");
    rsp.setException(new SolrException(ErrorCode.BAD_REQUEST,"More than one input stream was found for admin file write operation."));
    return null;
  }
  return stream;
}
