{
  log.info("Shutting down CoreContainer instance=" + System.identityHashCode(this));
synchronized (cores) {
    try {
      for (      SolrCore core : cores.values()) {
        core.close();
      }
      cores.clear();
    }
  finally {
      if (zkController != null) {
        zkController.close();
      }
      if (zkServer != null) {
        zkServer.stop();
      }
      isShutDown=true;
    }
  }
}
