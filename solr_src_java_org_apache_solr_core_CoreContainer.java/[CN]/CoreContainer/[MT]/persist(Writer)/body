{
  w.write("<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n");
  w.write("<solr");
  if (this.libDir != null) {
    writeAttribute(w,"sharedLib",libDir);
  }
  if (zkHost != null)   writeAttribute(w,"zkHost",zkHost);
  writeAttribute(w,"persistent",isPersistent());
  w.write(">\n");
  if (containerProperties != null && !containerProperties.isEmpty()) {
    writeProperties(w,containerProperties,"  ");
  }
  w.write("  <cores");
  writeAttribute(w,"adminPath",adminPath);
  if (adminHandler != null)   writeAttribute(w,"adminHandler",adminHandler);
  if (shareSchema)   writeAttribute(w,"shareSchema","true");
  if (!defaultCoreName.equals(""))   writeAttribute(w,"defaultCoreName",defaultCoreName);
  if (host != null)   writeAttribute(w,"host",host);
  if (hostPort != null)   writeAttribute(w,"hostPort",hostPort);
  if (zkClientTimeout != null)   writeAttribute(w,"zkClientTimeout",zkClientTimeout);
  if (hostContext != null)   writeAttribute(w,"hostContext",hostContext);
  w.write(">\n");
synchronized (cores) {
    for (    SolrCore solrCore : cores.values()) {
      persist(w,solrCore.getCoreDescriptor());
    }
  }
  w.write("  </cores>\n");
  w.write("</solr>\n");
}
