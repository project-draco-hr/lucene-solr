{
  try {
    System.clearProperty("solr.solrxml.location");
    System.setProperty("hostPort","8787");
    setUpZkAndDiskXml(false,false);
    fail("Should have thrown an exception here");
  }
 catch (  InvocationTargetException ite) {
    assertTrue("Should be failing to create default solr.xml in code",ite.getTargetException().getCause().getMessage().indexOf("solr.xml does not exist") != -1);
  }
 finally {
    closeZK();
  }
}
