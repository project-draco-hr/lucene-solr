{
  try {
    System.setProperty("solr.solrxml.location","solrHomeDir");
    setUpZkAndDiskXml(false,true);
    fail("Should have thrown exception in SolrXmlInZkTest.testBadSysProp");
  }
 catch (  InvocationTargetException ite) {
    SolrException se=(SolrException)ite.getTargetException();
    assertEquals("Should have an exception in SolrXmlInZkTest.testBadSysProp, sysprop set to bogus value.",se.getMessage(),"Bad solr.solrxml.location set: solrHomeDir - should be 'solrhome' or 'zookeeper'");
  }
 finally {
    closeZK();
  }
}
