{
  if (version == null) {
    throw new IllegalArgumentException("version must not be null");
  }
  if (side == null) {
    throw new IllegalArgumentException("sideLabel must be either front or back");
  }
  if (minGram < 1) {
    throw new IllegalArgumentException("minGram must be greater than zero");
  }
  if (minGram > maxGram) {
    throw new IllegalArgumentException("minGram must not be greater than maxGram");
  }
  if (version.onOrAfter(Version.LUCENE_44)) {
    if (side == Side.BACK) {
      throw new IllegalArgumentException("Side.BACK is not supported anymore as of Lucene 4.4");
    }
  }
 else {
    maxGram=Math.min(maxGram,1024);
  }
  this.version=version;
  this.minGram=minGram;
  this.maxGram=maxGram;
  this.side=side;
}
