{
  if (reopenLock.tryLock()) {
    try {
      final long newSearcherGen=writer.getAndIncrementGeneration();
      if (searchingGen == MAX_SEARCHER_GEN) {
        newGeneration.signalAll();
        return;
      }
      boolean setSearchGen;
      if (!mgr.isSearcherCurrent()) {
        setSearchGen=mgr.maybeReopen();
      }
 else {
        setSearchGen=true;
      }
      if (setSearchGen) {
        searchingGen=newSearcherGen;
        newGeneration.signalAll();
      }
    }
  finally {
      reopenLock.unlock();
    }
  }
}
