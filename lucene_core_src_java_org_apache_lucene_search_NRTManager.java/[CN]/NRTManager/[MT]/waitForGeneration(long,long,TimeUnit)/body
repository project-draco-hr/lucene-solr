{
  try {
    final long curGen=writer.getGeneration();
    if (targetGen > curGen) {
      throw new IllegalArgumentException("targetGen=" + targetGen + " was never returned by this NRTManager instance (current gen="+ curGen+ ")");
    }
    reopenLock.lockInterruptibly();
    try {
      if (targetGen > searchingGen) {
        for (        WaitingListener listener : waitingListeners) {
          listener.waiting(targetGen);
        }
        while (targetGen > searchingGen) {
          if (!waitOnGenCondition(time,unit)) {
            return;
          }
        }
      }
    }
  finally {
      reopenLock.unlock();
    }
  }
 catch (  InterruptedException ie) {
    throw new ThreadInterruptedException(ie);
  }
}
