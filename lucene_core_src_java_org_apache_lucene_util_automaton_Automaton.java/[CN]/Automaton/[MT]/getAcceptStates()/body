{
  expandSingleton();
  HashSet<State> accepts=new HashSet<>();
  HashSet<State> visited=new HashSet<>();
  LinkedList<State> worklist=new LinkedList<>();
  worklist.add(initial);
  visited.add(initial);
  while (worklist.size() > 0) {
    State s=worklist.removeFirst();
    if (s.accept)     accepts.add(s);
    for (    Transition t : s.getTransitions())     if (!visited.contains(t.to)) {
      visited.add(t.to);
      worklist.add(t.to);
    }
  }
  return accepts;
}
