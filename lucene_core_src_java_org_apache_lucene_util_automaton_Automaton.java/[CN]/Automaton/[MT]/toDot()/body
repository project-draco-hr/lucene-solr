{
  StringBuilder b=new StringBuilder("digraph Automaton {\n");
  b.append("  rankdir = LR;\n");
  State[] states=getNumberedStates();
  for (  State s : states) {
    b.append("  ").append(s.number);
    if (s.accept)     b.append(" [shape=doublecircle,label=\"" + s.number + "\"];\n");
 else     b.append(" [shape=circle,label=\" " + s.number + "\"];\n");
    if (s == initial) {
      b.append("  initial [shape=plaintext,label=\"\"];\n");
      b.append("  initial -> ").append(s.number).append("\n");
    }
    for (    Transition t : s.getTransitions()) {
      b.append("  ").append(s.number);
      t.appendDot(b);
    }
  }
  return b.append("}\n").toString();
}
