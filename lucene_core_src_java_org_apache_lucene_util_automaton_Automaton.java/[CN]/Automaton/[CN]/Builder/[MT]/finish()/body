{
  sorter.sort(0,nextTransition / 4);
  int upto=0;
  while (upto < nextTransition) {
    a.addTransition(transitions[upto],transitions[upto + 1],transitions[upto + 2],transitions[upto + 3]);
    upto+=4;
  }
  a.finishState();
  return a;
}
