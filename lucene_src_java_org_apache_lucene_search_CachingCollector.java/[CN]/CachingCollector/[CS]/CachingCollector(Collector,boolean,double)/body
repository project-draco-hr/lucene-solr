{
  this.other=other;
  this.cacheScores=cacheScores;
  if (cacheScores) {
    cachedScorer=new CachedScorer();
    cachedScores=new ArrayList<float[]>();
    curScores=new float[128];
    cachedScores.add(curScores);
  }
 else {
    cachedScorer=null;
    cachedScores=null;
  }
  cachedDocs=new ArrayList<int[]>();
  curDocs=new int[INITIAL_ARRAY_SIZE];
  cachedDocs.add(curDocs);
  int bytesPerDoc=RamUsageEstimator.NUM_BYTES_INT;
  if (cacheScores) {
    bytesPerDoc+=RamUsageEstimator.NUM_BYTES_FLOAT;
  }
  maxDocsToCache=(int)((maxRAMMB * 1024 * 1024) / bytesPerDoc);
}
