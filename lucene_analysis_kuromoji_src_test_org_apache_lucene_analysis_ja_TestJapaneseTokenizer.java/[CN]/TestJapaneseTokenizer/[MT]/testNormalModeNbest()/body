{
  JapaneseTokenizer t=makeTokenizer(true,Mode.NORMAL);
  Analyzer a=makeAnalyzer(t);
  t.setNBestCost(2000);
  assertAnalyzesTo(a,"??????????????????????????????????????????",new String[]{"?????????","??????????????????????????????????????????","??????????????????","???????????????"});
  t.setNBestCost(5000);
  assertAnalyzesTo(a,"??????????????????????????????????????????",new String[]{"?????????","??????????????????????????????????????????","?????????","??????????????????","?????????","???????????????"});
  t.setNBestCost(0);
  assertAnalyzesTo(a,"??????????????????",new String[]{"??????","??????","??????"});
  t.setNBestCost(3000);
  assertAnalyzesTo(a,"??????????????????",new String[]{"??????","???","??????","?????????","??????"});
  t.setNBestCost(0);
  assertAnalyzesTo(a,"???????????????",new String[]{"??????","???","??????"});
  t.setNBestCost(2000);
  assertAnalyzesTo(a,"???????????????",new String[]{"??????","????????????","???","??????","???"});
  t.setNBestCost(0);
  assertAnalyzesTo(a,"??????????????????????????????",new String[]{"????????????","???","??????","??????"});
  t.setNBestCost(4000);
  assertAnalyzesTo(a,"??????????????????????????????",new String[]{"????????????","???","??????","??????","???","??????"});
}
