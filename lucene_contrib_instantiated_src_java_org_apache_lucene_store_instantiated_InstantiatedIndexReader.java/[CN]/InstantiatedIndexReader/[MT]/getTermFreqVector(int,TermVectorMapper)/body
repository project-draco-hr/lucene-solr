{
  InstantiatedDocument doc=getIndex().getDocumentsByNumber()[docNumber];
  for (  Map.Entry<String,List<InstantiatedTermDocumentInformation>> e : doc.getVectorSpace().entrySet()) {
    mapper.setExpectations(e.getKey(),e.getValue().size(),true,true);
    for (    InstantiatedTermDocumentInformation tdi : e.getValue()) {
      mapper.map(tdi.getTerm().getTerm().bytes(),tdi.getTermPositions().length,tdi.getTermOffsets(),tdi.getTermPositions());
    }
  }
}
