{
  long result=super.updateDocument(term,doc);
  try {
    if (waitAfterUpdate) {
      signal.countDown();
      latch.await();
    }
  }
 catch (  InterruptedException e) {
    throw new ThreadInterruptedException(e);
  }
  return result;
}
