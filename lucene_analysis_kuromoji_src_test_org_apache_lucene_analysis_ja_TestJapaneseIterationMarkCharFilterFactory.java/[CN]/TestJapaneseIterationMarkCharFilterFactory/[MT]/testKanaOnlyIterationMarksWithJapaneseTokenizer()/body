{
  JapaneseTokenizerFactory tokenizerFactory=new JapaneseTokenizerFactory(new HashMap<String,String>());
  tokenizerFactory.inform(new StringMockResourceLoader(""));
  Map<String,String> filterArgs=new HashMap<>();
  filterArgs.put("normalizeKanji","false");
  filterArgs.put("normalizeKana","true");
  JapaneseIterationMarkCharFilterFactory filterFactory=new JapaneseIterationMarkCharFilterFactory(filterArgs);
  CharFilter filter=filterFactory.create(new StringReader("???????????????????????????????????????????????????"));
  TokenStream tokenStream=tokenizerFactory.create();
  ((Tokenizer)tokenStream).setReader(filter);
  assertTokenStreamContents(tokenStream,new String[]{"??????","??????","???","???","??????","??????????????????","???","??????"});
}
