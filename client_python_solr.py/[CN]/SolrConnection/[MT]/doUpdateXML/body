def doUpdateXML(self, request):
    try:
        rsp = self.doPost((self.solrBase + '/update'), request, self.xmlheaders)
        data = rsp.read()
    finally:
        if (not self.persistent):
            self.conn.close()
    if (not data.startswith('<result status="0"')):
        data = self.decoder(data)[0]
        d = parseString(data)
        status = d.documentElement.getAttribute('status')
        if (status != 0):
            reason = d.documentElement.firstChild.nodeValue
            raise SolrException(rsp.status, status, reason)
    return data
