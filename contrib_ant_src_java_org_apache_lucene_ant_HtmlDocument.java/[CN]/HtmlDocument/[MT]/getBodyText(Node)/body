{
  NodeList nl=node.getChildNodes();
  StringBuffer buffer=new StringBuffer();
  for (int i=0; i < nl.getLength(); i++) {
    Node child=nl.item(i);
switch (child.getNodeType()) {
case Node.ELEMENT_NODE:
      buffer.append(getBodyText(child));
    buffer.append(" ");
  break;
case Node.TEXT_NODE:
buffer.append(((Text)child).getData());
break;
}
}
return buffer.toString();
}
