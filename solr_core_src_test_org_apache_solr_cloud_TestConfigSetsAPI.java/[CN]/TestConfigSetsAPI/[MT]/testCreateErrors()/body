{
  final SolrClient solrClient=new HttpSolrClient(solrCluster.getJettySolrRunners().get(0).getBaseUrl().toString());
  final File configDir=getFile("solr").toPath().resolve("configsets/configset-2/conf").toFile();
  solrCluster.uploadConfigDir(configDir,"configSet");
  CreateNoErrorChecking createNoAction=new CreateNoErrorChecking();
  createNoAction.setAction(null);
  verifyException(solrClient,createNoAction,"action");
  CreateNoErrorChecking create=new CreateNoErrorChecking();
  verifyException(solrClient,create,NAME);
  create.setConfigSetName("configSetName");
  verifyException(solrClient,create,BASE_CONFIGSET);
  Create alreadyExists=new Create();
  alreadyExists.setConfigSetName("configSet").setBaseConfigSetName("baseConfigSet");
  verifyException(solrClient,alreadyExists,"ConfigSet already exists");
  Create baseConfigNoExists=new Create();
  baseConfigNoExists.setConfigSetName("newConfigSet").setBaseConfigSetName("baseConfigSet");
  verifyException(solrClient,baseConfigNoExists,"Base ConfigSet does not exist");
  solrClient.close();
}
