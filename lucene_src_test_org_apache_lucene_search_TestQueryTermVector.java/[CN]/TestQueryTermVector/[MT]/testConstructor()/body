{
  BytesRef[] queryTerm={new BytesRef("foo"),new BytesRef("bar"),new BytesRef("foo"),new BytesRef("again"),new BytesRef("foo"),new BytesRef("bar"),new BytesRef("go"),new BytesRef("go"),new BytesRef("go")};
  BytesRef[] gold={new BytesRef("again"),new BytesRef("bar"),new BytesRef("foo"),new BytesRef("go")};
  int[] goldFreqs={1,2,3,3};
  QueryTermVector result=new QueryTermVector(queryTerm);
  BytesRef[] terms=result.getTerms();
  assertTrue(terms.length == 4);
  int[] freq=result.getTermFrequencies();
  assertTrue(freq.length == 4);
  checkGold(terms,gold,freq,goldFreqs);
  result=new QueryTermVector(null);
  assertTrue(result.getTerms().length == 0);
  result=new QueryTermVector("foo bar foo again foo bar go go go",new MockAnalyzer());
  terms=result.getTerms();
  assertTrue(terms.length == 4);
  freq=result.getTermFrequencies();
  assertTrue(freq.length == 4);
  checkGold(terms,gold,freq,goldFreqs);
}
