{
  long totalTermFreq=0;
  for (  IndexReader.AtomicReaderContext readerContext : searcher.getTopReaderContext().leaves()) {
    totalTermFreq+=readerContext.reader.totalTermFreq(indexedField,indexedBytes);
  }
  final long ttf=Math.max(-1,totalTermFreq);
  context.put(this,new LongDocValues(this){
    @Override public long longVal(    int doc){
      return ttf;
    }
  }
);
}
