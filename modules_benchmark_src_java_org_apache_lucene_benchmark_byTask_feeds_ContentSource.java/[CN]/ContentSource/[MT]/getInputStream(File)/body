{
  InputStream is=new BufferedInputStream(new FileInputStream(file),BUFFER_SIZE);
  String fileName=file.getName();
  int idx=fileName.lastIndexOf('.');
  String type=null;
  if (idx != -1) {
    type=extensionToType.get(fileName.substring(idx).toLowerCase(Locale.ENGLISH));
  }
  if (type != null) {
    try {
      return closableCompressorInputStream(type,is);
    }
 catch (    CompressorException e) {
      IOException ioe=new IOException(e.getMessage());
      ioe.initCause(e);
      throw ioe;
    }
  }
  return is;
}
