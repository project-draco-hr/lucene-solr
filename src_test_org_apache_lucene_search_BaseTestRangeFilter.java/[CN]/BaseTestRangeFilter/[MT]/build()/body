{
  try {
    IndexWriter writer=new IndexWriter(index,new SimpleAnalyzer(),T);
    for (int d=minId; d <= maxId; d++) {
      Document doc=new Document();
      doc.add(Field.Keyword("id",pad(d)));
      int r=rand.nextInt();
      if (maxR < r) {
        maxR=r;
      }
      if (r < minR) {
        minR=r;
      }
      doc.add(Field.Keyword("rand",pad(r)));
      doc.add(Field.Keyword("body","body"));
      writer.addDocument(doc);
    }
    writer.optimize();
    writer.close();
  }
 catch (  Exception e) {
    throw new RuntimeException("can't build index",e);
  }
}
