{
  try {
    IndexWriter writer=new IndexWriter(index,new SimpleAnalyzer(),T,IndexWriter.MaxFieldLength.LIMITED);
    for (int d=minId; d <= maxId; d++) {
      Document doc=new Document();
      doc.add(new Field("id",pad(d),Field.Store.YES,Field.Index.NOT_ANALYZED));
      int r=rand.nextInt();
      if (maxR < r) {
        maxR=r;
      }
      if (r < minR) {
        minR=r;
      }
      doc.add(new Field("rand",pad(r),Field.Store.YES,Field.Index.NOT_ANALYZED));
      doc.add(new Field("body","body",Field.Store.YES,Field.Index.NOT_ANALYZED));
      writer.addDocument(doc);
    }
    writer.optimize();
    writer.close();
  }
 catch (  Exception e) {
    throw new RuntimeException("can't build index",e);
  }
}
