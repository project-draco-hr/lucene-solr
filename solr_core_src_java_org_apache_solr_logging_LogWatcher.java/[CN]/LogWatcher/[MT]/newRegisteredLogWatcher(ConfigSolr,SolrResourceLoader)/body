{
  if (!config.getBool(ConfigSolr.CfgProp.SOLR_LOGGING_ENABLED,true))   return null;
  LogWatcher logWatcher=createWatcher(config,loader);
  if (logWatcher != null) {
    ListenerConfig v=new ListenerConfig();
    v.size=config.getInt(ConfigSolr.CfgProp.SOLR_LOGGING_WATCHER_SIZE,50);
    v.threshold=config.get(ConfigSolr.CfgProp.SOLR_LOGGING_WATCHER_THRESHOLD,null);
    if (v.size > 0) {
      log.info("Registering Log Listener [{}]",logWatcher.getName());
      logWatcher.registerListener(v);
    }
  }
  return logWatcher;
}
