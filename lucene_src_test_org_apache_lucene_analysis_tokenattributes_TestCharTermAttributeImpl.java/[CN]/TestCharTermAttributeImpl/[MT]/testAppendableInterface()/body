{
  CharTermAttributeImpl t=new CharTermAttributeImpl();
  Formatter formatter=new Formatter(t,Locale.US);
  formatter.format("%d",1234);
  assertEquals("1234",t.toString());
  formatter.format("%d",5678);
  assertEquals("12345678",t.toString());
  t.append('9');
  assertEquals("123456789",t.toString());
  t.append("0");
  assertEquals("1234567890",t.toString());
  t.append("0123456789",1,3);
  assertEquals("123456789012",t.toString());
  t.append(CharBuffer.wrap("0123456789".toCharArray()),3,5);
  assertEquals("12345678901234",t.toString());
  t.append(t);
  assertEquals("1234567890123412345678901234",t.toString());
  t.append(new StringBuilder("0123456789"),5,7);
  assertEquals("123456789012341234567890123456",t.toString());
  t.append(new StringBuffer(t));
  assertEquals("123456789012341234567890123456123456789012341234567890123456",t.toString());
  t.setEmpty().append(CharBuffer.wrap("0123456789".toCharArray(),3,5),1,2);
  assertEquals("4",t.toString());
}
