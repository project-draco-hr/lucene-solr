{
  IndexReader reader=null;
  final Query query=new TermQuery(new Term("body","1"));
  final SortField sf=new SortField("docdate",SortField.LONG);
  final Sort sort=new Sort(sf);
  try {
    while (!done) {
      final long t0=System.currentTimeMillis();
      if (reader == null) {
        reader=writer.getReader();
      }
 else {
        final IndexReader newReader=reader.reopen();
        if (reader != newReader) {
          reader.close();
          reader=newReader;
        }
      }
      final long t1=System.currentTimeMillis();
      final TopFieldDocs hits=new IndexSearcher(reader).search(query,null,10,sort);
      final long t2=System.currentTimeMillis();
      System.out.println("nrt: open " + (t1 - t0) + " msec; search "+ (t2 - t1)+ " msec, "+ hits.totalHits+ " results; "+ reader.numDocs()+ " docs");
      final long t4=System.currentTimeMillis();
      final int delay=(int)(pauseMsec - (t4 - t0));
      if (delay > 0) {
        try {
          Thread.sleep(delay);
        }
 catch (        InterruptedException ie) {
          throw new RuntimeException(ie);
        }
      }
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
