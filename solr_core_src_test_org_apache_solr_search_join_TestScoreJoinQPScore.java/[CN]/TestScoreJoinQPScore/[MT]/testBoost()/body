{
  indexDataForScorring();
  ScoreMode score=ScoreMode.values()[random().nextInt(ScoreMode.values().length)];
  final SolrQueryRequest req=req("q","{!join from=movieId_s to=id score=" + score + " b=200}title:movie","fl","id,score","omitHeader","true");
  SolrRequestInfo.setRequestInfo(new SolrRequestInfo(req,new SolrQueryResponse()));
  final Query luceneQ=QParser.getParser(req.getParams().get("q"),null,req).getQuery().rewrite(req.getSearcher().getLeafReader());
  assertTrue(luceneQ instanceof BoostQuery);
  float boost=((BoostQuery)luceneQ).getBoost();
  assertEquals("" + luceneQ,Float.floatToIntBits(200),Float.floatToIntBits(boost));
  SolrRequestInfo.clearRequestInfo();
  req.close();
}
