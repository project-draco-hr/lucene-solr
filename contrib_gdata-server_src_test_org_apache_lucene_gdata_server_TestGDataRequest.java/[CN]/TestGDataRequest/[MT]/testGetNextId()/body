{
  String host="www.apache.org";
  String feedAndEntryID="/feed/entryid";
  String queryString="?max-results=25";
  String startIndex="&start-index=26";
  Enumeration enu=new StringTokenizer("max-results",",");
  this.control.expectAndDefaultReturn(this.request.getParameterNames(),enu);
  this.control.expectAndDefaultReturn(this.request.getHeader("Host"),host);
  this.control.expectAndDefaultReturn(this.request.getRequestURI(),"/feed/");
  this.control.expectAndDefaultReturn(this.request.getPathInfo(),"/feed/");
  this.control.expectAndReturn(this.request.getParameter("max-results"),"25",4);
  this.control.expectAndReturn(this.request.getParameter("start-index"),null);
  this.control.expectAndDefaultReturn(this.request.getParameter("alt"),null);
  this.control.expectAndDefaultReturn(this.request.getQueryString(),queryString);
  this.control.replay();
  this.feedRequest.initializeRequest();
  String nextID="http://" + host + "/feed"+ queryString+ startIndex;
  assertEquals("Next ID",nextID,this.feedRequest.getNextId());
  this.control.verify();
  this.control.reset();
  enu=new StringTokenizer("alt,max-results,start-index",",");
  queryString="?alt=rss&max-results=25";
  this.control.expectAndDefaultReturn(this.request.getHeader("Host"),host);
  this.control.expectAndDefaultReturn(this.request.getRequestURI(),"/feed/");
  this.control.expectAndDefaultReturn(this.request.getPathInfo(),"/feed/");
  this.control.expectAndReturn(this.request.getParameter("max-results"),"25",4);
  this.control.expectAndReturn(this.request.getParameter("start-index"),"26",4);
  this.control.expectAndDefaultReturn(this.request.getParameter("alt"),"rss");
  this.control.expectAndDefaultReturn(this.request.getQueryString(),queryString + startIndex);
  this.control.expectAndDefaultReturn(this.request.getParameterNames(),enu);
  this.control.replay();
  this.feedRequest.initializeRequest();
  startIndex="&start-index=51";
  nextID="http://" + host + "/feed"+ queryString+ startIndex;
  assertEquals("Next ID 51",nextID,this.feedRequest.getNextId());
  this.control.reset();
  queryString="";
  this.control.expectAndDefaultReturn(this.request.getHeader("Host"),host);
  this.control.expectAndDefaultReturn(this.request.getRequestURI(),"/feed/");
  this.control.expectAndDefaultReturn(this.request.getPathInfo(),"/feed/entryId/15");
  this.control.expectAndDefaultReturn(this.request.getParameter("max-results"),null);
  this.control.expectAndDefaultReturn(this.request.getParameter("alt"),null);
  this.control.expectAndDefaultReturn(this.request.getQueryString(),null);
  this.control.replay();
  this.feedRequest.initializeRequest();
  String selfID="http://" + host + "/feed"+ "?max-results=25";
  assertEquals("Self ID",selfID,this.feedRequest.getSelfId());
  this.control.reset();
}
