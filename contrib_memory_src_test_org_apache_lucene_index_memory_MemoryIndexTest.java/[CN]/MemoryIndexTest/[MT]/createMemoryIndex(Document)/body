{
  MemoryIndex index=new MemoryIndex();
  Iterator<Fieldable> iter=doc.getFields().iterator();
  while (iter.hasNext()) {
    Fieldable field=iter.next();
    index.addField(field.name(),field.stringValue(),analyzer);
  }
  return index;
}
