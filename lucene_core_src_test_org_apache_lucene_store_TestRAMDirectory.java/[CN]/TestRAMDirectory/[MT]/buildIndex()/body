{
  Path path=createTempDir("buildIndex");
  Directory dir=newFSDirectory(path);
  IndexWriter writer=new IndexWriter(dir,new IndexWriterConfig(new MockAnalyzer(random())).setOpenMode(OpenMode.CREATE));
  Document doc=null;
  for (int i=0; i < docsToAdd; i++) {
    doc=new Document();
    doc.add(newStringField("content",English.intToEnglish(i).trim(),Field.Store.YES));
    writer.addDocument(doc);
  }
  assertEquals(docsToAdd,writer.maxDoc());
  writer.close();
  dir.close();
  return path;
}
