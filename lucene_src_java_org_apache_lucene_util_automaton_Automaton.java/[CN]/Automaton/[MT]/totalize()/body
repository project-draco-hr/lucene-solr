{
  State s=new State();
  s.addTransition(new Transition(Character.MIN_CODE_POINT,Character.MAX_CODE_POINT,s));
  for (  State p : getNumberedStates()) {
    int maxi=Character.MIN_CODE_POINT;
    p.sortTransitions(Transition.CompareByMinMaxThenDest);
    for (    Transition t : p.getTransitions()) {
      if (t.min > maxi)       p.addTransition(new Transition(maxi,(t.min - 1),s));
      if (t.max + 1 > maxi)       maxi=t.max + 1;
    }
    if (maxi <= Character.MAX_CODE_POINT)     p.addTransition(new Transition(maxi,Character.MAX_CODE_POINT,s));
  }
  clearNumberedStates();
}
