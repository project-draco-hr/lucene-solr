{
  BooleanQuery expected=new BooleanQuery();
  expected.add(new TermQuery(new Term("field","one")),BooleanClause.Occur.SHOULD);
  expected.add(new TermQuery(new Term("field","two")),BooleanClause.Occur.SHOULD);
  expected.add(new TermQuery(new Term("field","three")),BooleanClause.Occur.SHOULD);
  expected.add(new TermQuery(new Term("field","four")),BooleanClause.Occur.SHOULD);
  expected.setMinimumNumberShouldMatch(0);
  QueryBuilder builder=new QueryBuilder(new MockAnalyzer(random()));
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.1f));
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.24f));
  expected.setMinimumNumberShouldMatch(1);
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.25f));
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.49f));
  expected.setMinimumNumberShouldMatch(2);
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.5f));
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.74f));
  expected.setMinimumNumberShouldMatch(3);
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.75f));
  assertEquals(expected,builder.createMinShouldMatchQuery("field","one two three four",0.99f));
}
