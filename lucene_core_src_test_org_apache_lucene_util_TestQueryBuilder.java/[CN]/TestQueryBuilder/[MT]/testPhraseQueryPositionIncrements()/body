{
  PhraseQuery expected=new PhraseQuery();
  expected.add(new Term("field","1"));
  expected.add(new Term("field","2"),2);
  CharacterRunAutomaton stopList=new CharacterRunAutomaton(new RegExp("[sS][tT][oO][pP]").toAutomaton());
  Analyzer analyzer=new MockAnalyzer(random(),MockTokenizer.WHITESPACE,false,stopList);
  QueryBuilder builder=new QueryBuilder(analyzer);
  assertEquals(expected,builder.createPhraseQuery("field","1 stop 2"));
}
