{
  transientCacheSize=cfg.getInt(ConfigSolr.ConfLevel.SOLR_CORES,"transientCacheSize",Integer.MAX_VALUE);
  if (transientCacheSize != Integer.MAX_VALUE) {
    CoreContainer.log.info("Allocating transient cache for {} transient cores",transientCacheSize);
    transientCores=new LinkedHashMap<String,SolrCore>(transientCacheSize,0.75f,true){
      @Override protected boolean removeEldestEntry(      Map.Entry<String,SolrCore> eldest){
        if (size() > transientCacheSize) {
synchronized (locker) {
            SolrCore closeMe=eldest.getValue();
synchronized (locker) {
              pendingDynamicCloses.add(closeMe);
              locker.notifyAll();
            }
          }
          return true;
        }
        return false;
      }
    }
;
  }
}
