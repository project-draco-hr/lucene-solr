{
  transientCacheSize=cfg.getInt("solr/cores/@transientCacheSize",Integer.MAX_VALUE);
  if (transientCacheSize != Integer.MAX_VALUE) {
    transientCores=new LinkedHashMap<String,SolrCore>(transientCacheSize,0.75f,true){
      @Override protected boolean removeEldestEntry(      Map.Entry<String,SolrCore> eldest){
        if (size() > transientCacheSize) {
          eldest.getValue().close();
          return true;
        }
        return false;
      }
    }
;
  }
}
