{
  name=checkDefault(name);
  SolrCore core=coreMaps.getCoreFromAnyList(name);
  if (core != null) {
    core.open();
    return core;
  }
  CoreDescriptor desc=coreMaps.getDynamicDescriptor(name);
  if (desc == null) {
    Exception e=getCoreInitFailures().get(name);
    if (null != e) {
      throw new SolrException(ErrorCode.SERVER_ERROR,"SolrCore '" + name + "' is not available due to init failure: "+ e.getMessage(),e);
    }
    return null;
  }
  core=coreMaps.waitAddPendingCoreOps(name);
  if (isShutDown)   return null;
  try {
    if (core == null) {
      core=create(desc);
      core.open();
      registerCore(desc.isTransient(),name,core,false);
    }
 else {
      core.open();
    }
  }
 catch (  Exception ex) {
    throw recordAndThrow(name,"Unable to create core: " + name,ex);
  }
 finally {
    coreMaps.removeFromPendingOps(name);
  }
  return core;
}
