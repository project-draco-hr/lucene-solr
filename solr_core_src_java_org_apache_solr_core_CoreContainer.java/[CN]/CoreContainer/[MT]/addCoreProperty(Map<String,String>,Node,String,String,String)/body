{
  if (node == null) {
    coreAttribs.put(name,value);
    return;
  }
  if (node != null) {
    String rawAttribValue=DOMUtil.getAttr(node,name,null);
    if (value == null) {
      coreAttribs.put(name,rawAttribValue);
      return;
    }
    if (rawAttribValue == null && defaultValue != null && value.equals(defaultValue)) {
      return;
    }
    if (rawAttribValue != null && value.equals(DOMUtil.substituteProperty(rawAttribValue,loader.getCoreProperties()))) {
      coreAttribs.put(name,rawAttribValue);
    }
 else {
      coreAttribs.put(name,value);
    }
  }
}
