{
  Random random=random();
  Analyzer left=new MockAnalyzer(random(),jvmLetter,false);
  Analyzer right=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new LetterTokenizer(TEST_VERSION_CURRENT,reader);
      return new TokenStreamComponents(tokenizer,tokenizer);
    }
  }
;
  for (int i=0; i < 1000; i++) {
    String s=_TestUtil.randomUnicodeString(random);
    assertEquals(s,left.tokenStream("foo",newStringReader(s)),right.tokenStream("foo",newStringReader(s)));
  }
}
