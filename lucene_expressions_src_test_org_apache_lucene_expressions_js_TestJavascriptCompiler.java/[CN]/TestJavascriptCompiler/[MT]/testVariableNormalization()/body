{
  Expression x=JavascriptCompiler.compile("foo[\"a\"][\"b\"]");
  assertEquals("foo['a']['b']",x.variables[0]);
  x=JavascriptCompiler.compile("foo['a'][\"b\"]");
  assertEquals("foo['a']['b']",x.variables[0]);
  x=JavascriptCompiler.compile("foo['\\\\\\'\"']");
  assertEquals("foo['\\\\\\'\"']",x.variables[0]);
  x=JavascriptCompiler.compile("foo[\"'\"]");
  assertEquals("foo['\\'']",x.variables[0]);
  x=JavascriptCompiler.compile("foo[\"\\\"\"]");
  assertEquals("foo['\"']",x.variables[0]);
  x=JavascriptCompiler.compile("foo['\\\\'][\"\\\\\"]");
  assertEquals("foo['\\\\']['\\\\']",x.variables[0]);
}
