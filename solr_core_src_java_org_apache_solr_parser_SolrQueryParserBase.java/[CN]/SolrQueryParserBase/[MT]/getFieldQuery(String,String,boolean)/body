{
  checkNullField(field);
  if (field.charAt(0) == '_' && parser != null) {
    MagicFieldName magic=MagicFieldName.get(field);
    if (null != magic) {
      QParser nested=parser.subQuery(queryText,magic.subParser);
      return nested.getQuery();
    }
  }
  SchemaField sf=schema.getFieldOrNull(field);
  if (sf != null) {
    FieldType ft=sf.getType();
    if (ft.isTokenized()) {
      return newFieldQuery(analyzer,field,queryText,quoted || (ft instanceof TextField && ((TextField)ft).getAutoGeneratePhraseQueries()));
    }
 else {
      return sf.getType().getFieldQuery(parser,sf,queryText);
    }
  }
  return newFieldQuery(analyzer,field,queryText,quoted);
}
