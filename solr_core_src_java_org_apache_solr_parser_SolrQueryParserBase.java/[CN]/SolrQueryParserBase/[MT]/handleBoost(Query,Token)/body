{
  if (boost == null || boost.image.length() == 0 || q == null) {
    return q;
  }
  if (boost.image.charAt(0) == '=') {
    float val=Float.parseFloat(boost.image.substring(1));
    Query newQ=q;
    if (q instanceof ConstantScoreQuery || q instanceof SolrConstantScoreQuery) {
    }
 else {
      newQ=new ConstantScoreQuery(q);
    }
    return new BoostQuery(newQ,val);
  }
  float boostVal=Float.parseFloat(boost.image);
  return new BoostQuery(q,boostVal);
}
