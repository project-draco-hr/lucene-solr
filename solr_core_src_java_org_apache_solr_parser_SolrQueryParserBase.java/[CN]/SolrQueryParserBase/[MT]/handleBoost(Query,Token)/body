{
  if (boost == null || boost.image.length() == 0 || q == null) {
    return q;
  }
  if (boost.image.charAt(0) == '=') {
    float val=Float.parseFloat(boost.image.substring(1));
    Query newQ=q;
    if (q instanceof ConstantScoreQuery) {
      newQ.setBoost(val);
    }
 else {
      newQ=new ConstantScoreQuery(q);
      newQ.setBoost(val);
    }
    return newQ;
  }
  float boostVal=Float.parseFloat(boost.image);
  q.setBoost(q.getBoost() * boostVal);
  return q;
}
