{
  if (leadingWildcards == null)   leadingWildcards=new HashMap<FieldType,ReversedWildcardFilterFactory>();
  ReversedWildcardFilterFactory fac=leadingWildcards.get(fieldType);
  if (fac != null || leadingWildcards.containsKey(fac)) {
    return fac;
  }
  Analyzer a=fieldType.getAnalyzer();
  if (a instanceof TokenizerChain) {
    TokenizerChain tc=(TokenizerChain)a;
    TokenFilterFactory[] factories=tc.getTokenFilterFactories();
    for (    TokenFilterFactory factory : factories) {
      if (factory instanceof ReversedWildcardFilterFactory) {
        fac=(ReversedWildcardFilterFactory)factory;
        break;
      }
    }
  }
  leadingWildcards.put(fieldType,fac);
  return fac;
}
