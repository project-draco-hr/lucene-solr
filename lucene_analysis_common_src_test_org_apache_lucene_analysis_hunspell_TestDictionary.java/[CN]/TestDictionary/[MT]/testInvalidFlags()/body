{
  InputStream affixStream=getClass().getResourceAsStream("broken-flags.aff");
  InputStream dictStream=getClass().getResourceAsStream("simple.dic");
  Directory tempDir=getDirectory();
  try {
    new Dictionary(tempDir,"dictionary",affixStream,dictStream);
    fail("didn't get expected exception");
  }
 catch (  Exception expected) {
    assertTrue(expected.getMessage().startsWith("expected only one flag"));
  }
  affixStream.close();
  dictStream.close();
  tempDir.close();
}
