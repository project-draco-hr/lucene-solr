{
  try {
    analyzeInput();
  }
 catch (  AnalysisEngineProcessException|ResourceInitializationException e) {
    throw new IOException(e);
  }
  featurePath=cas.createFeaturePath();
  try {
    featurePath.initialize(typeAttributeFeaturePath);
  }
 catch (  CASException e) {
    featurePath=null;
    throw new IOException(e);
  }
  finalOffset=correctOffset(cas.getDocumentText().length());
  Type tokenType=cas.getTypeSystem().getType(tokenTypeString);
  iterator=cas.getAnnotationIndex(tokenType).iterator();
}
