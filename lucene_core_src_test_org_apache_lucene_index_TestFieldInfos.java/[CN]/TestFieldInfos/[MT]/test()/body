{
  String name="testFile";
  Directory dir=newDirectory();
  FieldInfos fieldInfos=createAndWriteFieldInfos(dir,name);
  FieldInfos readIn=readFieldInfos(dir,name);
  assertTrue(fieldInfos.size() == readIn.size());
  FieldInfo info=readIn.fieldInfo("textField1");
  assertTrue(info != null);
  assertTrue(info.hasVectors() == false);
  assertTrue(info.omitsNorms() == false);
  info=readIn.fieldInfo("textField2");
  assertTrue(info != null);
  assertTrue(info.omitsNorms() == false);
  info=readIn.fieldInfo("textField3");
  assertTrue(info != null);
  assertTrue(info.hasVectors() == false);
  assertTrue(info.omitsNorms() == true);
  info=readIn.fieldInfo("omitNorms");
  assertTrue(info != null);
  assertTrue(info.hasVectors() == false);
  assertTrue(info.omitsNorms() == true);
  dir.close();
}
