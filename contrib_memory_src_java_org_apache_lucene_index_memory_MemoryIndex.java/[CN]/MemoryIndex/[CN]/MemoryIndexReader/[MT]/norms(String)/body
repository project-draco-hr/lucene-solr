{
  byte[] norms=cachedNorms;
  Similarity sim=getSimilarity();
  if (fieldName != cachedFieldName || sim != cachedSimilarity) {
    Info info=getInfo(fieldName);
    int numTokens=info != null ? info.numTokens : 0;
    float n=sim.lengthNorm(fieldName,numTokens);
    byte norm=Similarity.encodeNorm(n);
    norms=new byte[]{norm};
    cachedNorms=norms;
    cachedFieldName=fieldName;
    cachedSimilarity=sim;
    if (DEBUG)     System.err.println("MemoryIndexReader.norms: " + fieldName + ":"+ n+ ":"+ norm+ ":"+ numTokens);
  }
  return norms;
}
