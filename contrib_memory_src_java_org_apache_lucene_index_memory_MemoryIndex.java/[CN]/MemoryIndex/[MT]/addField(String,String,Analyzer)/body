{
  if (fieldName == null)   throw new IllegalArgumentException("fieldName must not be null");
  if (text == null)   throw new IllegalArgumentException("text must not be null");
  if (analyzer == null)   throw new IllegalArgumentException("analyzer must not be null");
  TokenStream stream;
  if (analyzer instanceof PatternAnalyzer) {
    stream=((PatternAnalyzer)analyzer).tokenStream(fieldName,text);
  }
 else {
    stream=analyzer.tokenStream(fieldName,new PatternAnalyzer.FastStringReader(text));
  }
  addField(fieldName,stream);
}
