{
  super(config);
  try {
    checkForIllegalConfig();
    fillPropMap();
    config.substituteProperties();
    initCoreList();
    this.persistor=isPersistent() ? new SolrXMLCoresLocator(configFile,originalXML,this) : new SolrXMLCoresLocator.NonPersistingLocator(configFile,originalXML,this);
  }
 catch (  IOException e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,e);
  }
}
