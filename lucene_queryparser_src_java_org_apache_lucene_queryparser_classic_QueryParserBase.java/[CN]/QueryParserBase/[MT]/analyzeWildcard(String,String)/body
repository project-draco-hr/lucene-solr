{
  Matcher wildcardMatcher=WILDCARD_PATTERN.matcher(termStr);
  BytesRefBuilder sb=new BytesRefBuilder();
  int last=0;
  while (wildcardMatcher.find()) {
    if (wildcardMatcher.start() > 0) {
      String chunk=termStr.substring(last,wildcardMatcher.start());
      BytesRef normalized=getAnalyzer().normalize(field,chunk);
      sb.append(normalized);
    }
    sb.append(new BytesRef(wildcardMatcher.group()));
    last=wildcardMatcher.end();
  }
  if (last < termStr.length()) {
    String chunk=termStr.substring(last);
    BytesRef normalized=getAnalyzer().normalize(field,chunk);
    sb.append(normalized);
  }
  return sb.toBytesRef();
}
