{
  initCoreDataDir=createTempDir("init-core-data");
  System.err.println("Creating dataDir: " + initCoreDataDir.getAbsolutePath());
  System.setProperty("jetty.testMode","true");
  System.setProperty("enable.update.log",usually() ? "true" : "false");
  System.setProperty("tests.shardhandler.randomSeed",Long.toString(random().nextLong()));
  System.setProperty("solr.clustering.enabled","false");
  setupLogging();
  startTrackingSearchers();
  startTrackingZkClients();
  ignoreException("ignore_exception");
  newRandomConfig();
  sslConfig=buildSSLConfig();
  HttpClientUtil.setConfigurer(sslConfig.getHttpClientConfigurer());
  if (isSSLMode()) {
    System.setProperty("urlScheme","https");
  }
}
