{
  if (random().nextBoolean()) {
    return new CloudSolrClient(zkHost,shardLeadersOnly,httpClient);
  }
  if (shardLeadersOnly) {
    return new CloudSolrClient.Builder().withZkHost(zkHost).withHttpClient(httpClient).sendUpdatesOnlyToShardLeaders().build();
  }
  return new CloudSolrClient.Builder().withZkHost(zkHost).withHttpClient(httpClient).sendUpdatesToAllReplicasInShard().build();
}
