{
  long endNumOpens=SolrZkClient.numOpens.get();
  long endNumCloses=SolrZkClient.numCloses.get();
  SolrZkClient.numOpens.getAndSet(0);
  SolrZkClient.numCloses.getAndSet(0);
  if (endNumOpens - zkClientNumOpens != endNumCloses - zkClientNumCloses) {
    String msg="ERROR: SolrZkClient opens=" + (endNumOpens - zkClientNumOpens) + " closes="+ (endNumCloses - zkClientNumCloses);
    log.error(msg);
    testsFailed=true;
    fail(msg);
  }
}
