{
  if (personChanges != null) {
    for (    int id : personChanges.addedKeys) {
      assertQ(req("id:" + id),"//*[@numFound='1']");
    }
    for (    int id : personChanges.deletedKeys) {
      assertQ(req("id:" + id),"//*[@numFound='0']");
    }
    for (    int id : personChanges.changedKeys) {
      assertQ(req("id:" + id),"//*[@numFound='1']","substring(//doc/arr[@name='NAME_mult_s']/str[1], 1, 8)='MODIFIED'");
    }
  }
  if (countryChanges != null) {
    for (    String code : countryChanges) {
      assertQ(req("COUNTRY_CODE_s:" + code),"//*[@numFound='" + numberPeopleByCountryCode(code) + "']","substring(//doc/str[@name='COUNTRY_NAME_s'], 1, 8)='MODIFIED'");
    }
  }
}
