{
  if (nl == null && !alwaysDefine)   return null;
  if (nl == null)   return UpdateShardHandlerConfig.DEFAULT;
  boolean defined=false;
  int maxUpdateConnections=UpdateShardHandlerConfig.DEFAULT_MAXUPDATECONNECTIONS;
  int maxUpdateConnectionsPerHost=UpdateShardHandlerConfig.DEFAULT_MAXUPDATECONNECTIONSPERHOST;
  int distributedSocketTimeout=UpdateShardHandlerConfig.DEFAULT_DISTRIBUPDATESOTIMEOUT;
  int distributedConnectionTimeout=UpdateShardHandlerConfig.DEFAULT_DISTRIBUPDATECONNTIMEOUT;
  Object muc=nl.remove("maxUpdateConnections");
  if (muc != null) {
    maxUpdateConnections=parseInt("maxUpdateConnections",muc.toString());
    defined=true;
  }
  Object mucph=nl.remove("maxUpdateConnectionsPerHost");
  if (mucph != null) {
    maxUpdateConnectionsPerHost=parseInt("maxUpdateConnectionsPerHost",mucph.toString());
    defined=true;
  }
  Object dst=nl.remove("distribUpdateSoTimeout");
  if (dst != null) {
    distributedSocketTimeout=parseInt("distribUpdateSoTimeout",dst.toString());
    defined=true;
  }
  Object dct=nl.remove("distribUpdateConnTimeout");
  if (dct != null) {
    distributedConnectionTimeout=parseInt("distribUpdateConnTimeout",dct.toString());
    defined=true;
  }
  if (!defined && !alwaysDefine)   return null;
  return new UpdateShardHandlerConfig(maxUpdateConnections,maxUpdateConnectionsPerHost,distributedSocketTimeout,distributedConnectionTimeout);
}
