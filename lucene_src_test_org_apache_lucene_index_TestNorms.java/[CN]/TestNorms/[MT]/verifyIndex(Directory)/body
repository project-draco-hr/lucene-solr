{
  IndexReader ir=IndexReader.open(dir,false);
  for (int i=0; i < NUM_FIELDS; i++) {
    String field="f" + i;
    byte b[]=MultiNorms.norms(ir,field);
    assertEquals("number of norms mismatches",numDocNorms,b.length);
    ArrayList<Float> storedNorms=(i == 1 ? modifiedNorms : norms);
    for (int j=0; j < b.length; j++) {
      float norm=similarityProviderOne.get(field).decodeNormValue(b[j]);
      float norm1=storedNorms.get(j).floatValue();
      assertEquals("stored norm value of " + field + " for doc "+ j+ " is "+ norm+ " - a mismatch!",norm,norm1,0.000001);
    }
  }
  ir.close();
}
