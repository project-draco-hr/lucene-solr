{
  SolrClient client=createCloudClient(null);
  CollectionAdminResponse res;
  try {
    ModifiableSolrParams params=new ModifiableSolrParams();
    params.set("action",CollectionParams.CollectionAction.DELETE.toString());
    params.set("name",collectionName);
    QueryRequest request=new QueryRequest(params);
    request.setPath("/admin/collections");
    res=new CollectionAdminResponse();
    res.setResponse(client.request(request));
  }
 catch (  Exception e) {
    log.warn("Error while deleting the collection " + collectionName,e);
    return new CollectionAdminResponse();
  }
 finally {
    client.close();
  }
  return res;
}
