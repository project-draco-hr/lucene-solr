{
  CloudSolrClient client=createCloudClient(null);
  try {
    Map<String,List<Integer>> collectionInfos=new HashMap<>();
    int maxShardsPerNode=1;
    StringBuilder sb=new StringBuilder();
    for (    String nodeName : collectionToNodeNames.get(name)) {
      sb.append(nodeName);
      sb.append(',');
    }
    sb.deleteCharAt(sb.length() - 1);
    createCollection(collectionInfos,name,shardCount,replicationFactor,maxShardsPerNode,client,sb.toString());
  }
  finally {
    client.close();
  }
}
