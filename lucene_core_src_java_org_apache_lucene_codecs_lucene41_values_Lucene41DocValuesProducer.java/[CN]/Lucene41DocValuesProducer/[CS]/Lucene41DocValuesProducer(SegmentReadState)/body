{
  final String suffix;
  if (state.segmentSuffix.length() == 0) {
    suffix=Lucene41DocValuesConsumer.DV_SEGMENT_SUFFIX;
  }
 else {
    suffix=state.segmentSuffix + "_" + Lucene41DocValuesConsumer.DV_SEGMENT_SUFFIX;
  }
  String cfsFileName=IndexFileNames.segmentFileName(state.segmentInfo.name,suffix,IndexFileNames.COMPOUND_FILE_EXTENSION);
  this.cfs=new CompoundFileDirectory(state.directory,cfsFileName,state.context,false);
  this.info=state.segmentInfo;
  this.context=state.context;
}
