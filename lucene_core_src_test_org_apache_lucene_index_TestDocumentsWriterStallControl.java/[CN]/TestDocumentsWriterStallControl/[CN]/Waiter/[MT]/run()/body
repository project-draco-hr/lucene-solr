{
  try {
    while (!stop.get()) {
      ctrl.waitIfStalled();
      if (checkPoint.get()) {
        CountDownLatch join=latches[2];
        CountDownLatch wait=latches[1];
        join.countDown();
        try {
          assertTrue(wait.await(10,TimeUnit.SECONDS));
        }
 catch (        InterruptedException e) {
          System.out.println("[Waiter] got interrupted - wait count: " + wait.getCount());
          throw new ThreadInterruptedException(e);
        }
      }
    }
  }
 catch (  Throwable e) {
    e.printStackTrace();
    exceptions.add(e);
  }
}
