{
  if (doc > subDv.docID()) {
    subDv.advance(doc);
  }
  if (doc == subDv.docID()) {
    int segOrd=subDv.ordValue();
    int ord=toGlobal == null ? segOrd : (int)toGlobal.get(segOrd);
    FixedBitSet bits=arr[slotNum];
    if (bits == null) {
      bits=new FixedBitSet(nTerms);
      arr[slotNum]=bits;
    }
    bits.set(ord);
  }
}
