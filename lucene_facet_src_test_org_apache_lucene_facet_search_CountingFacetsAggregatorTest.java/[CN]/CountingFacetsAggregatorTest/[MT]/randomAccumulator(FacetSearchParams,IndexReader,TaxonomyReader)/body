{
  final FacetsAggregator aggregator;
  double val=random().nextDouble();
  if (val < 0.6) {
    aggregator=new FastCountingFacetsAggregator();
  }
 else   if (val < 0.8) {
    aggregator=new CountingFacetsAggregator();
  }
 else {
    aggregator=new CachedOrdsCountingFacetsAggregator();
  }
  return new FacetsAccumulator(fsp,indexReader,taxoReader){
    @Override public FacetsAggregator getAggregator(){
      return aggregator;
    }
  }
;
}
