{
  if (o == this)   return true;
  if (!(o instanceof QueryResultKey))   return false;
  QueryResultKey other=(QueryResultKey)o;
  if (this.hc != other.hc)   return false;
  if (this.sfields.length != other.sfields.length)   return false;
  if (!this.query.equals(other.query))   return false;
  if (!isEqual(this.filters,other.filters))   return false;
  for (int i=0; i < sfields.length; i++) {
    SortField sf1=this.sfields[i];
    SortField sf2=other.sfields[i];
    if (sf1.getType() != sf2.getType())     return false;
    if (sf1.getReverse() != sf2.getReverse())     return false;
    if (!isEqual(sf1.getField(),sf2.getField()))     return false;
    if (!isEqual(sf1.getLocale(),sf2.getLocale()))     return false;
    if (!isEqual(sf1.getFactory(),sf2.getFactory()))     return false;
  }
  return true;
}
