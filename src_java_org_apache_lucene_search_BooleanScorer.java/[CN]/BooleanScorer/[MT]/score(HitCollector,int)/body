{
  if (coordFactors == null)   computeCoordFactors();
  boolean more;
  do {
    while (bucketTable.first != null) {
      current=bucketTable.first;
      if (current.doc >= max)       return true;
      if ((current.bits & prohibitedMask) == 0 && (current.bits & requiredMask) == requiredMask) {
        hc.collect(current.doc,current.score * coordFactors[current.coord]);
      }
      bucketTable.first=current.next;
    }
    more=false;
    end+=BucketTable.SIZE;
    for (SubScorer sub=scorers; sub != null; sub=sub.next) {
      if (!sub.done) {
        sub.done=!sub.scorer.score(sub.collector,end);
        if (!sub.done)         more=true;
      }
    }
  }
 while (bucketTable.first != null || more);
  return false;
}
