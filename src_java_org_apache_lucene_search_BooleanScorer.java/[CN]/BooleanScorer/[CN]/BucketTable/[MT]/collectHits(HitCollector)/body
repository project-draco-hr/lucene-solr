{
  final int required=scorer.requiredMask;
  final int prohibited=scorer.prohibitedMask;
  final float[] coord=scorer.coordFactors;
  for (Bucket bucket=first; bucket != null; bucket=bucket.next) {
    if ((bucket.bits & prohibited) == 0 && (bucket.bits & required) == required) {
      results.collect(bucket.doc,bucket.score * coord[bucket.coord]);
    }
  }
  first=null;
}
