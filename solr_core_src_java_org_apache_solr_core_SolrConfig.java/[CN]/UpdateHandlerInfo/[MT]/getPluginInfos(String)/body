{
  List<PluginInfo> result=pluginStore.get(type);
  SolrPluginInfo info=classVsSolrPluginInfo.get(type);
  if (info != null && (info.options.contains(REQUIRE_NAME) || info.options.contains(REQUIRE_NAME_IN_OVERLAY))) {
    Map<String,Map> infos=overlay.getNamedPlugins(info.getCleanTag());
    if (!infos.isEmpty()) {
      LinkedHashMap<String,PluginInfo> map=new LinkedHashMap<>();
      if (result != null)       for (      PluginInfo pluginInfo : result) {
        String name=pluginInfo.name == null ? UUID.randomUUID().toString().toLowerCase(Locale.ROOT) : pluginInfo.name;
        map.put(name,pluginInfo);
      }
      for (      Map.Entry<String,Map> e : infos.entrySet()) {
        map.put(e.getKey(),new PluginInfo(info.getCleanTag(),e.getValue()));
      }
      result=new ArrayList<>(map.values());
    }
  }
  return result == null ? Collections.<PluginInfo>emptyList() : result;
}
