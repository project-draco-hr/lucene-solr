{
  if (healthcheck == null) {
    throw new SolrException(SolrException.ErrorCode.SERVICE_UNAVAILABLE,"No healthcheck file defined.");
  }
  if (enable) {
    try {
      FileUtils.write(healthcheck,DateField.formatExternal(new Date()),"UTF-8");
    }
 catch (    IOException e) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unable to write healthcheck flag file",e);
    }
  }
 else {
    if (healthcheck.exists() && !healthcheck.delete()) {
      throw new SolrException(SolrException.ErrorCode.NOT_FOUND,"Did not successfully delete healthcheck file: " + healthcheck.getAbsolutePath());
    }
  }
}
