{
  try {
    long resolution=20 * TimerThread.DEFAULT_RESOLUTION;
    counterThread.setResolution(resolution);
    assertEquals(resolution,counterThread.getResolution());
    doTestTimeout(false,true);
    resolution=5;
    counterThread.setResolution(resolution);
    assertEquals(resolution,counterThread.getResolution());
    doTestTimeout(false,true);
    resolution=TimerThread.DEFAULT_RESOLUTION;
    counterThread.setResolution(resolution);
    assertEquals(resolution,counterThread.getResolution());
    doTestTimeout(false,true);
  }
  finally {
    counterThread.setResolution(TimerThread.DEFAULT_RESOLUTION);
  }
}
