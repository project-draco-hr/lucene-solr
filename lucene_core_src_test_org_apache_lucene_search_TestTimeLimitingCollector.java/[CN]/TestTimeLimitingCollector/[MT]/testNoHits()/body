{
  MyHitCollector myHc=new MyHitCollector();
  Collector collector=createTimedCollector(myHc,-1,random().nextBoolean());
  TimeExceededException timoutException=null;
  try {
    BooleanQuery.Builder booleanQuery=new BooleanQuery.Builder();
    booleanQuery.add(new TermQuery(new Term(FIELD_NAME,"one")),BooleanClause.Occur.MUST);
    booleanQuery.add(new TermQuery(new Term(FIELD_NAME,"blueberry")),BooleanClause.Occur.MUST);
    searcher.search(booleanQuery.build(),collector);
  }
 catch (  TimeExceededException x) {
    timoutException=x;
  }
  assertNotNull("Timeout expected!",timoutException);
  assertEquals(-1,myHc.getLastDocCollected());
}
