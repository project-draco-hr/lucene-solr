{
  PayloadTermQuery query=new PayloadTermQuery(new Term("field","seventy"),new MaxPayloadFunction());
  TopDocs hits=searcher.search(query,100);
  assertTrue("hits is null and it shouldn't be",hits != null);
  assertTrue("hits Size: " + hits.totalHits + " is not: "+ 100,hits.totalHits == 100);
  assertTrue(hits.getMaxScore() + " does not equal: " + 1,hits.getMaxScore() == 1);
  for (int i=0; i < hits.scoreDocs.length; i++) {
    ScoreDoc doc=hits.scoreDocs[i];
    assertTrue(doc.score + " does not equal: " + 1,doc.score == 1);
  }
  CheckHits.checkExplanations(query,PayloadHelper.FIELD,searcher,true);
  Spans spans=MultiSpansWrapper.wrap(searcher.getIndexReader(),query);
  assertTrue("spans is null and it shouldn't be",spans != null);
}
