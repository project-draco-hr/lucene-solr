{
  String[] s=new String[solr.length];
  for (int i=0; i < solr.length; i++) {
    s[i]=solr[i].getUrl();
  }
  CloseableHttpClient myHttpClient=HttpClientUtil.createClient(null);
  try {
    LBHttpSolrClient client=getLBHttpSolrClient(myHttpClient,s);
    client.setConnectionTimeout(250);
    client.setSoTimeout(250);
    client.setAliveCheckInterval(500);
    solr[1].jetty.stop();
    solr[1].jetty=null;
    for (    String value : s)     client.query(new SolrQuery("*:*"));
    solr[1].startJetty();
    waitForServer(30,client,3,"solr1");
  }
  finally {
    HttpClientUtil.close(myHttpClient);
  }
}
