{
  Reader reader=new StringReader("?????????? ?????????? ??????????????");
  StandardTokenizerFactory factory=new StandardTokenizerFactory();
  factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  ArabicNormalizationFilterFactory normFactory=new ArabicNormalizationFilterFactory();
  normFactory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  ArabicStemFilterFactory stemFactory=new ArabicStemFilterFactory();
  Map<String,String> args=Collections.emptyMap();
  factory.init(args);
  normFactory.init(args);
  Tokenizer tokenizer=factory.create(reader);
  TokenStream stream=normFactory.create(tokenizer);
  stream=stemFactory.create(stream);
  assertTokenStreamContents(stream,new String[]{"??????","????????","??????????????"});
}
