{
  try {
    SolrRequestInfo info=threadLocal.get();
    if (info != null && info.closeHooks != null) {
      for (      Closeable hook : info.closeHooks) {
        try {
          hook.close();
        }
 catch (        Exception e) {
          SolrException.log(log,"Exception during close hook",e);
        }
      }
    }
  }
  finally {
    threadLocal.remove();
  }
}
