{
  Result r=JUnitCore.runClasses(Nested1.class);
  RandomizedTest.assumeTrue("Ignoring nested test, very likely zombie threads present.",r.getIgnoreCount() == 0);
  for (  Failure f : r.getFailures()) {
    System.out.println("Failure: " + f);
  }
  Assert.assertEquals(1,r.getFailureCount());
  Assert.assertTrue(r.getFailures().get(0).toString().contains("Resource in scope SUITE failed to close"));
}
