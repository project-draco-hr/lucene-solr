{
  if (field == null)   return null;
  Terms terms=context.reader().terms(field);
  if (terms != null && terms.hasPositions() == false) {
    throw new IllegalStateException("field \"" + field + "\" was indexed without position data; cannot run SpanQuery (query="+ parentQuery+ ")");
  }
  Spans spans=getSpans(context,Postings.PAYLOADS);
  Similarity.SimScorer simScorer=simWeight == null ? null : similarity.simScorer(simWeight,context);
  return (spans == null) ? null : new SpanScorer(spans,this,simScorer);
}
