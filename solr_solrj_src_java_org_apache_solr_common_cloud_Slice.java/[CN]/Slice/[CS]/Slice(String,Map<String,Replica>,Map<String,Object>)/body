{
  super(props == null ? new LinkedHashMap<String,Object>(2) : new LinkedHashMap<String,Object>(props));
  this.name=name;
  Object rangeObj=propMap.get(RANGE);
  DocRouter.Range tmpRange=null;
  if (rangeObj instanceof DocRouter.Range) {
    tmpRange=(DocRouter.Range)rangeObj;
  }
 else   if (rangeObj != null) {
    DocRouter hp=new DocRouter();
    tmpRange=hp.fromString(rangeObj.toString());
  }
  range=tmpRange;
  replicationFactor=null;
  this.replicas=replicas != null ? replicas : makeReplicas((Map<String,Object>)propMap.get(REPLICAS));
  propMap.put(REPLICAS,this.replicas);
  leader=findLeader();
}
