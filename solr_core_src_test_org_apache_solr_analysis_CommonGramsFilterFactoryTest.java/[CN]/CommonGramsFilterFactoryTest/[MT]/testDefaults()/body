{
  ResourceLoader loader=new SolrResourceLoader(null,null);
  assertTrue("loader is null and it shouldn't be",loader != null);
  CommonGramsFilterFactory factory=new CommonGramsFilterFactory();
  factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  Map<String,String> args=Collections.emptyMap();
  factory.init(args);
  factory.inform(loader);
  CharArraySet words=factory.getCommonWords();
  assertTrue("words is null and it shouldn't be",words != null);
  assertTrue(words.contains("the"));
  Tokenizer tokenizer=new MockTokenizer(new StringReader("testing the factory"),MockTokenizer.WHITESPACE,false);
  TokenStream stream=factory.create(tokenizer);
  assertTokenStreamContents(stream,new String[]{"testing","testing_the","the","the_factory","factory"});
}
