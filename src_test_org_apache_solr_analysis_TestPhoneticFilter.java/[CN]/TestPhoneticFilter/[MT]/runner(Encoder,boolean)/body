{
  String[] input=new String[]{"aaa","bbb","ccc","easgasg"};
  ArrayList<Token> stream=new ArrayList<Token>();
  ArrayList<Token> output=new ArrayList<Token>();
  for (  String s : input) {
    stream.add(new Token(s,0,s.length()));
    if (inject) {
      output.add(new Token(s,0,s.length()));
    }
    output.add(new Token(enc.encode(s).toString(),0,s.length()));
  }
  PhoneticFilter filter=new PhoneticFilter(new IterTokenStream(stream.iterator()),enc,"text",inject);
  for (  Token t : output) {
    Token got=filter.next(t);
    assertEquals(new String(t.termBuffer(),0,t.termLength()),new String(got.termBuffer(),0,got.termLength()));
  }
  assertNull(filter.next());
}
