{
  String[] input=new String[]{"aaa","bbb","ccc","easgasg"};
  ArrayList<Token> stream=new ArrayList<Token>();
  ArrayList<Token> output=new ArrayList<Token>();
  for (  String s : input) {
    stream.add(new Token(s,0,s.length()));
    output.add(new Token(enc.encode(s).toString(),0,s.length()));
    if (inject) {
      output.add(new Token(s,0,s.length()));
    }
  }
  PhoneticFilter filter=new PhoneticFilter(new IterTokenStream(stream.iterator()),enc,"text",inject);
  Token got=new Token();
  for (  Token t : output) {
    got=filter.next(got);
    assertEquals(t.term(),got.term());
  }
  assertNull(filter.next());
}
