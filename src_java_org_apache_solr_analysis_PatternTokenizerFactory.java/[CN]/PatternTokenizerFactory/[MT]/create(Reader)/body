{
  try {
    String str=IOUtils.toString(input);
    Matcher matcher=pattern.matcher(str);
    List<Token> tokens=(group < 0) ? split(matcher,str) : group(matcher,str,group);
    final Iterator<Token> iter=tokens.iterator();
    return new TokenStream(){
      @Override public Token next() throws IOException {
        if (iter.hasNext()) {
          return iter.next();
        }
        return null;
      }
    }
;
  }
 catch (  IOException ex) {
    throw new SolrException(500,ex);
  }
}
