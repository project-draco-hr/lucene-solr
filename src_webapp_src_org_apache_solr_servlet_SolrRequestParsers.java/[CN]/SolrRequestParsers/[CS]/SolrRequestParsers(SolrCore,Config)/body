{
  this.core=core;
  long uploadLimitKB=2000;
  NodeList nodes=(NodeList)config.evaluate("requestParsers",XPathConstants.NODESET);
  if (nodes != null && nodes.getLength() > 0) {
    NamedNodeMap attrs=nodes.item(0).getAttributes();
    Node node=attrs.getNamedItem("enableRemoteStreaming");
    if (node != null) {
      enableRemoteStreams=Boolean.parseBoolean(node.getTextContent());
    }
    node=attrs.getNamedItem("multipartUploadLimitInKB");
    if (node != null) {
      uploadLimitKB=Long.parseLong(node.getTextContent());
    }
  }
  MultipartRequestParser multi=new MultipartRequestParser(uploadLimitKB);
  RawRequestParser raw=new RawRequestParser();
  standard=new StandardRequestParser(multi,raw);
  parsers=new HashMap<String,SolrRequestParser>();
  parsers.put(MULTIPART,multi);
  parsers.put(RAW,raw);
  parsers.put(SIMPLE,new SimpleRequestParser());
  parsers.put(STANDARD,standard);
  parsers.put("",standard);
}
