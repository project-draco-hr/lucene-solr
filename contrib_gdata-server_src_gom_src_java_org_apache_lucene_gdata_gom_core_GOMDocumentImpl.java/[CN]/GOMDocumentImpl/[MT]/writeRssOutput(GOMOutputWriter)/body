{
  try {
    aStreamWriter.writeStartDocument(this.charEncoding == null ? DEFAULT_ENCODING : this.charEncoding,this.version == null ? DEFAULT_VERSION : this.version);
    if (this.root != null) {
      this.root.writeRssOutput(aStreamWriter);
    }
    aStreamWriter.writeEndDocument();
    aStreamWriter.flush();
  }
  finally {
    aStreamWriter.close();
  }
}
