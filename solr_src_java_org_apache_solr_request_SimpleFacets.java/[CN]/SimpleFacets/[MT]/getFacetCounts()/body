{
  if (!params.getBool(FacetParams.FACET,true))   return null;
  NamedList res=new SimpleOrderedMap();
  try {
    res.add("facet_queries",getFacetQueryCounts());
    res.add("facet_fields",getFacetFieldCounts());
    res.add("facet_dates",getFacetDateCounts());
  }
 catch (  Exception e) {
    SolrException.logOnce(SolrCore.log,"Exception during facet counts",e);
    res.add("exception",SolrException.toStr(e));
  }
  return res;
}
