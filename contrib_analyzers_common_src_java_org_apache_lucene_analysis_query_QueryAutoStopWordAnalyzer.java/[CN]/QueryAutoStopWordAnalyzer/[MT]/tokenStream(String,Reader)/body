{
  TokenStream result;
  try {
    result=delegate.reusableTokenStream(fieldName,reader);
  }
 catch (  IOException e) {
    result=delegate.tokenStream(fieldName,reader);
  }
  HashSet stopWords=(HashSet)stopWordsPerField.get(fieldName);
  if (stopWords != null) {
    result=new StopFilter(StopFilter.getEnablePositionIncrementsVersionDefault(matchVersion),result,stopWords);
  }
  return result;
}
