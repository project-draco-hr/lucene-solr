{
  Tokenizer ts=new Tokenizer(reader){
    final char[] cbuf=new char[maxChars];
    final TermAttribute termAtt=(TermAttribute)addAttribute(TermAttribute.class);
    final OffsetAttribute offsetAtt=(OffsetAttribute)addAttribute(OffsetAttribute.class);
    @Override public boolean incrementToken() throws IOException {
      clearAttributes();
      int n=input.read(cbuf,0,maxChars);
      if (n <= 0)       return false;
      String s=toInternal(new String(cbuf,0,n));
      termAtt.setTermBuffer(s);
      offsetAtt.setOffset(0,n);
      return true;
    }
  }
;
  return new TokenStreamInfo(ts,ts);
}
