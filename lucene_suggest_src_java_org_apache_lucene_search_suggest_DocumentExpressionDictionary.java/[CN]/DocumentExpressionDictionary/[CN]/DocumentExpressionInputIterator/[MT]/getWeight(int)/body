{
  int subIndex=ReaderUtil.subIndex(docId,starts);
  if (subIndex != currentLeafIndex) {
    currentLeafIndex=subIndex;
    try {
      currentWeightValues=weightsValueSource.getValues(new HashMap<String,Object>(),leaves.get(currentLeafIndex));
    }
 catch (    IOException e) {
      throw new RuntimeException();
    }
  }
  return currentWeightValues.longVal(docId - starts[subIndex]);
}
