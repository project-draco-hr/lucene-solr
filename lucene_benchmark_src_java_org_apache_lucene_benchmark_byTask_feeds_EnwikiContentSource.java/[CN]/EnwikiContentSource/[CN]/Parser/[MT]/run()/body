{
  try {
    XMLReader reader=XMLReaderFactory.createXMLReader();
    reader.setContentHandler(this);
    reader.setErrorHandler(this);
    while (!stopped) {
      final InputStream localFileIS=is;
      if (localFileIS != null) {
        try {
          reader.parse(new InputSource(IOUtils.getDecodingReader(localFileIS,StandardCharsets.UTF_8)));
        }
 catch (        IOException ioe) {
synchronized (EnwikiContentSource.this) {
            if (localFileIS != is) {
            }
 else             throw ioe;
          }
        }
      }
synchronized (this) {
        if (stopped || !forever) {
          nmde=new NoMoreDataException();
          notify();
          return;
        }
 else         if (localFileIS == is) {
          is=openInputStream();
        }
      }
    }
  }
 catch (  SAXException|IOException sae) {
    throw new RuntimeException(sae);
  }
 finally {
synchronized (this) {
      threadDone=true;
      notify();
    }
  }
}
