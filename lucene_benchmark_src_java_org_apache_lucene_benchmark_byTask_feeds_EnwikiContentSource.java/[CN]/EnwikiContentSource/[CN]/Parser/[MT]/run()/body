{
  try {
    XMLReader reader=XMLReaderFactory.createXMLReader();
    reader.setContentHandler(this);
    reader.setErrorHandler(this);
    while (true) {
      final InputStream localFileIS=is;
      try {
        CharsetDecoder decoder=IOUtils.CHARSET_UTF_8.newDecoder().onMalformedInput(CodingErrorAction.REPORT).onUnmappableCharacter(CodingErrorAction.REPORT);
        reader.parse(new InputSource(new BufferedReader(new InputStreamReader(localFileIS,decoder))));
      }
 catch (      IOException ioe) {
synchronized (EnwikiContentSource.this) {
          if (localFileIS != is) {
          }
 else           throw ioe;
        }
      }
synchronized (this) {
        if (!forever) {
          nmde=new NoMoreDataException();
          notify();
          return;
        }
 else         if (localFileIS == is) {
          is=StreamUtils.inputStream(file);
        }
      }
    }
  }
 catch (  SAXException sae) {
    throw new RuntimeException(sae);
  }
catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
 finally {
synchronized (this) {
      threadDone=true;
      notify();
    }
  }
}
