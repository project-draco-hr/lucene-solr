{
  Map<String,Object> m=Utils.makeMap("key1","val1","key2","val2");
  byte[] b1=getBytes(m);
  byte[] b2=getBytes(m);
  Map m1=(Map)getObject(b1);
  Map m2=(Map)getObject(b1);
  List l1=new ArrayList<>(m1.keySet());
  List l2=new ArrayList<>(m2.keySet());
  assertTrue(l1.get(0).equals(l2.get(0)));
  assertFalse(l1.get(0) == l2.get(0));
  assertTrue(l1.get(1).equals(l2.get(1)));
  assertFalse(l1.get(1) == l2.get(1));
  JavaBinCodec.StringCache stringCache=new JavaBinCodec.StringCache(new MapBackedCache<>(new HashMap<>()));
  m1=(Map)new JavaBinCodec(null,stringCache).unmarshal(new ByteArrayInputStream(b1));
  m2=(Map)new JavaBinCodec(null,stringCache).unmarshal(new ByteArrayInputStream(b2));
  l1=new ArrayList<>(m1.keySet());
  l2=new ArrayList<>(m2.keySet());
  assertTrue(l1.get(0).equals(l2.get(0)));
  assertTrue(l1.get(0) == l2.get(0));
  assertTrue(l1.get(1).equals(l2.get(1)));
  assertTrue(l1.get(1) == l2.get(1));
}
