{
  for (int i=0; i < vals.length; i++) {
    if (fields[i] == null)     continue;
    String val=vals[i];
    adders[i].add(doc,line,i,val);
  }
  for (  SchemaField sf : literals.keySet()) {
    String fn=sf.getName();
    String val=literals.get(sf);
    doc.addField(fn,val);
  }
  if (rowId != null) {
    doc.addField(rowId,line + rowIdOffset);
  }
  template.solrDoc=doc;
  processor.processAdd(template);
}
