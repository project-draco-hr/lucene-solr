{
  DocIdSet innerDocuments=childFilter.getDocIdSet(context,null);
  if (isEmpty(innerDocuments)) {
    this.childDocuments=null;
  }
 else   if (innerDocuments.bits() instanceof FixedBitSet) {
    this.childDocuments=(FixedBitSet)innerDocuments.bits();
  }
 else {
    DocIdSetIterator iterator=innerDocuments.iterator();
    if (iterator != null) {
      this.childDocuments=toFixedBitSet(iterator,context.reader().maxDoc());
    }
 else {
      childDocuments=null;
    }
  }
  DocIdSet rootDocuments=parentFilter.getDocIdSet(context,null);
  if (isEmpty(rootDocuments)) {
    this.parentDocuments=null;
  }
 else   if (rootDocuments.bits() instanceof FixedBitSet) {
    this.parentDocuments=(FixedBitSet)rootDocuments.bits();
  }
 else {
    DocIdSetIterator iterator=rootDocuments.iterator();
    if (iterator != null) {
      this.parentDocuments=toFixedBitSet(iterator,context.reader().maxDoc());
    }
 else {
      this.parentDocuments=null;
    }
  }
  wrappedComparator=wrappedComparator.setNextReader(context);
  return this;
}
