{
  Thread[] threads=new Thread[TestUtil.nextInt(random(),4,10)];
  final AtomicBoolean failed=new AtomicBoolean();
  final int iters=atLeast(1000);
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(){
      @Override public void run(){
        try {
          for (int iter=0; iter < iters && failed.get() == false; iter++) {
            checkSort(new OfflineSorter(),generateRandom(1024));
          }
        }
 catch (        Throwable th) {
          failed.set(true);
          throw new RuntimeException(th);
        }
      }
    }
;
    threads[i].start();
  }
  for (  Thread thread : threads) {
    thread.join();
  }
  assertFalse(failed.get());
}
