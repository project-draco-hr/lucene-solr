{
  this.perFieldSeed=random.nextInt();
  int minItemsPerBlock=_TestUtil.nextInt(random,2,100);
  int maxItemsPerBlock=2 * (Math.max(2,minItemsPerBlock - 1)) + random.nextInt(100);
  formats.add(new Lucene40PostingsFormat(minItemsPerBlock,maxItemsPerBlock));
  minItemsPerBlock=_TestUtil.nextInt(random,2,100);
  maxItemsPerBlock=2 * (Math.max(1,minItemsPerBlock - 1)) + random.nextInt(100);
  formats.add(new Pulsing40PostingsFormat(1 + random.nextInt(20),minItemsPerBlock,maxItemsPerBlock));
  formats.add(new MockSepPostingsFormat());
  formats.add(new MockFixedIntBlockPostingsFormat(_TestUtil.nextInt(random,1,2000)));
  formats.add(new MockVariableIntBlockPostingsFormat(_TestUtil.nextInt(random,1,127)));
  formats.add(new MockRandomPostingsFormat(random));
  formats.add(new NestedPulsingPostingsFormat());
  formats.add(new Lucene40WithOrds());
  if (!useNoMemoryExpensiveCodec) {
    formats.add(new SimpleTextPostingsFormat());
    formats.add(new MemoryPostingsFormat());
  }
  Collections.shuffle(formats,random);
}
