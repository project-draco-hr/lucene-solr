{
  StringBuilder sb=new StringBuilder();
  int pos=0;
  for (  Passage passage : passages) {
    if (passage.startOffset > pos && pos > 0) {
      sb.append("... ");
    }
    pos=passage.startOffset;
    for (int i=0; i < passage.numMatches; i++) {
      int start=passage.matchStarts[i];
      int end=passage.matchEnds[i];
      if (start > pos) {
        sb.append(content.substring(pos,start));
      }
      if (end > pos) {
        sb.append("<b>");
        sb.append(content.substring(Math.max(pos,start),end));
        sb.append("</b>");
        pos=end;
      }
    }
    sb.append(content.substring(pos,Math.max(pos,passage.endOffset)));
    pos=passage.endOffset;
  }
  return sb.toString();
}
