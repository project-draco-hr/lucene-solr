{
  List<Map<String,String>> fields=new ArrayList<Map<String,String>>();
  Map<String,String> entity=new HashMap<String,String>();
  entity.put("transformer",T1.class.getName() + "," + T2.class.getName()+ ","+ T3.class.getName());
  fields.add(getField("A",null,null,null,null));
  fields.add(getField("B",null,null,null,null));
  Context context=getContext(null,null,new MockDataSource(),Context.FULL_DUMP,fields,entity);
  Map<String,Object> src=new HashMap<String,Object>();
  src.put("A","NA");
  src.put("B","NA");
  EntityProcessorWrapper sep=new EntityProcessorWrapper(new SqlEntityProcessor(),null);
  sep.init(context);
  Map<String,Object> res=sep.applyTransformer(src);
  assertNotNull(res.get("T1"));
  assertNotNull(res.get("T2"));
  assertNotNull(res.get("T3"));
}
