{
  dfsCluster=HdfsTestUtil.setupClass(new File(TEMP_DIR,HdfsBasicDistributedZk2Test.class.getName() + "_" + System.currentTimeMillis()).getAbsolutePath());
  hdfsUri=dfsCluster.getFileSystem().getUri().toString();
  try {
    URI uri=new URI(hdfsUri);
    fs=FileSystem.newInstance(uri,new Configuration());
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
catch (  URISyntaxException e) {
    throw new RuntimeException(e);
  }
  hdfsDataDir=hdfsUri + "/solr/shard1";
  System.setProperty("solr.data.dir",hdfsUri + "/solr/shard1");
  System.setProperty("solr.ulog.dir",hdfsUri + "/solr/shard1");
  initCore("solrconfig-tlog.xml","schema15.xml");
}
