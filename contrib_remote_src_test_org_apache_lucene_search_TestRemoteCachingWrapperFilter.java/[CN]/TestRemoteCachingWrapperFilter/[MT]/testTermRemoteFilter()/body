{
  CachingWrapperFilterHelper cwfh=new CachingWrapperFilterHelper(new QueryWrapperFilter(new TermQuery(new Term("type","a"))));
  cwfh.setShouldHaveCache(false);
  search(new TermQuery(new Term("test","test")),cwfh,0,"A");
  cwfh.setShouldHaveCache(false);
  search(new TermQuery(new Term("test","test")),cwfh,0,"A");
  RemoteCachingWrapperFilterHelper rcwfh=new RemoteCachingWrapperFilterHelper(cwfh,false);
  search(new TermQuery(new Term("test","test")),rcwfh,0,"A");
  rcwfh.shouldHaveCache(true);
  search(new TermQuery(new Term("test","test")),rcwfh,0,"A");
  rcwfh=new RemoteCachingWrapperFilterHelper(new QueryWrapperFilter(new TermQuery(new Term("type","a"))),false);
  rcwfh.shouldHaveCache(false);
  search(new TermQuery(new Term("test","test")),rcwfh,0,"A");
  rcwfh=new RemoteCachingWrapperFilterHelper(new QueryWrapperFilter(new TermQuery(new Term("type","a"))),false);
  rcwfh.shouldHaveCache(true);
  search(new TermQuery(new Term("test","test")),rcwfh,0,"A");
  rcwfh=new RemoteCachingWrapperFilterHelper(new QueryWrapperFilter(new TermQuery(new Term("type","b"))),false);
  rcwfh.shouldHaveCache(false);
  search(new TermQuery(new Term("type","b")),rcwfh,0,"B");
}
