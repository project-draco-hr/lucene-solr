{
  final short value=valueObj.shortValue();
  short docValue=currentReaderValues[doc];
  if (docsWithField != null && docValue == 0 && !docsWithField.get(doc)) {
    docValue=missingValue;
  }
  return docValue - value;
}
