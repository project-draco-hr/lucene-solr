{
switch (j % 4) {
case 0:
    writer2.addIndexes(dirs);
  break;
case 1:
writer2.addIndexesNoOptimize(dirs);
break;
case 2:
writer2.addIndexes(readers);
break;
case 3:
writer2.commit();
}
}
