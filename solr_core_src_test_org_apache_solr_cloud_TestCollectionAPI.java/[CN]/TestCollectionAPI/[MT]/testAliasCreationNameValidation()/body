{
  try (CloudSolrClient client=createCloudClient(null)){
    ModifiableSolrParams params=new ModifiableSolrParams();
    params.set("action",CollectionParams.CollectionAction.CREATEALIAS.toString());
    params.set("name","invalid@name#with$weird%characters");
    params.set("collections",COLLECTION_NAME);
    SolrRequest request=new QueryRequest(params);
    request.setPath("/admin/collections");
    try {
      client.request(request);
      fail();
    }
 catch (    RemoteSolrException e) {
      final String errorMessage=e.getMessage();
      assertTrue(errorMessage.contains("Invalid name"));
      assertTrue(errorMessage.contains("invalid@name#with$weird%characters"));
      assertTrue(errorMessage.contains("Identifiers must consist entirely of"));
    }
  }
 }
