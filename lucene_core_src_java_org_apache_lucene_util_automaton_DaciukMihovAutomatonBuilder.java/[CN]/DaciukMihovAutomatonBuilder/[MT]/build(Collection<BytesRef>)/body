{
  final DaciukMihovAutomatonBuilder builder=new DaciukMihovAutomatonBuilder();
  CharsRef scratch=new CharsRef();
  for (  BytesRef b : input) {
    UnicodeUtil.UTF8toUTF16(b,scratch);
    builder.add(scratch);
  }
  Automaton.Builder a=new Automaton.Builder();
  convert(a,builder.complete(),new IdentityHashMap<State,Integer>());
  return a.finish();
}
