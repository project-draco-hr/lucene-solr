{
  maybeYield();
  if (!delegate.fileExists(name))   throw new FileNotFoundException(name);
  if (openFilesForWrite.contains(name) && !name.startsWith("segments")) {
    throw fillOpenTrace(new IOException("MockDirectoryWrapper: file \"" + name + "\" is still open for writing"),name,false);
  }
  IndexInput ii=new MockIndexInputWrapper(this,name,delegate.openInput(name,LuceneTestCase.newIOContext(randomState)));
  addFileHandle(ii,name,Handle.Input);
  return ii;
}
