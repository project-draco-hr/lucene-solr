{
  Document doc=new Document();
  for (  StorableField field : fields) {
    Field newField=new Field(field.name(),(FieldType)field.fieldType());
    newField.fieldsData=field.stringValue();
    if (newField.fieldsData == null)     newField.fieldsData=field.numericValue();
    if (newField.fieldsData == null)     newField.fieldsData=field.binaryValue();
    if (newField.fieldsData == null)     newField.fieldsData=field.readerValue();
    doc.add(newField);
  }
  return doc;
}
