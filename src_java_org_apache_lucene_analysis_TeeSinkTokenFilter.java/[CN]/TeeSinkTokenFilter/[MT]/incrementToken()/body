{
  if (input.incrementToken()) {
    AttributeSource.State state=null;
    for (Iterator it=sinks.iterator(); it.hasNext(); ) {
      final SinkTokenStream sink=(SinkTokenStream)((WeakReference)it.next()).get();
      if (sink != null) {
        if (sink.accept(this)) {
          if (state == null) {
            state=this.captureState();
          }
          sink.addState(state);
        }
      }
    }
    return true;
  }
  return false;
}
