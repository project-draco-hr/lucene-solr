{
  if (!create) {
    reader=IndexReader.open(FSDirectory.open(index),false);
    Terms terms=MultiFields.getTerms(reader,"uid");
    if (terms != null) {
      uidIter=terms.iterator();
      indexDocs(file);
      if (deleting) {
        BytesRef text;
        while ((text=uidIter.next()) != null) {
          String termText=text.utf8ToString();
          System.out.println("deleting " + HTMLDocument.uid2url(termText));
          reader.deleteDocuments(new Term("uid",termText));
        }
        deleting=false;
      }
    }
    reader.close();
  }
 else   indexDocs(file);
}
