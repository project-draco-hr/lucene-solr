{
  if (!create) {
    reader=IndexReader.open(FSDirectory.open(index),false);
    uidIter=reader.terms(new Term("uid",""));
    indexDocs(file);
    if (deleting) {
      while (uidIter.term() != null && uidIter.term().field() == "uid") {
        System.out.println("deleting " + HTMLDocument.uid2url(uidIter.term().text()));
        reader.deleteDocuments(uidIter.term());
        uidIter.next();
      }
      deleting=false;
    }
    uidIter.close();
    reader.close();
  }
 else   indexDocs(file);
}
