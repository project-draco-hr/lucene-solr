{
  SolrInputDocument sid=null;
  RefCounted<SolrIndexSearcher> searcherHolder=null;
  try {
    SolrIndexSearcher searcher=null;
    sid=getInputDocumentFromTlog(core,idBytes);
    if (sid == DELETED) {
      return null;
    }
    if (sid == null) {
      if (searcher == null) {
        searcherHolder=core.getRealtimeSearcher();
        searcher=searcherHolder.get();
      }
      SchemaField idField=core.getLatestSchema().getUniqueKeyField();
      int docid=searcher.getFirstMatch(new Term(idField.getName(),idBytes));
      if (docid < 0)       return null;
      StoredDocument luceneDocument=searcher.doc(docid);
      sid=toSolrInputDocument(luceneDocument,core.getLatestSchema());
      searcher.decorateDocValueFields(sid,docid,searcher.getNonStoredDVs(false));
    }
  }
  finally {
    if (searcherHolder != null) {
      searcherHolder.decref();
    }
  }
  return sid;
}
