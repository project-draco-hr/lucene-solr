{
  cancelDelegationToken("BOGUS",ErrorCode.NOT_FOUND.code,solrClientPrimary);
{
    String token=getDelegationToken(null,"bar",solrClientPrimary);
    assertNotNull(token);
    cancelDelegationToken(token,HttpStatus.SC_OK,solrClientPrimary);
    cancelDelegationToken(token,ErrorCode.NOT_FOUND.code,solrClientSecondary);
    cancelDelegationToken(token,ErrorCode.NOT_FOUND.code,solrClientPrimary);
  }
{
    String token=getDelegationToken(null,"bar",solrClientPrimary);
    assertNotNull(token);
    cancelDelegationToken(token,HttpStatus.SC_OK,solrClientSecondary);
    cancelDelegationToken(token,ErrorCode.NOT_FOUND.code,solrClientSecondary);
    cancelDelegationToken(token,ErrorCode.NOT_FOUND.code,solrClientPrimary);
  }
}
