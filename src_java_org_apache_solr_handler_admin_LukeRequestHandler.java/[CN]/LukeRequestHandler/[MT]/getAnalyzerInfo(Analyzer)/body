{
  SimpleOrderedMap<Object> aninfo=new SimpleOrderedMap<Object>();
  aninfo.add("className",analyzer.getClass().getName());
  if (analyzer instanceof TokenizerChain) {
    SimpleOrderedMap<Object> tokenizer=new SimpleOrderedMap<Object>();
    TokenizerChain tchain=(TokenizerChain)analyzer;
    TokenizerFactory tfac=tchain.getTokenizerFactory();
    tokenizer.add("className",tfac.getClass().getName());
    tokenizer.add("args",tfac.getArgs());
    aninfo.add("tokenizer",tokenizer);
    TokenFilterFactory[] filtfacs=tchain.getTokenFilterFactories();
    SimpleOrderedMap<Map<String,Object>> filters=new SimpleOrderedMap<Map<String,Object>>();
    for (    TokenFilterFactory filtfac : filtfacs) {
      Map<String,Object> tok=new HashMap<String,Object>();
      String className=filtfac.getClass().getName();
      tok.put("className",className);
      tok.put("args",filtfac.getArgs());
      filters.add(className.substring(className.lastIndexOf('.') + 1),tok);
    }
    if (filters.size() > 0) {
      aninfo.add("filters",filters);
    }
  }
  return aninfo;
}
