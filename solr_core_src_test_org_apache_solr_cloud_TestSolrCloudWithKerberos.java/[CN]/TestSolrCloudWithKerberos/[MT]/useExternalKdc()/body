{
  String jaas="Client {\n" + "  com.sun.security.auth.module.Krb5LoginModule required\n" + "  useKeyTab=true\n"+ "  keyTab=\"/tmp/127.keytab\"\n"+ "  storeKey=true\n"+ "  useTicketCache=false\n"+ "  debug=true\n"+ "  principal=\"HTTP/127.0.0.1\";\n"+ "};\n"+ "\n"+ "Server {\n"+ "  com.sun.security.auth.module.Krb5LoginModule optional\n"+ "  useKeyTab=true\n"+ "  keyTab=\"/tmp/127.keytab\"\n"+ "  storeKey=true\n"+ "  useTicketCache=false\n"+ "  debug=true\n"+ "  principal=\"zookeeper/127.0.0.1\";\n"+ "};";
  String tmpDir=createTempDir().toString();
  FileUtils.write(new File(tmpDir + File.separator + "jaas.conf"),jaas);
  System.setProperty("java.security.auth.login.config",tmpDir + File.separator + "jaas.conf");
  System.setProperty("solr.kerberos.jaas.appname","Client");
  System.setProperty("solr.kerberos.cookie.domain","127.0.0.1");
  System.setProperty("solr.kerberos.principal","HTTP/127.0.0.1@EXAMPLE.COM");
  System.setProperty("solr.kerberos.keytab","/tmp/127.keytab");
  System.setProperty("authenticationPlugin","org.apache.solr.security.KerberosPlugin");
}
