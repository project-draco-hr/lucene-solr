{
  long ramBytesUsed=BASE_RAM_BYTES_USED;
  ramBytesUsed+=fields.size() * 2L * RamUsageEstimator.NUM_BYTES_OBJECT_REF;
  ramBytesUsed+=formats.size() * 2L * RamUsageEstimator.NUM_BYTES_OBJECT_REF;
  for (  Map.Entry<String,FieldsProducer> entry : formats.entrySet()) {
    ramBytesUsed+=entry.getValue().ramBytesUsed();
  }
  return ramBytesUsed;
}
