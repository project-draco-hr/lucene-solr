{
  if (packedIntsVersion < VERSION_BYTE_ALIGNED) {
    return 8L * (long)Math.ceil((double)valueCount * bitsPerValue / 64);
  }
 else {
    return (long)Math.ceil((double)valueCount * bitsPerValue / 8);
  }
}
