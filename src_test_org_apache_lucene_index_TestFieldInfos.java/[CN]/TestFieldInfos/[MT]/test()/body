{
  assertTrue(testDoc != null);
  FieldInfos fieldInfos=new FieldInfos();
  fieldInfos.add(testDoc);
  assertTrue(fieldInfos.size() == 7);
  RAMDirectory dir=new RAMDirectory();
  String name="testFile";
  OutputStream output=dir.createFile(name);
  assertTrue(output != null);
  try {
    fieldInfos.write(output);
    output.close();
    assertTrue(output.length() > 0);
    FieldInfos readIn=new FieldInfos(dir,name);
    assertTrue(fieldInfos.size() == readIn.size());
    FieldInfo info=readIn.fieldInfo("textField1");
    assertTrue(info != null);
    assertTrue(info.storeTermVector == false);
    info=readIn.fieldInfo("textField2");
    assertTrue(info != null);
    assertTrue(info.storeTermVector == true);
    dir.close();
  }
 catch (  IOException e) {
    assertTrue(false);
  }
}
