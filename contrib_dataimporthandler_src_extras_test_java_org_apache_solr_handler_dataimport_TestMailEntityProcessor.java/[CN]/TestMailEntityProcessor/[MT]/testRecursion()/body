{
  paramMap.put("folders","top2");
  paramMap.put("recurse","true");
  paramMap.put("processAttachement","false");
  DataImporter di=new DataImporter();
  di.loadDataConfig(getConfigFromMap(paramMap));
  DataConfig.Entity ent=di.getConfig().document.entities.get(0);
  ent.isDocRoot=true;
  DataImporter.RequestParams rp=new DataImporter.RequestParams();
  rp.command="full-import";
  SolrWriterImpl swi=new SolrWriterImpl();
  di.runCmd(rp,swi);
  Assert.assertEquals("top2 and its children did not return 8 messages",swi.docs.size(),8);
}
