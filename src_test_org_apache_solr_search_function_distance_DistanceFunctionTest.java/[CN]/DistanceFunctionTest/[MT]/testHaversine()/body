{
  assertU(adoc("id","1","x_td","0","y_td","0"));
  assertU(adoc("id","2","x_td","0","y_td",String.valueOf(Math.PI / 2)));
  assertU(adoc("id","3","x_td",String.valueOf(Math.PI / 2),"y_td",String.valueOf(Math.PI / 2)));
  assertU(adoc("id","4","x_td",String.valueOf(Math.PI / 4),"y_td",String.valueOf(Math.PI / 4)));
  assertU(commit());
  assertQ(req("fl","*,score","q","{!func}hsin(x_td, y_td, 0, 0, 1)","fq","id:1"),"//float[@name='score']='0.0'");
  assertQ(req("fl","*,score","q","{!func}hsin(x_td, y_td, 0, 0, 1)","fq","id:2"),"//float[@name='score']='" + (float)(Math.PI / 2) + "'");
  assertQ(req("fl","*,score","q","{!func}hsin(x_td, y_td, 0, 0, 1)","fq","id:3"),"//float[@name='score']='" + (float)(Math.PI / 2) + "'");
  assertQ(req("fl","*,score","q","{!func}hsin(x_td, y_td, 0, 0, 1)","fq","id:4"),"//float[@name='score']='1.0471976'");
}
