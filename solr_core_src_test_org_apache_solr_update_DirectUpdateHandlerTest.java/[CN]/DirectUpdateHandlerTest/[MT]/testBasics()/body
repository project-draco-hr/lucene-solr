{
  assertNull("This test requires a schema that has no version field, " + "it appears the schema file in use has been edited to violate " + "this requirement",h.getCore().getSchema().getFieldOrNull(VersionInfo.VERSION_FIELD));
  assertU(adoc("id","5"));
  assertU(adoc("id","6"));
  assertQ(req("q","id:5"),"//*[@numFound='0']");
  assertQ(req("q","id:6"),"//*[@numFound='0']");
  assertU(commit());
  assertQ(req("q","id:5"),"//*[@numFound='1']");
  assertQ(req("q","id:6"),"//*[@numFound='1']");
  assertU(delI("5"));
  assertQ(req("q","id:5"),"//*[@numFound='1']");
  assertU(commit());
  assertQ(req("q","id:5"),"//*[@numFound='0']");
  assertQ(req("q","id:6"),"//*[@numFound='1']");
  assertU(delQ("*:*"));
  assertQ(req("q","id:6"),"//*[@numFound='1']");
  assertU(commit());
  assertQ(req("q","id:6"),"//*[@numFound='0']");
}
