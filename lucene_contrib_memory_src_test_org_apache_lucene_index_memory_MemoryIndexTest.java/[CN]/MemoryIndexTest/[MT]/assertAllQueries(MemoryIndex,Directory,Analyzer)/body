{
  IndexReader reader=IndexReader.open(ramdir);
  IndexSearcher ram=new IndexSearcher(reader);
  IndexSearcher mem=memory.createSearcher();
  QueryParser qp=new QueryParser(TEST_VERSION_CURRENT,"foo",analyzer);
  for (  String query : queries) {
    TopDocs ramDocs=ram.search(qp.parse(query),1);
    TopDocs memDocs=mem.search(qp.parse(query),1);
    assertEquals(ramDocs.totalHits,memDocs.totalHits);
  }
  ram.close();
  reader.close();
  mem.close();
}
