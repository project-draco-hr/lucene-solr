{
  int newCapacity=this.capacity * 2;
  Entry[] newEntries=new Entry[newCapacity];
  Entry[] src=this.entries;
  for (int j=0; j < src.length; j++) {
    Entry e=src[j];
    if (e != null) {
      src[j]=null;
      do {
        Entry next=e.next;
        int hash=e.hash;
        int i=indexFor(hash,newCapacity);
        e.next=newEntries[i];
        newEntries[i]=e;
        e=next;
      }
 while (e != null);
    }
  }
  this.capacity=newCapacity;
  this.entries=newEntries;
  this.threshold=(int)(this.capacity * this.loadFactor);
}
