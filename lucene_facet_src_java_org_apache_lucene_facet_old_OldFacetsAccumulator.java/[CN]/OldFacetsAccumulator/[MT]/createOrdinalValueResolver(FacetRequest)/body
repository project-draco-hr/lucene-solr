{
  if (fr instanceof CountFacetRequest) {
    return new IntValueResolver(facetArrays);
  }
 else   if (fr instanceof SumScoreFacetRequest) {
    return new FloatValueResolver(facetArrays);
  }
 else   if (fr instanceof OverSampledFacetRequest) {
    return createOrdinalValueResolver(((OverSampledFacetRequest)fr).orig);
  }
 else {
    throw new IllegalArgumentException("unrecognized FacetRequest " + fr.getClass());
  }
}
