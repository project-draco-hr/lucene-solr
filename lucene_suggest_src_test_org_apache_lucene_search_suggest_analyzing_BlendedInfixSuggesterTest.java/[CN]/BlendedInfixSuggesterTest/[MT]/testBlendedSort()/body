{
  BytesRef payload=new BytesRef("star");
  Input keys[]=new Input[]{new Input("star wars: episode v - the empire strikes back",8,payload)};
  File tempDir=_TestUtil.getTempDir("BlendedInfixSuggesterTest");
  Analyzer a=new StandardAnalyzer(TEST_VERSION_CURRENT,CharArraySet.EMPTY_SET);
  BlendedInfixSuggester suggester=new BlendedInfixSuggester(TEST_VERSION_CURRENT,tempDir,a,a,AnalyzingInfixSuggester.DEFAULT_MIN_PREFIX_CHARS,BlendedInfixSuggester.BlenderType.POSITION_LINEAR,BlendedInfixSuggester.DEFAULT_NUM_FACTOR){
    @Override protected Directory getDirectory(    File path){
      return newFSDirectory(path);
    }
  }
;
  suggester.build(new InputArrayIterator(keys));
  long w0=getInResults(suggester,"star ",payload,1);
  long w1=getInResults(suggester,"war",payload,1);
  long w2=getInResults(suggester,"empire ba",payload,1);
  long w3=getInResults(suggester,"back",payload,1);
  long w4=getInResults(suggester,"bacc",payload,1);
  assertTrue(w0 > w1);
  assertTrue(w1 > w2);
  assertTrue(w2 > w3);
  assertTrue(w4 < 0);
  suggester.close();
}
