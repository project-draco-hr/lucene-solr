{
  if (connTimeout == null && readTimeout == null && client != null)   return client;
  MultiThreadedHttpConnectionManager mgr=new MultiThreadedHttpConnectionManager();
  mgr.getParams().setDefaultMaxConnectionsPerHost(10000);
  mgr.getParams().setMaxTotalConnections(10000);
  mgr.getParams().setSoTimeout(readTimeout == null ? 20000 : Integer.parseInt(readTimeout));
  mgr.getParams().setConnectionTimeout(connTimeout == null ? 5000 : Integer.parseInt(connTimeout));
  HttpClient httpClient=new HttpClient(mgr);
  if (client == null && connTimeout == null && readTimeout == null)   client=httpClient;
  return httpClient;
}
