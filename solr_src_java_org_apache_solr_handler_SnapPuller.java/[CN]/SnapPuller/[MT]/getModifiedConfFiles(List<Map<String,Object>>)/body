{
  if (confFilesToDownload == null || confFilesToDownload.isEmpty())   return EMPTY_LIST_OF_MAPS;
  Map<String,Map<String,Object>> nameVsFile=new HashMap<String,Map<String,Object>>();
  NamedList<String> names=new NamedList<String>();
  for (  Map<String,Object> map : confFilesToDownload) {
    String name=(String)(map.get(ALIAS) == null ? map.get(NAME) : map.get(ALIAS));
    nameVsFile.put(name,map);
    names.add(name,null);
  }
  List<Map<String,Object>> localFilesInfo=replicationHandler.getConfFileInfoFromCache(names,confFileInfoCache);
  for (  Map<String,Object> fileInfo : localFilesInfo) {
    String name=(String)fileInfo.get(NAME);
    Map<String,Object> m=nameVsFile.get(name);
    if (m == null)     continue;
    if (m.get(CHECKSUM).equals(fileInfo.get(CHECKSUM))) {
      nameVsFile.remove(name);
    }
  }
  return nameVsFile.isEmpty() ? EMPTY_LIST_OF_MAPS : nameVsFile.values();
}
