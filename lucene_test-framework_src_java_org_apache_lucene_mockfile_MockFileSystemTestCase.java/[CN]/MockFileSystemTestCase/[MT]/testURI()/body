{
  Path dir=wrap(createTempDir());
  Path f1=dir.resolve("file1");
  URI uri=f1.toUri();
  Path f2=dir.getFileSystem().provider().getPath(uri);
  assertEquals(f1,f2);
  assumeTrue(Charset.defaultCharset().name() + " can't encode chinese",Charset.defaultCharset().newEncoder().canEncode("??????"));
  Path f3=dir.resolve("??????");
  URI uri2=f3.toUri();
  Path f4=dir.getFileSystem().provider().getPath(uri2);
  assertEquals(f3,f4);
  dir.getFileSystem().close();
}
