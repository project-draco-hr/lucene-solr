{
  int count=0;
  final int[] docs=bulkResult.docs.ints;
  final int[] freqs=bulkResult.freqs.ints;
  while (count < docs.length) {
    final int doc=nextDoc();
    if (doc != NO_MORE_DOCS) {
      docs[count]=doc;
      freqs[count]=freq();
      count++;
    }
 else {
      break;
    }
  }
  return count;
}
