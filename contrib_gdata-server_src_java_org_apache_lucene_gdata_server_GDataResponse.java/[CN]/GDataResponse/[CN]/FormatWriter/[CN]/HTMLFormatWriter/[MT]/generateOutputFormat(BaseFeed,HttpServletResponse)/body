{
  Templates template=this.service.getTransformTemplate();
  response.setContentType(CONTENT_TYPE);
  if (template == null) {
    sendNotAvailable(response);
    return;
  }
  StringWriter writer=new StringWriter();
  XmlWriter xmlWriter=new XmlWriter(writer);
  feed.generateAtom(xmlWriter,this.service.getExtensionProfile());
  try {
    writeHtml(template,response.getWriter(),writer);
  }
 catch (  TransformerException e) {
    LOG.error("Can not transform feed for service " + this.service.getName(),e);
    sendNotAvailable(response);
  }
}
