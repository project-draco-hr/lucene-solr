{
  RAMDirectory indexStore=new RAMDirectory();
  IndexWriter writer=new IndexWriter(indexStore,new StandardAnalyzer(),true);
  Document doc1=new Document();
  Document doc2=new Document();
  doc1.add(Field.Text("text","metal"));
  doc2.add(Field.Text("text","metals"));
  writer.addDocument(doc1);
  writer.addDocument(doc2);
  writer.optimize();
  SortedField.addField("text",indexStore);
  SearchBean sb=new SearchBean(indexStore);
  HitsIterator hi=sb.search("metal");
  assertEquals(1,hi.getTotalHits());
  assertEquals(1,hi.getPageCount());
  assertEquals("metal",hi.next().get("text"));
  writer.close();
}
