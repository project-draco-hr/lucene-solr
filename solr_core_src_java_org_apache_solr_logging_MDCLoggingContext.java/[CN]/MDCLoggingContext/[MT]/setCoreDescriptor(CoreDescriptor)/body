{
  if (cd != null) {
    int callDepth=CALL_DEPTH.get();
    CALL_DEPTH.set(callDepth + 1);
    if (callDepth > 0) {
      return;
    }
    setCoreName(cd.getName());
    CoreContainer cc=cd.getCoreContainer();
    if (cc != null) {
      ZkController zkController=cc.getZkController();
      if (zkController != null) {
        setNodeName(zkController.getNodeName());
      }
    }
    CloudDescriptor ccd=cd.getCloudDescriptor();
    if (ccd != null) {
      setCollection(ccd.getCollectionName());
      setShard(ccd.getShardId());
      setReplica(ccd.getCoreNodeName());
    }
  }
}
