{
  if (maxLon < minLon) {
    BooleanQuery.Builder q=new BooleanQuery.Builder();
    q.setDisableCoord(true);
    DimensionalPointInRectQuery left=new DimensionalPointInRectQuery(field,minLat,maxLat,GeoUtils.MIN_LON_INCL,maxLon);
    q.add(new BooleanClause(left,BooleanClause.Occur.SHOULD));
    DimensionalPointInRectQuery right=new DimensionalPointInRectQuery(field,minLat,maxLat,minLon,GeoUtils.MAX_LON_INCL);
    q.add(new BooleanClause(right,BooleanClause.Occur.SHOULD));
    return new ConstantScoreQuery(q.build());
  }
 else {
    return super.rewrite(reader);
  }
}
