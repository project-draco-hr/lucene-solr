{
  if (syncLevel == UpdateLog.SyncLevel.NONE)   return;
  try {
synchronized (this) {
      fos.flushBuffer();
    }
    if (syncLevel == UpdateLog.SyncLevel.FSYNC) {
      raf.getFD().sync();
    }
  }
 catch (  IOException e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,e);
  }
}
