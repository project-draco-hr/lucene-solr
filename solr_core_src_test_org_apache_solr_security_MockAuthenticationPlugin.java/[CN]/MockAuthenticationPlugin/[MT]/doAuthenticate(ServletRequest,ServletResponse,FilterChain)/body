{
  String user=null;
  if (predicate != null) {
    if (predicate.test(request)) {
      user=(String)request.getAttribute(Principal.class.getName());
      request.removeAttribute(Principal.class.getName());
    }
  }
  final FilterChain ffc=filterChain;
  final AtomicBoolean requestContinues=new AtomicBoolean(false);
  forward(user,request,response,new FilterChain(){
    @Override public void doFilter(    ServletRequest req,    ServletResponse res) throws IOException, ServletException {
      ffc.doFilter(req,res);
      requestContinues.set(true);
    }
  }
);
  return requestContinues.get();
}
