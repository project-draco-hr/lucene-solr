{
  int optBits=1;
  int optSize=estimateCompressedSize(data,size,1);
  for (int i=2; i <= 32; ++i) {
    int curSize=estimateCompressedSize(data,size,i);
    if (curSize < optSize) {
      optSize=curSize;
      optBits=i;
    }
  }
  return optBits;
}
