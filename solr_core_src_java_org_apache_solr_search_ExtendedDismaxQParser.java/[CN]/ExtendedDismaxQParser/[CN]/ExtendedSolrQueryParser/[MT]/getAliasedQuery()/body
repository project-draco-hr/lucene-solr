{
  Alias a=aliases.get(field);
  this.validateCyclicAliasing(field);
  if (a != null) {
    List<Query> lst=getQueries(a);
    if (lst == null || lst.size() == 0)     return getQuery();
    if (makeDismax) {
      DisjunctionMaxQuery q=new DisjunctionMaxQuery(lst,a.tie);
      return q;
    }
 else {
      BooleanQuery.Builder q=new BooleanQuery.Builder();
      q.setDisableCoord(disableCoord);
      for (      Query sub : lst) {
        q.add(sub,BooleanClause.Occur.SHOULD);
      }
      return q.build();
    }
  }
 else {
    if (exceptions) {
      FieldType ft=schema.getFieldTypeNoEx(field);
      if (ft == null && null == MagicFieldName.get(field)) {
        throw unknownField;
      }
    }
    return getQuery();
  }
}
