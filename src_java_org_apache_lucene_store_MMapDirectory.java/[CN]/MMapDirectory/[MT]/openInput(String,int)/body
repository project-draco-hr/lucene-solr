{
  ensureOpen();
  File f=new File(getDirectory(),name);
  RandomAccessFile raf=new RandomAccessFile(f,"r");
  try {
    return (raf.length() <= (long)maxBBuf) ? (IndexInput)new MMapIndexInput(raf) : (IndexInput)new MultiMMapIndexInput(raf,maxBBuf);
  }
  finally {
    raf.close();
  }
}
