{
  String prefix;
  long gen;
  if (normGen == null) {
    gen=CHECK_DIR;
  }
 else {
    gen=normGen[number];
  }
  if (hasSeparateNorms(number)) {
    prefix=".s";
    return IndexFileNames.fileNameFromGeneration(name,prefix + number,gen);
  }
  if (hasSingleNormFile) {
    prefix="." + IndexFileNames.NORMS_EXTENSION;
    return IndexFileNames.fileNameFromGeneration(name,prefix,WITHOUT_GEN);
  }
  prefix=".f";
  return IndexFileNames.fileNameFromGeneration(name,prefix + number,WITHOUT_GEN);
}
