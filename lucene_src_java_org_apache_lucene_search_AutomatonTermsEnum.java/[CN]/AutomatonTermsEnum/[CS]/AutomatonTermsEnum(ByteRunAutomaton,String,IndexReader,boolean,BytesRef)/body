{
  super(reader,field);
  this.automaton=runAutomaton.getAutomaton();
  this.finite=finite;
  this.runAutomaton=runAutomaton;
  if (finite) {
    this.commonSuffixRef=null;
  }
 else   if (commonSuffixRef == null) {
    this.commonSuffixRef=SpecialOperations.getCommonSuffixBytesRef(automaton);
  }
 else {
    this.commonSuffixRef=commonSuffixRef;
  }
  allTransitions=this.automaton.getSortedTransitions();
  visited=new long[runAutomaton.getSize()];
  termComp=getComparator();
}
