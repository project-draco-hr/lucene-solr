{
  List<List<SolrDoc>> docLists=new ArrayList<List<SolrDoc>>();
  if (this.documents == null) {
    return docLists;
  }
  boolean lastOverwrite=true;
  int lastCommitWithin=-1;
  List<SolrDoc> docList=null;
  for (  SolrDoc doc : this.documents) {
    if (doc.overwrite != lastOverwrite || doc.commitWithin != lastCommitWithin || docLists.size() == 0) {
      docList=new ArrayList<SolrDoc>();
      docLists.add(docList);
    }
    docList.add(doc);
    lastCommitWithin=doc.commitWithin;
    lastOverwrite=doc.overwrite;
  }
  return docLists;
}
