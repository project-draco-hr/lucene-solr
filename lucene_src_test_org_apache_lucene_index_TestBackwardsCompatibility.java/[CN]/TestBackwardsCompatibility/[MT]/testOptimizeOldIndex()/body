{
  for (int i=0; i < oldNames.length; i++) {
    if (VERBOSE) {
      System.out.println("\nTEST: index=" + oldNames[i]);
    }
    File oldIndxeDir=_TestUtil.getTempDir(oldNames[i]);
    _TestUtil.unzip(getDataFile("index." + oldNames[i] + ".zip"),oldIndxeDir);
    Directory dir=newFSDirectory(oldIndxeDir);
    IndexWriter w=new IndexWriter(dir,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer()));
    w.setInfoStream(VERBOSE ? System.out : null);
    w.optimize();
    w.close();
    _TestUtil.checkIndex(dir);
    dir.close();
    _TestUtil.rmDir(oldIndxeDir);
  }
}
