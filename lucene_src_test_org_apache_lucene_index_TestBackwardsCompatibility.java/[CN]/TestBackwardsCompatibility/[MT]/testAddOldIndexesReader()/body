{
  Random random=newRandom();
  for (  String name : oldNames) {
    unzip(getDataFile("index." + name + ".zip"),name);
    String fullPath=fullDir(name);
    Directory dir=FSDirectory.open(new File(fullPath));
    IndexReader reader=IndexReader.open(dir);
    Directory targetDir=newDirectory(random);
    IndexWriter w=new IndexWriter(targetDir,newIndexWriterConfig(random,TEST_VERSION_CURRENT,new MockAnalyzer()));
    w.addIndexes(new IndexReader[]{reader});
    w.close();
    reader.close();
    _TestUtil.checkIndex(targetDir);
    dir.close();
    targetDir.close();
    rmDir(name);
  }
}
