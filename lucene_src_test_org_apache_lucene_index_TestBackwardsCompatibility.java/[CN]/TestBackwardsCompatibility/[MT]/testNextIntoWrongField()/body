{
  for (int i=0; i < oldNames.length; i++) {
    File oldIndexDir=_TestUtil.getTempDir(oldNames[i]);
    _TestUtil.unzip(getDataFile("index." + oldNames[i] + ".zip"),oldIndexDir);
    Directory dir=newFSDirectory(oldIndexDir);
    IndexReader r=IndexReader.open(dir);
    TermsEnum terms=MultiFields.getFields(r).terms("content").iterator();
    BytesRef t=terms.next();
    assertNotNull(t);
    assertEquals("aaa",t.utf8ToString());
    assertNull(terms.next());
    BytesRef aaaTerm=new BytesRef("aaa");
    assertEquals(TermsEnum.SeekStatus.FOUND,terms.seek(aaaTerm));
    assertEquals(35,countDocs(terms.docs(null,null)));
    assertNull(terms.next());
    assertEquals(TermsEnum.SeekStatus.END,terms.seek(new BytesRef("bbb")));
    assertNull(terms.next());
    assertEquals(TermsEnum.SeekStatus.NOT_FOUND,terms.seek(new BytesRef("a")));
    assertTrue(terms.term().bytesEquals(aaaTerm));
    assertEquals(35,countDocs(terms.docs(null,null)));
    assertNull(terms.next());
    assertEquals(TermsEnum.SeekStatus.FOUND,terms.seek(aaaTerm));
    assertEquals(35,countDocs(terms.docs(null,null)));
    assertNull(terms.next());
    r.close();
    dir.close();
    _TestUtil.rmDir(oldIndexDir);
  }
}
