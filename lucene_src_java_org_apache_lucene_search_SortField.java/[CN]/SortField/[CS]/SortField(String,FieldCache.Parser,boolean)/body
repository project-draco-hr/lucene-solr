{
  if (field == null) {
    throw new IllegalArgumentException("field can only be null when type is SCORE or DOC");
  }
  this.field=field;
  this.reverse=reverse;
  if (parser instanceof FieldCache.IntParser) {
    this.creator=new IntValuesCreator(field,(FieldCache.IntParser)parser);
  }
 else   if (parser instanceof FieldCache.FloatParser) {
    this.creator=new FloatValuesCreator(field,(FieldCache.FloatParser)parser);
  }
 else   if (parser instanceof FieldCache.ShortParser) {
    this.creator=new ShortValuesCreator(field,(FieldCache.ShortParser)parser);
  }
 else   if (parser instanceof FieldCache.ByteParser) {
    this.creator=new ByteValuesCreator(field,(FieldCache.ByteParser)parser);
  }
 else   if (parser instanceof FieldCache.LongParser) {
    this.creator=new LongValuesCreator(field,(FieldCache.LongParser)parser);
  }
 else   if (parser instanceof FieldCache.DoubleParser) {
    this.creator=new DoubleValuesCreator(field,(FieldCache.DoubleParser)parser);
  }
 else   throw new IllegalArgumentException("Parser instance does not subclass existing numeric parser from FieldCache (got " + parser + ")");
  this.type=this.creator.getSortType();
}
