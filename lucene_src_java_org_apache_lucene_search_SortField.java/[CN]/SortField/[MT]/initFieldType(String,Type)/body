{
  this.type=type;
  if (field == null) {
    if (type != Type.SCORE && type != Type.DOC)     throw new IllegalArgumentException("field can only be null when type is SCORE or DOC");
  }
 else {
    this.field=field;
  }
  if (creator != null) {
    throw new IllegalStateException("creator already exists: " + creator);
  }
switch (type) {
case BYTE:
    creator=new ByteValuesCreator(field,null);
  break;
case SHORT:
creator=new ShortValuesCreator(field,null);
break;
case INT:
creator=new IntValuesCreator(field,null);
break;
case LONG:
creator=new LongValuesCreator(field,null);
break;
case FLOAT:
creator=new FloatValuesCreator(field,null);
break;
case DOUBLE:
creator=new DoubleValuesCreator(field,null);
break;
}
}
