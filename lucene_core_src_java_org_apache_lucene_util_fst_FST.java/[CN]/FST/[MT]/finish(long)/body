{
  if (this.startNode != -1) {
    throw new IllegalStateException("already finished");
  }
  if (startNode == FINAL_END_NODE && emptyOutput != null) {
    startNode=0;
  }
  this.startNode=startNode;
  bytes.finish();
  cacheRootArcs();
}
