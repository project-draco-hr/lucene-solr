{
  if (startNode != -1) {
    throw new IllegalStateException("already finished");
  }
  if (newStartNode == FINAL_END_NODE && emptyOutput != null) {
    newStartNode=0;
  }
  startNode=newStartNode;
  bytes.finish();
  cacheRootArcs();
}
