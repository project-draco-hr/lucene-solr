{
  if (follow.isFinal()) {
    arc.label=END_LABEL;
    arc.output=follow.nextFinalOutput;
    arc.flags=BIT_FINAL_ARC;
    if (follow.target <= 0) {
      arc.flags|=BIT_LAST_ARC;
    }
 else {
      arc.node=follow.target;
      arc.nextArc=follow.target;
    }
    arc.target=FINAL_END_NODE;
    return arc;
  }
 else {
    return readFirstRealTargetArc(follow.target,arc,in);
  }
}
