{
  close();
  createIndex(size);
  req=lrf.makeRequest("q","*:*");
  TermIndex ti=new TermIndex(proto.field());
  NumberedTermEnum te=ti.getEnumerator(req.getSearcher().getReader());
  while (te.term() != null)   te.next();
  assertEquals(size,te.getTermNumber());
  te.close();
  te=ti.getEnumerator(req.getSearcher().getReader());
  Random r=new Random(size);
  for (int i=0; i < size * 2 + 10; i++) {
    int rnum=r.nextInt(size + 2);
    String s=t(rnum);
    boolean b=te.skipTo(proto.createTerm(s));
    assertEquals(b,rnum < size);
    if (rnum < size) {
      assertEquals(rnum,te.pos);
      assertEquals(s,te.term().text());
    }
 else {
      assertEquals(null,te.term());
      assertEquals(size,te.getTermNumber());
    }
  }
  assertEquals(size > 0,te.skipTo(proto.createTerm("000")));
  assertEquals(0,te.getTermNumber());
  if (size > 0) {
    assertEquals(t(0),te.term().text());
  }
 else {
    assertEquals(null,te.term());
  }
  if (size > 0) {
    for (int i=0; i < size * 2 + 10; i++) {
      int rnum=r.nextInt(size);
      String s=t(rnum);
      boolean b=te.skipTo(rnum);
      assertEquals(true,b);
      assertEquals(rnum,te.pos);
      assertEquals(s,te.term().text());
    }
  }
}
