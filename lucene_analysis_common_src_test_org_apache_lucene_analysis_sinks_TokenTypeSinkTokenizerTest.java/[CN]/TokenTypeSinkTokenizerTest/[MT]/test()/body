{
  TokenTypeSinkFilter sinkFilter=new TokenTypeSinkFilter("D");
  String test="The quick red fox jumped over the lazy brown dogs";
  TeeSinkTokenFilter ttf=new TeeSinkTokenFilter(new WordTokenFilter(whitespaceMockTokenizer(test)));
  TeeSinkTokenFilter.SinkTokenStream sink=ttf.newSinkTokenStream(sinkFilter);
  boolean seenDogs=false;
  CharTermAttribute termAtt=ttf.addAttribute(CharTermAttribute.class);
  TypeAttribute typeAtt=ttf.addAttribute(TypeAttribute.class);
  ttf.reset();
  while (ttf.incrementToken()) {
    if (termAtt.toString().equals("dogs")) {
      seenDogs=true;
      assertTrue(typeAtt.type() + " is not equal to " + "D",typeAtt.type().equals("D") == true);
    }
 else {
      assertTrue(typeAtt.type() + " is not null and it should be",typeAtt.type().equals("word"));
    }
  }
  assertTrue(seenDogs + " does not equal: " + true,seenDogs == true);
  int sinkCount=0;
  sink.reset();
  while (sink.incrementToken()) {
    sinkCount++;
  }
  assertTrue("sink Size: " + sinkCount + " is not: "+ 1,sinkCount == 1);
}
