{
  boolean close=false;
synchronized (this) {
    solrCoreStateRefCnt--;
    if (solrCoreStateRefCnt == 0) {
      close=true;
    }
  }
  if (close) {
    try {
      log.info("Closing SolrCoreState");
      close(closer);
    }
 catch (    Throwable t) {
      log.error("Error closing SolrCoreState",t);
    }
  }
}
