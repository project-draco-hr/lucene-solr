{
  assureMatchVersion();
  List<String> files=splitFileNames(wordFiles);
  CharArraySet words=null;
  if (files.size() > 0) {
    words=new CharArraySet(luceneMatchVersion,files.size() * 10,ignoreCase);
    for (    String file : files) {
      InputStream stream=null;
      Reader reader=null;
      try {
        stream=loader.openResource(file.trim());
        CharsetDecoder decoder=IOUtils.CHARSET_UTF_8.newDecoder().onMalformedInput(CodingErrorAction.REPORT).onUnmappableCharacter(CodingErrorAction.REPORT);
        reader=new InputStreamReader(stream,decoder);
        WordlistLoader.getSnowballWordSet(reader,words);
      }
  finally {
        IOUtils.closeWhileHandlingException(reader,stream);
      }
    }
  }
  return words;
}
