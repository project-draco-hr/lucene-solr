{
  ZkController zkController=mock(ZkController.class,Mockito.withSettings().defaultAnswer(Mockito.CALLS_REAL_METHODS));
  when(zkController.getZkClient()).thenReturn(client);
  Mockito.doAnswer(new Answer<Boolean>(){
    @Override public Boolean answer(    InvocationOnMock invocation) throws Throwable {
      return client.exists((String)invocation.getArguments()[0],true);
    }
  }
).when(zkController).pathExists(Mockito.anyString());
  return zkController;
}
