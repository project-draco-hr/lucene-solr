{
  if (docs != null) {
    if (docCount >= docs.length) {
      if (docCount >= maxDocsToCache) {
        invalidate();
      }
 else {
        final int newLen=Math.min(ArrayUtil.oversize(docCount + 1,RamUsageEstimator.NUM_BYTES_INT),maxDocsToCache);
        grow(newLen);
      }
    }
    if (docs != null) {
      buffer(doc);
      ++docCount;
    }
  }
  super.collect(doc);
}
