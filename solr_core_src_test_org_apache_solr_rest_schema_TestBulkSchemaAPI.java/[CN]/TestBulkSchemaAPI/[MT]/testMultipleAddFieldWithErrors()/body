{
  String payload="{\n" + "    'add-field' : {\n" + "                 'name':'a1',\n"+ "                 'type': 'string1',\n"+ "                 'stored':true,\n"+ "                 'indexed':false\n"+ "                 },\n"+ "    'add-field' : {\n"+ "                 'type': 'string',\n"+ "                 'stored':true,\n"+ "                 'indexed':true\n"+ "                 }\n"+ "    }";
  String response=restTestHarness.post("/schema?wt=json",json(payload));
  Map map=(Map)ObjectBuilder.getVal(new JSONParser(new StringReader(response)));
  List l=(List)map.get("errors");
  assertNotNull("No errors",l);
  List errorList=(List)((Map)l.get(0)).get("errorMessages");
  assertEquals(1,errorList.size());
  assertTrue(((String)errorList.get(0)).contains("Field 'a1': Field type 'string1' not found.\n"));
  errorList=(List)((Map)l.get(1)).get("errorMessages");
  assertEquals(1,errorList.size());
  assertTrue(((String)errorList.get(0)).contains("is a required field"));
}
