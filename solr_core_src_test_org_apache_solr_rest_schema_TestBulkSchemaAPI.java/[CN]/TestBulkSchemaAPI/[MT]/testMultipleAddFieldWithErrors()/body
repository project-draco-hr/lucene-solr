{
  String payload=SolrTestCaseJ4.json("{\n" + "    'add-field' : {\n" + "                 'name':'a1',\n"+ "                 'type': 'string1',\n"+ "                 'stored':true,\n"+ "                 'indexed':false\n"+ "                 },\n"+ "    'add-field' : {\n"+ "                 'type': 'string',\n"+ "                 'stored':true,\n"+ "                 'indexed':true\n"+ "                 }\n"+ "   \n"+ "    }");
  String response=restTestHarness.post("/schema?wt=json",payload);
  Map map=(Map)ObjectBuilder.getVal(new JSONParser(new StringReader(response)));
  List l=(List)map.get("errors");
  List errorList=(List)((Map)l.get(0)).get(SchemaManager.ERR_MSGS);
  assertEquals(1,errorList.size());
  assertTrue(((String)errorList.get(0)).contains("No such field type"));
  errorList=(List)((Map)l.get(1)).get(SchemaManager.ERR_MSGS);
  assertEquals(1,errorList.size());
  assertTrue(((String)errorList.get(0)).contains("is a required field"));
}
