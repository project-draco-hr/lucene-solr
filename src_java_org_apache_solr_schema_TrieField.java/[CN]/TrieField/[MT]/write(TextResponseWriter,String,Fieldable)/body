{
  byte[] arr=f.binaryValue();
  if (arr == null) {
    writer.writeStr(name,badFieldString(f),true);
    return;
  }
switch (type) {
case INTEGER:
    writer.writeInt(name,toInt(arr));
  break;
case FLOAT:
writer.writeFloat(name,toFloat(arr));
break;
case LONG:
writer.writeLong(name,toLong(arr));
break;
case DOUBLE:
writer.writeDouble(name,toDouble(arr));
break;
case DATE:
writer.writeDate(name,new Date(toLong(arr)));
break;
default :
throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unknown type for trie field: " + f.name());
}
}
