{
  TokenStream stream=new IterTokenStream("international");
  TokenStream filter=new DoubleMetaphoneFilter(stream,4,true);
  Token token=filter.next(new Token());
  assertEquals(13,token.termLength());
  assertEquals("international",new String(token.termBuffer(),0,token.termLength()));
  token=filter.next(new Token());
  assertEquals(4,token.termLength());
  assertEquals("ANTR",new String(token.termBuffer(),0,token.termLength()));
  assertNull(filter.next(new Token()));
}
