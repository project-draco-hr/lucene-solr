{
  Random random=newRandom();
  MockRAMDirectory store=newDirectory(random);
  RandomIndexWriter writer=new RandomIndexWriter(random,store);
  Document d1=new Document();
  d1.add(new Field("field","a b",Field.Store.YES,Field.Index.ANALYZED));
  writer.addDocument(d1);
  IndexReader reader=writer.getReader();
  Searcher searcher=new IndexSearcher(reader);
  QueryParser parser=new QueryParser(TEST_VERSION_CURRENT,"field",new MockAnalyzer());
  Query query=parser.parse("a NOT b");
  ScoreDoc[] hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
  writer.close();
  searcher.close();
  reader.close();
  store.close();
}
