{
  Directory dir1=getDir1(random);
  Directory dir2=getDir2(random);
  ParallelReader pr=new ParallelReader();
  pr.add(IndexReader.open(dir1,false));
  pr.add(IndexReader.open(dir2,false));
  Document doc11=pr.document(0,new MapFieldSelector("f1"));
  Document doc24=pr.document(1,new MapFieldSelector(Arrays.asList("f4")));
  Document doc223=pr.document(1,new MapFieldSelector("f2","f3"));
  assertEquals(1,doc11.getFields().size());
  assertEquals(1,doc24.getFields().size());
  assertEquals(2,doc223.getFields().size());
  assertEquals("v1",doc11.get("f1"));
  assertEquals("v2",doc24.get("f4"));
  assertEquals("v2",doc223.get("f2"));
  assertEquals("v2",doc223.get("f3"));
  pr.close();
  dir1.close();
  dir2.close();
}
