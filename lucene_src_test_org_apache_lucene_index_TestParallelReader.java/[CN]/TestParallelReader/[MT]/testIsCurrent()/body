{
  Directory dir1=getDir1(random);
  Directory dir2=getDir2(random);
  ParallelReader pr=new ParallelReader();
  pr.add(IndexReader.open(dir1,false));
  pr.add(IndexReader.open(dir2,false));
  assertTrue(pr.isCurrent());
  IndexReader modifier=IndexReader.open(dir1,false);
  DefaultSimilarity sim=new DefaultSimilarity();
  modifier.setNorm(0,"f1",sim.encodeNormValue(100f));
  modifier.close();
  assertFalse(pr.isCurrent());
  modifier=IndexReader.open(dir2,false);
  modifier.setNorm(0,"f3",sim.encodeNormValue(100f));
  modifier.close();
  assertFalse(pr.isCurrent());
  pr.close();
  dir1.close();
  dir2.close();
}
