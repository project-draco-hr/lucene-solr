{
  if (reader instanceof SegmentReader)   return (SegmentReader)reader;
  IndexReader[] subReaders=reader.getSequentialSubReaders();
  if (subReaders.length != 1)   throw new IllegalArgumentException(reader + " has " + subReaders.length+ " segments instead of exactly one");
  return (SegmentReader)subReaders[0];
}
