{
  Assert.assertFalse("ensure your tearDown() calls super.tearDown()!!!",setup);
  setup=true;
  seed=Long.valueOf(TEST_SEED.equals("random") ? seedRnd.nextLong() : Long.parseLong(TEST_SEED));
  random=new Random(seed);
  savedUncaughtExceptionHandler=Thread.getDefaultUncaughtExceptionHandler();
  Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler(){
    public void uncaughtException(    Thread t,    Throwable e){
      uncaughtExceptions.add(new UncaughtExceptionEntry(t,e));
      if (savedUncaughtExceptionHandler != null)       savedUncaughtExceptionHandler.uncaughtException(t,e);
    }
  }
);
  ConcurrentMergeScheduler.setTestMode();
  savedBoolMaxClauseCount=BooleanQuery.getMaxClauseCount();
  seed=null;
}
