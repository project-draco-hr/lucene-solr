{
  stores=Collections.synchronizedMap(new IdentityHashMap<MockDirectoryWrapper,StackTraceElement[]>());
  codec=installTestCodecs();
  savedLocale=Locale.getDefault();
  locale=TEST_LOCALE.equals("random") ? randomLocale(seedRnd) : localeForName(TEST_LOCALE);
  Locale.setDefault(locale);
  savedTimeZone=TimeZone.getDefault();
  timeZone=TEST_TIMEZONE.equals("random") ? randomTimeZone(seedRnd) : TimeZone.getTimeZone(TEST_TIMEZONE);
  TimeZone.setDefault(timeZone);
}
