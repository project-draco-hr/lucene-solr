{
  if (codec.name == null) {
    throw new IllegalArgumentException("code.name is null");
  }
  if (codecs.containsKey(codec.name)) {
    Codec c=codecs.get(codec.name);
    if (codec.getClass().isAssignableFrom(c.getClass()))     codecs.remove(codec.name);
 else     throw new IllegalArgumentException("codec '" + codec.name + "' is being impersonated by a different codec instance!!!");
  }
}
