{
  int globalDoc=docId + this.docBase;
  int ord=values.getOrd(globalDoc);
  if (ord > -1) {
    float score=scorer.score();
    if (score > scores[ord]) {
      ords[ord]=globalDoc;
      scores[ord]=score;
    }
  }
 else   if (this.collapsedSet.fastGet(globalDoc)) {
  }
 else   if (nullPolicy == CollapsingPostFilter.NULL_POLICY_COLLAPSE) {
    float score=scorer.score();
    if (score > nullScore) {
      nullScore=score;
      nullDoc=globalDoc;
    }
  }
 else   if (nullPolicy == CollapsingPostFilter.NULL_POLICY_EXPAND) {
    collapsedSet.fastSet(globalDoc);
    nullScores.add(scorer.score());
  }
}
