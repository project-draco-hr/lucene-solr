{
  IndexWriterConfig conf=new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer());
  Directory dir=newDirectory(newRandom());
  IndexWriter writer=new IndexWriter(dir,conf);
  writer.setSimilarity(new MySimilarity());
  assertEquals(MySimilarity.class,writer.getConfig().getSimilarity().getClass());
  writer.setMaxBufferedDeleteTerms(4);
  assertEquals(4,writer.getConfig().getMaxBufferedDeleteTerms());
  writer.setMaxBufferedDocs(10);
  assertEquals(10,writer.getConfig().getMaxBufferedDocs());
  writer.setMaxFieldLength(10);
  assertEquals(10,writer.getConfig().getMaxFieldLength());
  writer.setMergeScheduler(new SerialMergeScheduler());
  assertEquals(SerialMergeScheduler.class,writer.getConfig().getMergeScheduler().getClass());
  writer.setRAMBufferSizeMB(1.5);
  assertEquals(1.5,writer.getConfig().getRAMBufferSizeMB(),0.0);
  writer.setTermIndexInterval(40);
  assertEquals(40,writer.getConfig().getTermIndexInterval());
  writer.setWriteLockTimeout(100);
  assertEquals(100,writer.getConfig().getWriteLockTimeout());
  writer.setMergedSegmentWarmer(new MyWarmer());
  assertEquals(MyWarmer.class,writer.getConfig().getMergedSegmentWarmer().getClass());
  writer.setMergePolicy(new LogDocMergePolicy());
  assertEquals(LogDocMergePolicy.class,writer.getConfig().getMergePolicy().getClass());
  writer.close();
  dir.close();
}
