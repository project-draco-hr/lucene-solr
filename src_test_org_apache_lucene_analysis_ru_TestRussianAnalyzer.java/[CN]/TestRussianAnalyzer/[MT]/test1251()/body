{
  inWords1251=new InputStreamReader(new FileInputStream("src/test/org/apache/lucene/analysis/ru/test1251.txt"),"iso-8859-1");
  sample1251=new InputStreamReader(new FileInputStream("src/test/org/apache/lucene/analysis/ru/res1251.htm"),"iso-8859-1");
  RussianAnalyzer ra=new RussianAnalyzer(RussianCharsets.CP1251);
  TokenStream in=ra.tokenStream("",inWords1251);
  RussianLetterTokenizer sample=new RussianLetterTokenizer(sample1251,RussianCharsets.CP1251);
  for (; ; ) {
    Token token=in.next();
    if (token == null) {
      break;
    }
    Token sampleToken=sample.next();
    assertEquals("1251",token.termText(),sampleToken == null ? null : sampleToken.termText());
  }
  inWords1251.close();
  sample1251.close();
}
