{
  RussianAnalyzer ra=new RussianAnalyzer(RussianCharsets.KOI8);
  inWordsKOI8=new FileReader("src/test/org/apache/lucene/analysis/ru/testKOI8.txt");
  sampleKOI8=new FileReader("src/test/org/apache/lucene/analysis/ru/resKOI8.htm");
  TokenStream in=ra.tokenStream("all",inWordsKOI8);
  RussianLetterTokenizer sample=new RussianLetterTokenizer(sampleKOI8,RussianCharsets.KOI8);
  for (; ; ) {
    Token token=in.next();
    if (token == null) {
      break;
    }
    Token sampleToken=sample.next();
    assertEquals("KOI8",token.termText(),sampleToken == null ? null : sampleToken.termText());
  }
  inWordsKOI8.close();
  sampleKOI8.close();
}
