{
  boolean success=false;
  long startTime=System.nanoTime();
  Map m=null;
  while (TimeUnit.SECONDS.convert(System.nanoTime() - startTime,TimeUnit.NANOSECONDS) < maxTimeoutSeconds) {
    try {
      m=testServerBaseUrl == null ? getRespMap(uri,harness) : TestSolrConfigHandlerConcurrent.getAsMap(testServerBaseUrl + uri,cloudSolrClient);
    }
 catch (    Exception e) {
      Thread.sleep(100);
      continue;
    }
    if (Objects.equals(expected,Utils.getObjectByPath(m,false,jsonPath))) {
      success=true;
      break;
    }
    Thread.sleep(100);
  }
  assertTrue(StrUtils.formatString("Could not get expected value  ''{0}'' for path ''{1}'' full output: {2}",expected,StrUtils.join(jsonPath,'/'),getAsString(m)),success);
  return m;
}
