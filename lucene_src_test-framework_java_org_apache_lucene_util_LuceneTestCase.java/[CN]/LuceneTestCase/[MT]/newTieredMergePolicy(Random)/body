{
  TieredMergePolicy tmp=new TieredMergePolicy();
  if (rarely(r)) {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,2,4));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,2,4));
  }
 else {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,5,50));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,5,50));
  }
  tmp.setMaxMergedSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setFloorSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setForceMergeDeletesPctAllowed(0.0 + r.nextDouble() * 30.0);
  tmp.setSegmentsPerTier(_TestUtil.nextInt(r,2,20));
  tmp.setUseCompoundFile(r.nextBoolean());
  tmp.setNoCFSRatio(0.1 + r.nextDouble() * 0.8);
  tmp.setReclaimDeletesWeight(r.nextDouble() * 4);
  return tmp;
}
