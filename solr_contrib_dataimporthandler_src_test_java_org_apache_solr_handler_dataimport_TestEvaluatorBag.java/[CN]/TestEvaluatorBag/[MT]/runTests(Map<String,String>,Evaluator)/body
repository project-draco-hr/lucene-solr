{
  ContextImpl ctx=new ContextImpl(null,resolver,null,Context.FULL_DUMP,Collections.EMPTY_MAP,null,null);
  Context.CURRENT_CONTEXT.set(ctx);
  try {
    for (    Map.Entry<String,String> entry : tests.entrySet()) {
      Map<String,Object> values=new HashMap<String,Object>();
      values.put("key",entry.getKey());
      resolver.addNamespace("A",values);
      String expected=(String)entry.getValue();
      String actual=evaluator.evaluate("A.key",ctx);
      assertEquals(expected,actual);
    }
  }
  finally {
    Context.CURRENT_CONTEXT.remove();
  }
}
