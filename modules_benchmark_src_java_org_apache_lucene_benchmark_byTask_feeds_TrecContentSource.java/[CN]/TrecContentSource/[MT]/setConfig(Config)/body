{
  super.setConfig(config);
  File workDir=new File(config.get("work.dir","work"));
  String d=config.get("docs.dir","trec");
  dataDir=new File(d);
  if (!dataDir.isAbsolute()) {
    dataDir=new File(workDir,d);
  }
  collectFiles(dataDir,inputFiles);
  if (inputFiles.size() == 0) {
    throw new IllegalArgumentException("No files in dataDir: " + dataDir);
  }
  try {
    String trecDocParserClassName=config.get("trec.doc.parser","org.apache.lucene.benchmark.byTask.feeds.TrecGov2Parser");
    trecDocParser=Class.forName(trecDocParserClassName).asSubclass(TrecDocParser.class).newInstance();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  try {
    String htmlParserClassName=config.get("html.parser","org.apache.lucene.benchmark.byTask.feeds.DemoHTMLParser");
    htmlParser=Class.forName(htmlParserClassName).asSubclass(HTMLParser.class).newInstance();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  if (encoding == null) {
    encoding="ISO-8859-1";
  }
  excludeDocnameIteration=config.get("content.source.excludeIteration",false);
}
