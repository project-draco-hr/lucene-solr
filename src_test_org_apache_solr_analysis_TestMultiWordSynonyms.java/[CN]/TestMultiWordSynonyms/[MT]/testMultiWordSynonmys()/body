{
  List<String> rules=new ArrayList<String>();
  rules.add("a b c,d");
  SynonymMap synMap=new SynonymMap(true);
  SynonymFilterFactory.parseRules(rules,synMap,"=>",",",true,null);
  SynonymFilter ts=new SynonymFilter(new WhitespaceTokenizer(new StringReader("a e")),synMap);
  TermAttribute termAtt=(TermAttribute)ts.getAttribute(TermAttribute.class);
  ts.reset();
  List<String> tokens=new ArrayList<String>();
  while (ts.incrementToken())   tokens.add(termAtt.term());
  Assert.assertEquals(Arrays.asList("a","e"),tokens);
}
