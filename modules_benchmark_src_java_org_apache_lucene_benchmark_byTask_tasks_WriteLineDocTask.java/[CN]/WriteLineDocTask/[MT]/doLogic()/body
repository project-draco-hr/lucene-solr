{
  Document doc=docSize > 0 ? docMaker.makeDocument(docSize) : docMaker.makeDocument();
  Matcher matcher=threadNormalizer.get();
  if (matcher == null) {
    matcher=Pattern.compile("[\t\r\n]+").matcher("");
    threadNormalizer.set(matcher);
  }
  Field f=doc.getField(DocMaker.BODY_FIELD);
  String body=f != null ? matcher.reset(f.stringValue()).replaceAll(" ") : "";
  f=doc.getField(DocMaker.TITLE_FIELD);
  String title=f != null ? matcher.reset(f.stringValue()).replaceAll(" ") : "";
  if (body.length() > 0 || title.length() > 0) {
    f=doc.getField(DocMaker.DATE_FIELD);
    String date=f != null ? matcher.reset(f.stringValue()).replaceAll(" ") : "";
    StringBuilder sb=threadBuffer.get();
    if (sb == null) {
      sb=new StringBuilder();
      threadBuffer.set(sb);
    }
    sb.setLength(0);
    sb.append(title).append(SEP).append(date).append(SEP).append(body);
    lineFileOut.println(sb.toString());
  }
  return 1;
}
