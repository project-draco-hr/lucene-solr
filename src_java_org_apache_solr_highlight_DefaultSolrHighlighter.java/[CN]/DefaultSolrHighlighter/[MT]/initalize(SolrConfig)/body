{
  formatters.clear();
  fragmenters.clear();
  ResourceLoader loader=config.getResourceLoader();
  SolrFragmenter frag=null;
  for (  PluginInfo info : config.getHighlightingFragmenterInfo()) {
    SolrFragmenter fragmenter=(SolrFragmenter)loader.newInstance(info.className);
    fragmenter.init(info.initArgs);
    if (info.isDefault)     frag=fragmenter;
    fragmenters.put(info.name,fragmenter);
  }
  if (frag == null) {
    frag=new GapFragmenter();
  }
  fragmenters.put("",frag);
  fragmenters.put(null,frag);
  SolrFormatter fmt=null;
  for (  PluginInfo info : config.getHighlightingFormatterInfo()) {
    SolrFormatter formatter=(SolrFormatter)loader.newInstance(info.className);
    formatter.init(info.initArgs);
    formatters.put(info.name,formatter);
    if (info.isDefault)     fmt=formatter;
  }
  if (fmt == null) {
    fmt=new HtmlFormatter();
  }
  formatters.put("",fmt);
  formatters.put(null,fmt);
}
