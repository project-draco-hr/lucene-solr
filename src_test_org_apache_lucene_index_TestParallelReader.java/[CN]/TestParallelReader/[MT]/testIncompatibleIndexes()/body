{
  Directory dir1=getDir1();
  Directory dir2=new MockRAMDirectory();
  IndexWriter w2=new IndexWriter(dir2,new StandardAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
  Document d3=new Document();
  d3.add(new Field("f3","v1",Field.Store.YES,Field.Index.ANALYZED));
  w2.addDocument(d3);
  w2.close();
  ParallelReader pr=new ParallelReader();
  pr.add(IndexReader.open(dir1));
  try {
    pr.add(IndexReader.open(dir2));
    fail("didn't get exptected exception: indexes don't have same number of documents");
  }
 catch (  IllegalArgumentException e) {
  }
}
