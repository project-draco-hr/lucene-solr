{
  int positionsEstimate;
  if (offsetLength == -1) {
    int sumTotalTermFreq=(int)vector.getSumTotalTermFreq();
    if (sumTotalTermFreq == -1) {
      int size=(int)vector.size();
      if (size == -1) {
        size=128;
      }
      sumTotalTermFreq=(int)(size * 2.4);
    }
    positionsEstimate=(int)(sumTotalTermFreq * 1.5);
  }
 else {
    positionsEstimate=(int)(offsetLength / AVG_CHARS_PER_POSITION);
  }
  return new TokenLL[Math.max(1,(int)(positionsEstimate * loadFactor))];
}
