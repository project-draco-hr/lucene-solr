{
  int posInc;
  if (incrementToken == null) {
    if (!initialized) {
      init();
      assert initialized;
    }
    incrementToken=firstToken;
    if (incrementToken == null) {
      return false;
    }
    posInc=incrementToken.position + 1;
  }
 else   if (incrementToken.next != null) {
    int lastPosition=incrementToken.position;
    incrementToken=incrementToken.next;
    posInc=incrementToken.position - lastPosition;
  }
 else {
    return false;
  }
  clearAttributes();
  termAttribute.copyBuffer(termCharsBuilder.chars(),incrementToken.termCharsOff,incrementToken.termCharsLen);
  positionIncrementAttribute.setPositionIncrement(posInc);
  if (offsetAttribute != null) {
    offsetAttribute.setOffset(incrementToken.startOffset,incrementToken.startOffset + incrementToken.endOffsetInc);
  }
  if (payloadAttribute != null && incrementToken.payloadIndex >= 0) {
    payloadAttribute.setPayload(payloadsBytesRefArray.get(spareBytesRefBuilder,incrementToken.payloadIndex));
  }
  return true;
}
