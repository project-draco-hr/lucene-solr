{
  if (analyzer == null) {
    return query;
  }
  StringBuilder norm=new StringBuilder();
  TokenStream tokens=analyzer.reusableTokenStream("",new StringReader(query));
  tokens.reset();
  Token token=tokens.next();
  while (token != null) {
    norm.append(new String(token.termBuffer(),0,token.termLength()));
    token=tokens.next();
  }
  return norm.toString();
}
