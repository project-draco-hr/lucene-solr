{
  final Directory dir1=newDirectory();
  TestIndexReaderReopen.createIndex(random,dir1,false);
  IndexReader orig=IndexReader.open(dir1,false);
  DefaultSimilarity sim=new DefaultSimilarity();
  orig.setNorm(1,"field1",sim.encodeNormValue(17.0f));
  final byte encoded=sim.encodeNormValue(17.0f);
  assertEquals(encoded,MultiNorms.norms(orig,"field1")[1]);
  IndexReader clonedReader=(IndexReader)orig.clone();
  orig.close();
  clonedReader.close();
  IndexReader r=IndexReader.open(dir1,false);
  assertEquals(encoded,MultiNorms.norms(r,"field1")[1]);
  r.close();
  dir1.close();
}
