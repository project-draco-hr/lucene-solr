{
  final Directory dir1=newDirectory();
  TestIndexReaderReopen.createIndex(random,dir1,false);
  SegmentReader origSegmentReader=getOnlySegmentReader(IndexReader.open(dir1,false));
  origSegmentReader.deleteDocument(1);
  origSegmentReader.setNorm(4,"field1",0.5f);
  SegmentReader clonedSegmentReader=(SegmentReader)origSegmentReader.clone();
  assertDelDocsRefCountEquals(2,origSegmentReader);
  origSegmentReader.close();
  assertDelDocsRefCountEquals(1,origSegmentReader);
  Norm norm=clonedSegmentReader.norms.get("field1");
  assertEquals(1,norm.bytesRef().get());
  clonedSegmentReader.close();
  dir1.close();
}
