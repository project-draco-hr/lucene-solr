{
  Reader reader=new StringReader("aa bb cc");
  reader=charFilterFactory("PatternReplace","pattern","(aa)\\s+(bb)\\s+(cc)","replacement","$1#$2#$3").create(reader);
  TokenStream ts=new MockTokenizer(reader,MockTokenizer.WHITESPACE,false);
  assertTokenStreamContents(ts,new String[]{"aa#bb#cc"},new int[]{0},new int[]{8});
}
