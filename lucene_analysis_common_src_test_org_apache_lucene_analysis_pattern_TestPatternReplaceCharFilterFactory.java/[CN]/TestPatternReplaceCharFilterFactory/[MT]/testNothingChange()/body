{
  final String BLOCK="this is test.";
  PatternReplaceCharFilterFactory factory=new PatternReplaceCharFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("pattern","(aa)\\s+(bb)\\s+(cc)");
  args.put("replacement","$1$2$3");
  factory.init(args);
  CharFilter cs=factory.create(new StringReader(BLOCK));
  TokenStream ts=new MockTokenizer(cs,MockTokenizer.WHITESPACE,false);
  assertTokenStreamContents(ts,new String[]{"this","is","test."},new int[]{0,5,8},new int[]{4,7,13});
}
