{
  indexWriter.addDocument(newDoc("Whatever yin"));
  indexWriter.addDocument(newDoc("nextdoc yin"));
  initReaderSearcherHighlighter();
  BooleanQuery query=new BooleanQuery.Builder().add(new TermQuery(new Term("body","whatever")),BooleanClause.Occur.MUST).add(newPhraseQuery("body","nextdoc yin"),BooleanClause.Occur.SHOULD).add(newPhraseQuery("body","nonexistent yin"),BooleanClause.Occur.SHOULD).build();
  TopDocs topDocs=searcher.search(query,10,Sort.INDEXORDER);
  String[] snippets=highlighter.highlight("body",query,topDocs);
  assertArrayEquals(new String[]{"<b>Whatever</b> yin"},snippets);
}
