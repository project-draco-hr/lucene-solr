{
  setupRPTField("miles","true","WKT",random().nextBoolean() ? new SpatialRecursivePrefixTreeFieldType() : new RptWithGeometrySpatialField());
  AbstractSpatialFieldType ftype=(AbstractSpatialFieldType)h.getCore().getLatestSchema().getField("geo").getType();
  String wkt="POINT (1 2)";
  Shape shape=ftype.parseShape(wkt);
  String out=ftype.shapeToString(shape);
  assertEquals(wkt,out);
  try {
    ftype.parseShape("{\"type\":\"Point\",\"coordinates\":[1,2]}");
    fail("Should not parse GeoJSON if told format is WKT");
  }
 catch (  SolrException e) {
    System.out.println(e);
  }
}
