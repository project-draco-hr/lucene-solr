{
  if (info.getUseCompoundFile()) {
    files.add(IndexFileNames.segmentFileName(info.name,"",IndexFileNames.COMPOUND_FILE_EXTENSION));
  }
 else {
    postingsFormat().files(info,"",files);
    storedFieldsFormat().files(info,files);
    termVectorsFormat().files(info,files);
    fieldInfosFormat().files(info,files);
    docValuesFormat().files(info,files);
    normsFormat().files(info,files);
  }
  liveDocsFormat().files(info,files);
  ((Lucene3xNormsFormat)normsFormat()).separateFiles(info,files);
  if (info.getDocStoreOffset() != -1) {
    storedFieldsFormat().files(info,files);
    termVectorsFormat().files(info,files);
  }
}
