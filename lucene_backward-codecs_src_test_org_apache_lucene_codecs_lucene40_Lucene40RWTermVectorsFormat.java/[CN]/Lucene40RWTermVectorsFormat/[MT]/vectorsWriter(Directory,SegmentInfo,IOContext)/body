{
  if (!LuceneTestCase.OLD_FORMAT_IMPERSONATION_IS_ACTIVE) {
    throw new UnsupportedOperationException("this codec can only be used for reading");
  }
 else {
    return new Lucene40TermVectorsWriter(directory,segmentInfo.name,context);
  }
}
