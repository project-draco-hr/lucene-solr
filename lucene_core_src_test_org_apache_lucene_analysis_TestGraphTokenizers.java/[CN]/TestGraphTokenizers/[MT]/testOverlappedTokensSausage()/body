{
  final TokenStream ts=new CannedTokenStream(new Token[]{token("abc",1,1),token("xyz",0,1)});
  final Automaton actual=(new TokenStreamToAutomaton()).toAutomaton(ts);
  final Automaton a1=BasicAutomata.makeString("abc");
  final Automaton a2=BasicAutomata.makeString("xyz");
  final Automaton expected=BasicOperations.union(a1,a2);
  assertTrue(BasicOperations.sameLanguage(expected,actual));
}
