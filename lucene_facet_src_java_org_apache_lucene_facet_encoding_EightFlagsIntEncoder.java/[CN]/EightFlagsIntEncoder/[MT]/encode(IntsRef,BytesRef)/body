{
  buf.offset=buf.length=0;
  int upto=values.offset + values.length;
  for (int i=values.offset; i < upto; i++) {
    int value=values.ints[i];
    if (value == 1) {
      indicator|=ENCODE_TABLE[ordinal];
    }
 else {
      encodeQueue.ints[encodeQueue.length++]=value - 2;
    }
    ++ordinal;
    if (ordinal == 8) {
      encodeChunk(buf);
    }
  }
  if (ordinal != 0) {
    encodeChunk(buf);
  }
}
