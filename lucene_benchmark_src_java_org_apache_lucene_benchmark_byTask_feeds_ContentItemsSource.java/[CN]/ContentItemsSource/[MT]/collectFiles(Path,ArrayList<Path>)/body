{
  Files.walkFileTree(dir,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult visitFile(    Path file,    BasicFileAttributes attrs) throws IOException {
      if (Files.isReadable(file)) {
        files.add(file.toRealPath());
      }
      return FileVisitResult.CONTINUE;
    }
  }
);
}
