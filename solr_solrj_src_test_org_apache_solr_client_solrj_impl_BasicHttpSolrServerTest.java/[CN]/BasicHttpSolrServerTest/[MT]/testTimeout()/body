{
  HttpSolrServer server=new HttpSolrServer(jetty.getBaseUrl().toString() + "/slow/foo");
  SolrQuery q=new SolrQuery("*:*");
  server.setSoTimeout(2000);
  try {
    QueryResponse response=server.query(q,METHOD.GET);
    fail("No exception thrown.");
  }
 catch (  SolrServerException e) {
    assertTrue(e.getMessage().contains("Timeout"));
  }
  server.shutdown();
}
