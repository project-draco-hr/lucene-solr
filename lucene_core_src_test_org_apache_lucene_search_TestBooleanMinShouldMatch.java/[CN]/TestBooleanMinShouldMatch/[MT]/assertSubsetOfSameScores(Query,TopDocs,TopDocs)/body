{
  if (top2.totalHits > top1.totalHits) {
    fail("Constrained results not a subset:\n" + CheckHits.topdocsString(top1,0,0) + CheckHits.topdocsString(top2,0,0)+ "for query:"+ q.toString());
  }
  for (int hit=0; hit < top2.totalHits; hit++) {
    int id=top2.scoreDocs[hit].doc;
    float score=top2.scoreDocs[hit].score;
    boolean found=false;
    for (int other=0; other < top1.totalHits; other++) {
      if (top1.scoreDocs[other].doc == id) {
        found=true;
        float otherScore=top1.scoreDocs[other].score;
        assertEquals("Doc " + id + " scores don't match\n"+ CheckHits.topdocsString(top1,0,0)+ CheckHits.topdocsString(top2,0,0)+ "for query:"+ q.toString(),score,otherScore,CheckHits.explainToleranceDelta(score,otherScore));
      }
    }
    if (!found)     fail("Doc " + id + " not found\n"+ CheckHits.topdocsString(top1,0,0)+ CheckHits.topdocsString(top2,0,0)+ "for query:"+ q.toString());
  }
}
