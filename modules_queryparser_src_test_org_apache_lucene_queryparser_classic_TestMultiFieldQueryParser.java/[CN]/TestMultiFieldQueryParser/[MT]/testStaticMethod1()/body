{
  String[] fields={"b","t"};
  String[] queries={"one","two"};
  Query q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries,fields,new MockAnalyzer(random()));
  assertEquals("b:one t:two",q.toString());
  String[] queries2={"+one","+two"};
  q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries2,fields,new MockAnalyzer(random()));
  assertEquals("(+b:one) (+t:two)",q.toString());
  String[] queries3={"one","+two"};
  q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries3,fields,new MockAnalyzer(random()));
  assertEquals("b:one (+t:two)",q.toString());
  String[] queries4={"one +more","+two"};
  q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries4,fields,new MockAnalyzer(random()));
  assertEquals("(b:one +b:more) (+t:two)",q.toString());
  String[] queries5={"blah"};
  try {
    q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries5,fields,new MockAnalyzer(random()));
    fail();
  }
 catch (  IllegalArgumentException e) {
  }
  TestQueryParser.QPTestAnalyzer stopA=new TestQueryParser.QPTestAnalyzer();
  String[] queries6={"((+stop))","+((stop))"};
  q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries6,fields,stopA);
  assertEquals("",q.toString());
  String[] queries7={"one ((+stop)) +more","+((stop)) +two"};
  q=MultiFieldQueryParser.parse(TEST_VERSION_CURRENT,queries7,fields,stopA);
  assertEquals("(b:one +b:more) (+t:two)",q.toString());
}
