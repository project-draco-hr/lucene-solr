{
  String test="one<script attr= bare><!-- action('<!-- comment -->', \"\\\"-->\\\"\"); --></script>two";
  String gold="one\ntwo";
  Reader reader=new HTMLStripCharFilter(new StringReader(test));
  int ch=0;
  StringBuilder builder=new StringBuilder();
  try {
    while ((ch=reader.read()) != -1) {
      builder.append((char)ch);
    }
  }
  finally {
  }
  assertEquals("'" + builder.toString() + "' is not equal to '"+ gold+ "'",gold,builder.toString());
  test="hello<script><!-- f('<!--internal--></script>'); --></script>";
  gold="hello\n";
  reader=new HTMLStripCharFilter(new StringReader(test));
  ch=0;
  builder=new StringBuilder();
  try {
    while ((ch=reader.read()) != -1) {
      builder.append((char)ch);
    }
  }
  finally {
  }
  assertEquals("'" + builder.toString() + "' is not equal to '"+ gold+ "'",gold,builder.toString());
}
