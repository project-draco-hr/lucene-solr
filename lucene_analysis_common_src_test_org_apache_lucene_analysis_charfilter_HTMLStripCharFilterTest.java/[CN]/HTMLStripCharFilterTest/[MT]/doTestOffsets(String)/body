{
  HTMLStripCharFilter reader=new HTMLStripCharFilter(CharReader.get(new BufferedReader(new StringReader(in))));
  int ch=0;
  int off=0;
  int strOff=-1;
  while ((ch=reader.read()) != -1) {
    int correctedOff=reader.correctOffset(off);
    if (ch == 'X') {
      strOff=in.indexOf('X',strOff + 1);
      assertEquals(strOff,correctedOff);
    }
    off++;
  }
}
