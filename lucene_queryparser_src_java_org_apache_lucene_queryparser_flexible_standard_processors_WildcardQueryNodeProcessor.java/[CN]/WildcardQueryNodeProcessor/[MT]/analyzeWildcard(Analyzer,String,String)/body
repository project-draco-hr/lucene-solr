{
  Matcher wildcardMatcher=WILDCARD_PATTERN.matcher(wildcard);
  StringBuilder sb=new StringBuilder();
  int last=0;
  while (wildcardMatcher.find()) {
    if (wildcardMatcher.group(1) != null) {
      continue;
    }
    if (wildcardMatcher.start() > 0) {
      String chunk=wildcard.substring(last,wildcardMatcher.start());
      BytesRef normalized=a.normalize(field,chunk);
      sb.append(normalized.utf8ToString());
    }
    sb.append(wildcardMatcher.group(2));
    last=wildcardMatcher.end();
  }
  if (last < wildcard.length()) {
    String chunk=wildcard.substring(last);
    BytesRef normalized=a.normalize(field,chunk);
    sb.append(normalized.utf8ToString());
  }
  return sb.toString();
}
