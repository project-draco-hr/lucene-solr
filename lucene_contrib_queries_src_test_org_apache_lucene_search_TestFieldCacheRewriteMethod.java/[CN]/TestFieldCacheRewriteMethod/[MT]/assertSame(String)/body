{
  RegexpQuery fieldCache=new RegexpQuery(new Term("field",regexp),RegExp.NONE);
  fieldCache.setRewriteMethod(new FieldCacheRewriteMethod());
  RegexpQuery filter=new RegexpQuery(new Term("field",regexp),RegExp.NONE);
  filter.setRewriteMethod(MultiTermQuery.CONSTANT_SCORE_FILTER_REWRITE);
  TopDocs fieldCacheDocs=searcher.search(fieldCache,25);
  TopDocs filterDocs=searcher.search(filter,25);
  CheckHits.checkEqual(fieldCache,fieldCacheDocs.scoreDocs,filterDocs.scoreDocs);
}
