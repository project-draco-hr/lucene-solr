{
  Level level=logger.getLevel();
  logger.setLevel(Level.DEBUG);
  logger.addAppender(appender);
  try {
    assertQ(req("q","*:*"));
    String output=writer.toString();
    Matcher matcher=Pattern.compile("DEBUG.*q=\\*:\\*.*").matcher(output);
    assertTrue(matcher.find());
    final String group=matcher.group();
    final String msg="Should not have post query information";
    assertFalse(msg,group.contains("hits"));
    assertFalse(msg,group.contains("status"));
    assertFalse(msg,group.contains("QTime"));
  }
  finally {
    logger.setLevel(level);
    logger.removeAppender(appender);
  }
}
