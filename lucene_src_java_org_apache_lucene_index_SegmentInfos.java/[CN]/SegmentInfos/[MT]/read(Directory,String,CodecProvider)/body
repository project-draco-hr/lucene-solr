{
  this.codecs=codecs;
  boolean success=false;
  this.clear();
  generation=generationFromSegmentsFileName(segmentFileName);
  lastGeneration=generation;
  try {
    SegmentInfosReader infosReader=codecs.getSegmentInfosReader();
    infosReader.read(directory,segmentFileName,codecs,this);
    success=true;
  }
  finally {
    if (!success) {
      this.clear();
    }
  }
}
