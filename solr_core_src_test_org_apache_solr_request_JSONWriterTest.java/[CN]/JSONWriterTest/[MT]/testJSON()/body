{
  SolrQueryRequest req=req("wt","json","json.nl","arrarr");
  SolrQueryResponse rsp=new SolrQueryResponse();
  JSONResponseWriter w=new JSONResponseWriter();
  StringWriter buf=new StringWriter();
  NamedList nl=new NamedList();
  nl.add("data1","he\u2028llo\u2029!");
  nl.add(null,42);
  rsp.add("nl",nl);
  rsp.add("byte",Byte.valueOf((byte)-3));
  rsp.add("short",Short.valueOf((short)-4));
  rsp.add("bytes","abc".getBytes("UTF-8"));
  w.write(buf,req,rsp);
  jsonEq("{\"nl\":[[\"data1\",\"he\\u2028llo\\u2029!\"],[null,42]],\"byte\":-3,\"short\":-4,\"bytes\":\"YWJj\"}",buf.toString());
  req.close();
}
