{
  final PositiveIntOutputs outputs=PositiveIntOutputs.getSingleton(true);
  final boolean willRewrite=random().nextBoolean();
  final Builder<Long> builder=new Builder<Long>(FST.INPUT_TYPE.BYTE1,0,0,true,true,Integer.MAX_VALUE,outputs,null,willRewrite);
  builder.add(Util.toIntsRef(new BytesRef("stat"),new IntsRef()),outputs.getNoOutput());
  builder.add(Util.toIntsRef(new BytesRef("station"),new IntsRef()),outputs.getNoOutput());
  final FST<Long> fst=builder.finish();
  StringWriter w=new StringWriter();
  Util.toDot(fst,w,false,false);
  w.close();
  final String expected;
  if (willRewrite) {
    expected="4 -> 3 [label=\"t\" style=\"bold\"";
  }
 else {
    expected="8 -> 6 [label=\"t\" style=\"bold\"";
  }
  assertTrue(w.toString().indexOf(expected) != -1);
}
