{
  assertBiDirectionalEncoding(strs("foo,bar","yak","zat"),"~foo\\,bar,~yak,~zat");
  assertBiDirectionalEncoding(strs("foo"),"~foo");
  assertBiDirectionalEncoding(strs(),"");
  assertBiDirectionalEncoding(strs(""),"~");
  assertBiDirectionalEncoding(strs((String)null),"^");
  assertBiDirectionalEncoding(strs("","foo","","",null,"bar"),"~,~foo,~,~,^,~bar");
}
