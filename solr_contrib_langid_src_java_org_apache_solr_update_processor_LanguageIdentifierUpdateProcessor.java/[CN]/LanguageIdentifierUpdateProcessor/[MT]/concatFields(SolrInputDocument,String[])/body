{
  StringBuffer sb=new StringBuffer();
  for (  String fieldName : inputFields) {
    log.debug("Appending field " + fieldName);
    if (doc.containsKey(fieldName)) {
      Object content=doc.getFieldValue(fieldName);
      if (content instanceof String) {
        sb.append((String)doc.getFieldValue(fieldName));
        sb.append(" ");
      }
 else {
        log.warn("Field " + fieldName + " not a String value, not including in detection");
      }
    }
  }
  return sb.toString();
}
