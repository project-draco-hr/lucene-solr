{
  String working=clause.trim();
  if (!isNamedParameterClause(working)) {
    throw new IllegalArgumentException(String.format(Locale.ROOT,"'%s' is not a proper named parameter clause",working));
  }
  int firstOpenEquals=findNextClear(working,0,'=');
  StreamExpressionNamedParameter namedParameter=new StreamExpressionNamedParameter(working.substring(0,firstOpenEquals).trim());
  String parameter=working.substring(firstOpenEquals + 1,working.length());
  if (isExpressionClause(parameter)) {
    namedParameter.setParameter(generateStreamExpression(parameter));
  }
 else {
    if (parameter.startsWith("\"") && parameter.endsWith("\"")) {
      parameter=parameter.substring(1,parameter.length() - 1).trim();
      if (0 == parameter.length()) {
        throw new IllegalArgumentException(String.format(Locale.ROOT,"'%s' is not a proper named parameter clause",working));
      }
    }
    namedParameter.setParameter(new StreamExpressionValue(parameter));
  }
  return namedParameter;
}
