{
  this.directory=directory;
  this.indexWriter=writer;
  this.similarityProvider=writer.getConfig().getSimilarityProvider();
  this.fieldInfos=fieldInfos;
  this.bufferedDeletes=bufferedDeletes;
  this.perThreadPool=indexerThreadPool;
  this.pendingDeletes=new SegmentDeletes();
  this.chain=chain;
  this.perThreadPool.initialize(this);
}
