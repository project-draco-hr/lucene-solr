{
  this.directory=directory;
  this.indexWriter=writer;
  this.similarity=writer.getConfig().getSimilarity();
  this.fieldInfos=fieldInfos;
  this.bufferedDeletes=bufferedDeletes;
  this.perThreadPool=indexerThreadPool;
  this.pendingDeletes=new SegmentDeletes();
  this.chain=chain;
  flushControl=writer.flushControl;
  this.perThreadPool.initialize(this);
}
