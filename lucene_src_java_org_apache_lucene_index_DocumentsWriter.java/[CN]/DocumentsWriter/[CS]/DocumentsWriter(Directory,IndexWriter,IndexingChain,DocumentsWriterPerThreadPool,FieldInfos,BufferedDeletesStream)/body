{
  this.directory=directory;
  this.indexWriter=writer;
  this.similarityProvider=writer.getConfig().getSimilarityProvider();
  this.bufferedDeletesStream=bufferedDeletesStream;
  this.perThreadPool=indexerThreadPool;
  this.chain=chain;
  this.perThreadPool.initialize(this,fieldInfos);
}
