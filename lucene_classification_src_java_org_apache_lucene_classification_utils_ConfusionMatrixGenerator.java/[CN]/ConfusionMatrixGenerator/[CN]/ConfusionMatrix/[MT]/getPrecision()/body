{
  double tp=0;
  double fp=-linearizedMatrix.size();
  for (  Map.Entry<String,Map<String,Long>> classification : linearizedMatrix.entrySet()) {
    String klass=classification.getKey();
    for (    Map.Entry<String,Long> entry : classification.getValue().entrySet()) {
      if (klass.equals(entry.getKey())) {
        tp+=entry.getValue();
      }
    }
    for (    Map<String,Long> values : linearizedMatrix.values()) {
      if (values.containsKey(klass)) {
        fp+=values.get(klass);
      }
    }
  }
  return tp + fp > 0 ? tp / (tp + fp) : 0;
}
