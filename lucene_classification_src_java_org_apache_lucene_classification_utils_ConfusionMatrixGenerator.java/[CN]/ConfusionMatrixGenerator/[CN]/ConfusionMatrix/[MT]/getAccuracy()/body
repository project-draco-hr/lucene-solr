{
  if (this.accuracy == -1) {
    double tp=0d;
    double tn=0d;
    double fp=0d;
    double fn=0d;
    for (    Map.Entry<String,Map<String,Long>> classification : linearizedMatrix.entrySet()) {
      String klass=classification.getKey();
      for (      Map.Entry<String,Long> entry : classification.getValue().entrySet()) {
        if (klass.equals(entry.getKey())) {
          tp+=entry.getValue();
        }
 else {
          fn+=entry.getValue();
        }
      }
      for (      Map<String,Long> values : linearizedMatrix.values()) {
        if (values.containsKey(klass)) {
          fp+=values.get(klass);
        }
 else {
          tn++;
        }
      }
    }
    this.accuracy=(tp + tn) / (fp + fn + tp+ tn);
  }
  return this.accuracy;
}
