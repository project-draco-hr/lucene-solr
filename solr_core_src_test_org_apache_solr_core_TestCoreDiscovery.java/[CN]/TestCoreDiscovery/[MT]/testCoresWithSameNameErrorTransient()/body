{
  setMeUp();
  addSolrXml();
  addCoreWithPropsDir("core1_1",makeCorePropFile("core1",true,false));
  addCoreWithPropsDir("core1_2",makeCorePropFile("core1",true,false));
  CoreContainer cc=null;
  try {
    cc=init();
  }
 catch (  SolrException se) {
    assertEquals("Should be returning proper error code of 500",500,se.code());
    assertTrue(se.getCause().getMessage().indexOf("More than one core defined for core named core1") != -1);
  }
 finally {
    if (cc != null) {
      cc.shutdown();
    }
  }
}
