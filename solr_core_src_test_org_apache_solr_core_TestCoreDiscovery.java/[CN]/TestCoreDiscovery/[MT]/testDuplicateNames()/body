{
  setMeUp();
  addCoreWithProps("core1",makeCorePropFile("core1",false,true));
  addCoreWithProps("core2",makeCorePropFile("core2",false,false,"name=core1"));
  CoreContainer cc=null;
  try {
    cc=init();
    fail("Should have thrown exception in testDuplicateNames");
  }
 catch (  SolrException se) {
    assertTrue("Should have seen an exception because two cores had the same name","Core  + desc.getName() + \" defined twice".indexOf(se.getMessage()) != -1);
    assertTrue("/core1 should have been mentioned in the message","/core1".indexOf(se.getMessage()) != -1);
    assertTrue("/core2 should have been mentioned in the message","/core2".indexOf(se.getMessage()) != -1);
  }
 finally {
    if (cc != null) {
      cc.shutdown();
    }
  }
}
