{
  long size=size();
  if (size == 0) {
    return null;
  }
 else   if (size >= 0) {
    try {
      TermsEnum iterator=iterator();
      iterator.seekExact(size - 1);
      return iterator.term();
    }
 catch (    UnsupportedOperationException e) {
    }
  }
  TermsEnum iterator=iterator();
  BytesRef v=iterator.next();
  if (v == null) {
    return v;
  }
  BytesRefBuilder scratch=new BytesRefBuilder();
  scratch.append((byte)0);
  while (true) {
    int low=0;
    int high=256;
    while (low != high) {
      int mid=(low + high) >>> 1;
      scratch.setByteAt(scratch.length() - 1,(byte)mid);
      if (iterator.seekCeil(scratch.get()) == TermsEnum.SeekStatus.END) {
        if (mid == 0) {
          scratch.setLength(scratch.length() - 1);
          return scratch.get();
        }
        high=mid;
      }
 else {
        if (low == mid) {
          break;
        }
        low=mid;
      }
    }
    scratch.setLength(scratch.length() + 1);
    scratch.grow(scratch.length());
  }
}
