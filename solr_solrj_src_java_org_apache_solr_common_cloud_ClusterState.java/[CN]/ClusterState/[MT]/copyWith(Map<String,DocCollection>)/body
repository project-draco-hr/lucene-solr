{
  ClusterState result=new ClusterState(zkClusterStateVersion,liveNodes,collectionStates,stateReader);
  for (  Entry<String,DocCollection> e : modified.entrySet()) {
    DocCollection c=e.getValue();
    if (c == null) {
      result.collectionStates.remove(e.getKey());
      continue;
    }
    result.collectionStates.put(c.getName(),c);
  }
  return result;
}
