{
  if (maxBufferedDocs != IndexWriterConfig.DISABLE_AUTO_FLUSH && maxBufferedDocs < 2) {
    throw new IllegalArgumentException("maxBufferedDocs must at least be 2 when enabled");
  }
  if (maxBufferedDocs == IndexWriterConfig.DISABLE_AUTO_FLUSH && ramBufferSizeMB == IndexWriterConfig.DISABLE_AUTO_FLUSH) {
    throw new IllegalArgumentException("at least one of ramBufferSize and maxBufferedDocs must be enabled");
  }
  this.maxBufferedDocs=maxBufferedDocs;
  return this;
}
