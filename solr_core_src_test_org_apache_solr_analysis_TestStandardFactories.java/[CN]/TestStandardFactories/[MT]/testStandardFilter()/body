{
  Reader reader=new StringReader("What's this thing do?");
  ClassicTokenizerFactory factory=new ClassicTokenizerFactory();
  factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  Map<String,String> args=Collections.emptyMap();
  factory.init(args);
  ClassicFilterFactory filterFactory=new ClassicFilterFactory();
  filterFactory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  filterFactory.init(args);
  Tokenizer tokenizer=factory.create(reader);
  TokenStream stream=filterFactory.create(tokenizer);
  assertTokenStreamContents(stream,new String[]{"What","this","thing","do"});
}
