{
  if (numThreadStatesActive < perThreads.length) {
    final ThreadState threadState=perThreads[numThreadStatesActive];
    threadState.lock();
    threadState.perThread.initialize();
    numThreadStatesActive++;
    return threadState;
  }
  return null;
}
