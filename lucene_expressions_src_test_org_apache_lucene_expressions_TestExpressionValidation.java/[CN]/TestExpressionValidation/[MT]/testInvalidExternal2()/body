{
  SimpleBindings bindings=new SimpleBindings();
  bindings.add(new SortField("valid",SortField.Type.INT));
  bindings.add("invalid",JavascriptCompiler.compile("valid + badreference"));
  try {
    bindings.validate();
    fail("didn't get expected exception");
  }
 catch (  IllegalArgumentException expected) {
    assertTrue(expected.getMessage().contains("Invalid reference"));
  }
}
