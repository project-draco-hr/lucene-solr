{
  boolean ok=false;
  String url="http://svn.apache.org/repos/asf/lucene/solr/trunk/";
  String txt=null;
  try {
    txt=IOUtils.toString(new URL(url).openStream());
  }
 catch (  Exception ex) {
    fail("this test only works if you have a network connection.");
    return;
  }
  Map<String,String[]> args=new HashMap<String,String[]>();
  args.put(SolrParams.STREAM_URL,new String[]{url});
  List<ContentStream> streams=new ArrayList<ContentStream>();
  parser.buildRequestFrom(new MultiMapSolrParams(args),streams);
  assertEquals(1,streams.size());
  assertEquals(txt,IOUtils.toString(streams.get(0).getStream()));
}
