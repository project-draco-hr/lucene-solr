{
  if (!(searcher instanceof SolrIndexSearcher)) {
    ConstantScoreQuery csq=new ConstantScoreQuery(q);
    csq.setBoost(this.getBoost());
    return csq.createWeight(searcher,needScores);
  }
  SolrIndexSearcher solrSearcher=(SolrIndexSearcher)searcher;
  DocSet docs=solrSearcher.getDocSet(q);
  ConstantScoreQuery csq=new ConstantScoreQuery(docs.getTopFilter());
  csq.setBoost(this.getBoost());
  return csq.createWeight(searcher,needScores);
}
