{
  BooleanQuery.setMaxClauseCount(3);
  final MultiTermQuery mtq=new TermRangeQuery("data","2","7",true,true);
  mtq.setRewriteMethod(method);
  try {
    multiSearcherDupls.rewrite(mtq);
    fail("Should throw BooleanQuery.TooManyClauses");
  }
 catch (  BooleanQuery.TooManyClauses e) {
    assertEquals("Should throw BooleanQuery.TooManyClauses with a stacktrace containing checkMaxClauseCount()","checkMaxClauseCount",e.getStackTrace()[0].getMethodName());
  }
}
