{
  dir=newDirectory();
  sdir1=newDirectory();
  sdir2=newDirectory();
  final RandomIndexWriter writer=new RandomIndexWriter(random,dir,new MockAnalyzer());
  final RandomIndexWriter swriter1=new RandomIndexWriter(random,sdir1,new MockAnalyzer());
  final RandomIndexWriter swriter2=new RandomIndexWriter(random,sdir2,new MockAnalyzer());
  for (int i=0; i < 10; i++) {
    Document doc=new Document();
    doc.add(newField("data",Integer.toString(i),Field.Store.NO,Field.Index.NOT_ANALYZED));
    writer.addDocument(doc);
    ((i % 2 == 0) ? swriter1 : swriter2).addDocument(doc);
  }
  writer.optimize();
  swriter1.optimize();
  swriter2.optimize();
  writer.close();
  swriter1.close();
  swriter2.close();
  reader=IndexReader.open(dir,true);
  searcher=newSearcher(reader);
  multiReader=new MultiReader(new IndexReader[]{IndexReader.open(sdir1,true),IndexReader.open(sdir2,true)},true);
  multiSearcher=newSearcher(multiReader);
  multiReaderDupls=new MultiReader(new IndexReader[]{IndexReader.open(sdir1,true),IndexReader.open(dir,true)},true);
  multiSearcherDupls=newSearcher(multiReaderDupls);
}
