{
  int fieldNumber=meta.readVInt();
  while (fieldNumber != -1) {
    FieldInfo info=infos.fieldInfo(fieldNumber);
    if (info == null) {
      throw new CorruptIndexException("Invalid field number: " + fieldNumber + " (resource="+ meta+ ")");
    }
 else     if (!info.hasNorms()) {
      throw new CorruptIndexException("Invalid field: " + info.name + " (resource="+ meta+ ")");
    }
    NormsEntry entry=new NormsEntry();
    entry.format=meta.readByte();
    entry.offset=meta.readLong();
switch (entry.format) {
case CONST_COMPRESSED:
case UNCOMPRESSED:
case TABLE_COMPRESSED:
case DELTA_COMPRESSED:
      break;
default :
    throw new CorruptIndexException("Unknown format: " + entry.format + ", input="+ meta);
}
norms.put(fieldNumber,entry);
fieldNumber=meta.readVInt();
}
}
