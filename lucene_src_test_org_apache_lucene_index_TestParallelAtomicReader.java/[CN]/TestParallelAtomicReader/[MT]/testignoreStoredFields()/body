{
  Directory dir1=getDir1(random);
  Directory dir2=getDir2(random);
  ParallelAtomicReader pr=new ParallelAtomicReader.Builder().add(SlowCompositeReaderWrapper.wrap(DirectoryReader.open(dir1)),false).add(SlowCompositeReaderWrapper.wrap(DirectoryReader.open(dir2)),true).build();
  assertEquals("v1",pr.document(0).get("f1"));
  assertEquals("v1",pr.document(0).get("f2"));
  assertNull(pr.document(0).get("f3"));
  assertNull(pr.document(0).get("f4"));
  pr.close();
  dir1.close();
  dir2.close();
}
