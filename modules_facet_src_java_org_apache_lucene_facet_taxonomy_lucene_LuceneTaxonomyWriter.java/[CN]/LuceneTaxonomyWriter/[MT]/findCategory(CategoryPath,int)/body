{
  int res=cache.get(categoryPath,prefixLen);
  if (res >= 0) {
    return res;
  }
  if (cacheIsComplete) {
    return -1;
  }
  cacheMisses++;
  if (perhapsFillCache()) {
    return cache.get(categoryPath,prefixLen);
  }
  if (reader == null) {
    reader=openReader();
  }
  Bits deletedDocs=MultiFields.getDeletedDocs(reader);
  DocsEnum docs=MultiFields.getTermDocsEnum(reader,deletedDocs,Consts.FULL,new BytesRef(categoryPath.toString(delimiter,prefixLen)));
  if (docs == null || docs.nextDoc() == DocIdSetIterator.NO_MORE_DOCS) {
    return -1;
  }
  addToCache(categoryPath,prefixLen,docs.docID());
  return docs.docID();
}
