{
  openLuceneIndex(directory,openMode);
  reader=null;
  parentStreamField=new Field(Consts.FIELD_PAYLOADS,parentStream);
  parentStreamField.setOmitNorms(true);
  fullPathField=new Field(Consts.FULL,"",Store.YES,Index.NOT_ANALYZED_NO_NORMS);
  fullPathField.setOmitTermFreqAndPositions(true);
  this.nextID=indexWriter.maxDoc();
  if (cache == null) {
    cache=defaultTaxonomyWriterCache();
  }
  this.cache=cache;
  if (nextID == 0) {
    cacheIsComplete=true;
    addCategory(new CategoryPath());
    refreshReader();
  }
 else {
    cacheIsComplete=false;
  }
  cacheMisses=0;
}
