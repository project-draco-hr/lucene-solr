{
  TreeMap<String,DocValues> values=new TreeMap<String,DocValues>();
  boolean success=false;
  try {
    for (    FieldInfo fieldInfo : fieldInfos) {
      if (canLoad(fieldInfo)) {
        final String field=fieldInfo.name;
        final String id=docValuesId(segment,fieldInfo.number);
        values.put(field,loadDocValues(docCount,dir,id,getDocValuesType(fieldInfo),context));
      }
    }
    success=true;
  }
  finally {
    if (!success) {
      try {
        closeInternal(values.values());
      }
 catch (      Throwable t) {
      }
    }
  }
  return values;
}
