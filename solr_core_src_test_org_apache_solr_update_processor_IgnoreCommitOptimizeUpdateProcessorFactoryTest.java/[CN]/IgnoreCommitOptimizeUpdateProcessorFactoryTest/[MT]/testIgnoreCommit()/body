{
  SolrQueryResponse rsp=processCommit("ignore-commit-from-client-403",false);
  assertNotNull("Sending a commit should have resulted in an exception in the response",rsp.getException());
  rsp=processCommit("ignore-commit-from-client-200",false);
  Exception shouldBeNull=rsp.getException();
  assertNull("Sending a commit should NOT have resulted in an exception in the response: " + shouldBeNull,shouldBeNull);
  rsp=processCommit("ignore-optimize-only-from-client-403",true);
  assertNotNull("Sending an optimize should have resulted in an exception in the response",rsp.getException());
  rsp=processCommit("ignore-commit-from-client-403",false,new Boolean(true));
  shouldBeNull=rsp.getException();
  assertNull("Sending a commit should NOT have resulted in an exception in the response: " + shouldBeNull,shouldBeNull);
}
