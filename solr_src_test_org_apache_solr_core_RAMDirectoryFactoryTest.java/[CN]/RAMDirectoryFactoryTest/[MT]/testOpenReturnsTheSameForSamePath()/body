{
  final Directory directory=new RAMDirectory();
  RAMDirectoryFactory factory=new RAMDirectoryFactory(){
    @Override Directory openNew(    String path) throws IOException {
      return directory;
    }
  }
;
  String path="/fake/path";
  Directory dir1=factory.open(path);
  Directory dir2=factory.open(path);
  assertEquals("RAMDirectoryFactory should not create new instance of RAMDirectory " + "every time open() is called for the same path",directory,dir1);
  assertEquals("RAMDirectoryFactory should not create new instance of RAMDirectory " + "every time open() is called for the same path",directory,dir2);
}
