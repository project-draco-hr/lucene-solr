{
  long timeToSet=System.nanoTime() + TimeUnit.NANOSECONDS.convert(reserveTime,TimeUnit.MILLISECONDS);
  for (; ; ) {
    Long previousTime=reserves.put(indexGen,timeToSet);
    if (previousTime == null || previousTime <= timeToSet)     break;
    timeToSet=previousTime;
  }
}
