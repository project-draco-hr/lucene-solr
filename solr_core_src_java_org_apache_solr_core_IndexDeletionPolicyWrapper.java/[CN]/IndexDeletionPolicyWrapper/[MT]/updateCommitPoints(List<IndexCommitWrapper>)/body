{
  Map<Long,IndexCommit> map=new ConcurrentHashMap<Long,IndexCommit>();
  for (  IndexCommitWrapper wrapper : list) {
    if (!wrapper.isDeleted())     map.put(wrapper.delegate.getGeneration(),wrapper.delegate);
  }
  solrVersionVsCommits=map;
  if (!list.isEmpty()) {
    latestCommit=((list.get(list.size() - 1)).delegate);
  }
}
