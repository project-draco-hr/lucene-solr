{
  super.init(context);
  user=getStringFromContext("user",null);
  password=getStringFromContext("password",null);
  host=getStringFromContext("host",null);
  protocol=getStringFromContext("protocol",null);
  folderNames=getStringFromContext("folders",null);
  if (host == null || protocol == null || user == null || password == null || folderNames == null)   throw new DataImportHandlerException(DataImportHandlerException.SEVERE,"'user|password|protocol|host|folders' are required attributes");
  recurse=getBoolFromContext("recurse",true);
  String excludes=getStringFromContext("exclude","");
  if (excludes != null && !excludes.trim().equals("")) {
    exclude=Arrays.asList(excludes.split(","));
  }
  String includes=getStringFromContext("include","");
  if (includes != null && !includes.trim().equals("")) {
    include=Arrays.asList(includes.split(","));
  }
  batchSize=getIntFromContext("batchSize",20);
  customFilter=getStringFromContext("customFilter","");
  String s=getStringFromContext("fetchMailsSince",null);
  if (s != null)   try {
    fetchMailsSince=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss",Locale.ROOT).parse(s);
  }
 catch (  ParseException e) {
    throw new DataImportHandlerException(DataImportHandlerException.SEVERE,"Invalid value for fetchMailSince: " + s,e);
  }
  fetchSize=getIntFromContext("fetchSize",32 * 1024);
  cTimeout=getIntFromContext("connectTimeout",30 * 1000);
  rTimeout=getIntFromContext("readTimeout",60 * 1000);
  processAttachment=getBoolFromContext(getStringFromContext("processAttachment",null) == null ? "processAttachement" : "processAttachment",true);
  tika=new Tika();
  logConfig();
}
