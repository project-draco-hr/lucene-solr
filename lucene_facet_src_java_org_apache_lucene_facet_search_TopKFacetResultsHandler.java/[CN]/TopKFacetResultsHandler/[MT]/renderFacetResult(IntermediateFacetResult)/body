{
  TopKFacetResult res=(TopKFacetResult)tmpResult;
  if (res != null) {
    Heap<FacetResultNode> heap=res.getHeap();
    FacetResultNode resNode=res.getFacetResultNode();
    if (resNode.subResults == FacetResultNode.EMPTY_SUB_RESULTS) {
      resNode.subResults=new ArrayList<FacetResultNode>();
    }
    for (int i=heap.size(); i > 0; i--) {
      resNode.subResults.add(0,heap.pop());
    }
  }
  return res;
}
