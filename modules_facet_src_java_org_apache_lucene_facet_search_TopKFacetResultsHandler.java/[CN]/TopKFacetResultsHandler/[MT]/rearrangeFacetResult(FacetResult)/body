{
  TopKFacetResult res=(TopKFacetResult)facetResult;
  Heap<FacetResultNode> heap=res.getHeap();
  heap.clear();
  MutableFacetResultNode topFrn=(MutableFacetResultNode)res.getFacetResultNode();
  for (  FacetResultNode frn : topFrn.getSubResults()) {
    heap.add(frn);
  }
  int size=heap.size();
  ArrayList<FacetResultNode> subResults=new ArrayList<FacetResultNode>(size);
  for (int i=heap.size(); i > 0; i--) {
    subResults.add(0,heap.pop());
  }
  topFrn.setSubResults(subResults);
  return res;
}
