{
  int offset=getNumStates();
  int stateOffset=getNumStates();
  states=ArrayUtil.grow(states,nextState + other.nextState);
  System.arraycopy(other.states,0,states,nextState,other.nextState);
  for (int i=0; i < other.nextState; i+=2) {
    if (states[nextState + i] != -1) {
      states[nextState + i]+=nextTransition;
    }
    int state=i / 2;
    if (other.isAccept(state)) {
      setAccept(stateOffset + state,true);
    }
  }
  nextState+=other.nextState;
  transitions=ArrayUtil.grow(transitions,nextTransition + other.nextTransition);
  System.arraycopy(other.transitions,0,transitions,nextTransition,other.nextTransition);
  for (int i=0; i < other.nextTransition; i+=3) {
    transitions[nextTransition + i]+=stateOffset;
  }
  nextTransition+=other.nextTransition;
  if (other.deterministic == false) {
    deterministic=false;
  }
}
