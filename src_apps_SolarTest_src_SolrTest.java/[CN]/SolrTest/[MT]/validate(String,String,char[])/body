{
  if (test == null || test.length() == 0)   return;
  Document document=null;
  try {
    document=builder.parse(new ByteArrayInputStream(new String(resp).getBytes("UTF-8")));
  }
 catch (  Exception e) {
    System.out.println("ERROR parsing '" + new String(resp) + "'");
    throw new RuntimeException(e);
  }
  String[] tests=test.split("%");
  for (  String xp : tests) {
    Boolean bool=false;
    xp=xp.trim();
    try {
      bool=(Boolean)xpath.evaluate(xp,document,XPathConstants.BOOLEAN);
    }
 catch (    Exception e) {
      System.out.println("##################ERROR EVALUATING XPATH '" + xp + "'");
      throw new RuntimeException(e);
    }
    if (!bool) {
      System.out.println("##################ERROR");
      System.out.println("req=" + req);
      System.out.println("xp=" + xp);
      throw new RuntimeException("test failed.");
    }
  }
}
