{
  TokenStream ts=a.tokenStream("dummy",new StringReader(input));
  final Token reusableToken=new Token();
  for (int i=0; i < output.length; i++) {
    Token nextToken=ts.next(reusableToken);
    assertNotNull(nextToken);
    assertEquals(nextToken.term(),output[i]);
    if (startOffsets != null)     assertEquals(nextToken.startOffset(),startOffsets[i]);
    if (endOffsets != null)     assertEquals(nextToken.endOffset(),endOffsets[i]);
    if (types != null)     assertEquals(nextToken.type(),types[i]);
  }
  assertNull(ts.next(reusableToken));
  ts.close();
}
