{
  TokenStream ts=a.tokenStream("dummy",new StringReader(input));
  TermAttribute termAtt=(TermAttribute)ts.getAttribute(TermAttribute.class);
  OffsetAttribute offsetAtt=(OffsetAttribute)ts.getAttribute(OffsetAttribute.class);
  TypeAttribute typeAtt=(TypeAttribute)ts.getAttribute(TypeAttribute.class);
  for (int i=0; i < output.length; i++) {
    assertTrue(ts.incrementToken());
    assertEquals(termAtt.term(),output[i]);
    if (startOffsets != null)     assertEquals(offsetAtt.startOffset(),startOffsets[i]);
    if (endOffsets != null)     assertEquals(offsetAtt.endOffset(),endOffsets[i]);
    if (types != null)     assertEquals(typeAtt.type(),types[i]);
  }
  assertFalse(ts.incrementToken());
  ts.close();
}
