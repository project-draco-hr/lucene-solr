{
  for (; i < n; ++i) {
    char c=s.charAt(i);
    if (c == '\\') {
      ++i;
      if (i < n) {
        c=s.charAt(i);
      }
 else {
        throw new SyntaxError("Unfinished escape at index " + i + " in facet interval "+ s);
      }
    }
 else     if (c == ',') {
      return i + 1;
    }
    sb.append(c);
  }
  return n;
}
