{
  Directory dir=newDirectory();
  RandomIndexWriter writer=new RandomIndexWriter(random(),dir);
  IndexReader reader=writer.getReader();
  writer.close();
  IndexSearcher searcher=newSearcher(reader);
  Query query=new TermQuery(new Term("none","none"));
  QueryWrapperFilter queryFilter=new QueryWrapperFilter(query);
  CachingWrapperFilter cachingFilter=new CachingWrapperFilter(queryFilter);
  searcher.search(query,cachingFilter,1);
  CachingWrapperFilter cachingFilter2=new CachingWrapperFilter(queryFilter);
  Filter[] chain=new Filter[2];
  chain[0]=cachingFilter;
  chain[1]=cachingFilter2;
  ChainedFilter cf=new ChainedFilter(chain);
  searcher.search(new MatchAllDocsQuery(),cf,1);
  reader.close();
  dir.close();
}
