{
  MergePolicy mp;
  if (random().nextBoolean()) {
    TieredMergePolicy tmp=newTieredMergePolicy(random());
    final int numSegs=_TestUtil.nextInt(random(),3,5);
    tmp.setSegmentsPerTier(numSegs);
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(random(),2,numSegs));
    mp=tmp;
  }
 else {
    LogMergePolicy lmp=newLogMergePolicy(random());
    lmp.setMergeFactor(_TestUtil.nextInt(random(),3,5));
    mp=lmp;
  }
  return new SortingMergePolicy(mp,sorter);
}
