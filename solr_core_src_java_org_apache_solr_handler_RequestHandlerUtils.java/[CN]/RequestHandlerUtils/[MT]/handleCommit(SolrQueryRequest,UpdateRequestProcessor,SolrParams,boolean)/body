{
  if (params == null) {
    params=new MapSolrParams(new HashMap<String,String>());
  }
  boolean optimize=params.getBool(UpdateParams.OPTIMIZE,false);
  boolean commit=params.getBool(UpdateParams.COMMIT,false);
  boolean softCommit=params.getBool(UpdateParams.SOFT_COMMIT,false);
  boolean prepareCommit=params.getBool(UpdateParams.PREPARE_COMMIT,false);
  if (optimize || commit || softCommit|| prepareCommit|| force) {
    CommitUpdateCommand cmd=new CommitUpdateCommand(req,optimize);
    updateCommit(cmd,params);
    processor.processCommit(cmd);
    return true;
  }
  return false;
}
