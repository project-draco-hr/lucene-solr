{
  int currentSize=0;
  long copyCost=0;
  while (currentSize != ArrayUtil.MAX_ARRAY_LENGTH) {
    int nextSize=ArrayUtil.oversize(1 + currentSize,RamUsageEstimator.NUM_BYTES_OBJECT_REF);
    assertTrue(nextSize > currentSize);
    if (currentSize > 0) {
      copyCost+=currentSize;
      double copyCostPerElement=((double)copyCost) / currentSize;
      assertTrue("cost " + copyCostPerElement,copyCostPerElement < 10.0);
    }
    currentSize=nextSize;
  }
}
