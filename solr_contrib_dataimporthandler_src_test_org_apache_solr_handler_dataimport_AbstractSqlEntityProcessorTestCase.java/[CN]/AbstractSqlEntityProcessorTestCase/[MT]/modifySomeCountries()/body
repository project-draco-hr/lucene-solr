{
  underlyingDataModified=true;
  int numberToChange=random().nextInt(countries.length + 1);
  Set<String> changeSet=new HashSet<String>();
  Connection conn=null;
  PreparedStatement change=null;
  Timestamp theTime=new Timestamp(System.currentTimeMillis() + 1000);
  try {
    conn=newConnection();
    change=conn.prepareStatement("update countries set country_name=?, last_modified=? where code=?");
    for (int i=0; i < numberToChange; i++) {
      int tryIndex=random().nextInt(countries.length);
      String code=countries[tryIndex][0];
      if (!changeSet.contains(code)) {
        changeSet.add(code);
        change.setString(1,"MODIFIED " + countries[tryIndex][1]);
        change.setTimestamp(2,theTime);
        change.setString(3,code);
        Assert.assertEquals(1,change.executeUpdate());
      }
    }
  }
 catch (  SQLException e) {
    throw e;
  }
 finally {
    try {
      change.close();
    }
 catch (    Exception ex) {
    }
    try {
      conn.close();
    }
 catch (    Exception ex) {
    }
  }
  return changeSet.toArray(new String[changeSet.size()]);
}
