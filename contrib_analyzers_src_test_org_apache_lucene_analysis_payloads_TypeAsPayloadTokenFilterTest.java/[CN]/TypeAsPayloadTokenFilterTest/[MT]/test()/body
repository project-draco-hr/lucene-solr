{
  String test="The quick red fox jumped over the lazy brown dogs";
  TypeAsPayloadTokenFilter nptf=new TypeAsPayloadTokenFilter(new WordTokenFilter(new WhitespaceTokenizer(new StringReader(test))));
  Token tok=new Token();
  int count=0;
  while ((tok=nptf.next(tok)) != null) {
    assertTrue(tok.type() + " is not null and it should be",tok.type().equals(String.valueOf(Character.toUpperCase(tok.termBuffer()[0]))));
    assertTrue("tok.getPayload() is null and it shouldn't be",tok.getPayload() != null);
    String type=new String(tok.getPayload().getData(),"UTF-8");
    assertTrue("type is null and it shouldn't be",type != null);
    assertTrue(type + " is not equal to " + tok.type(),type.equals(tok.type()) == true);
    count++;
  }
  assertTrue(count + " does not equal: " + 10,count == 10);
}
