{
  if (descr == null) {
    throw new RuntimeException("Can not register a null core.");
  }
  String name=descr.getName();
  if (name == null || name.length() < 1 || name.indexOf('/') >= 0 || name.indexOf('\\') >= 0) {
    throw new RuntimeException("Invalid core name: " + name);
  }
  CoreDescriptor old=null;
synchronized (cores) {
    old=cores.put(name,descr);
  }
  if (old == null) {
    log.info("registering core: " + name);
    return null;
  }
 else {
    log.info("replacing core: " + name);
    return old;
  }
}
