{
  super.setUp();
  log.info("####SETUP_START " + getName());
  ignoreException("ignore_exception");
  factoryProp=System.getProperty("solr.directoryFactory");
  if (factoryProp == null) {
    System.setProperty("solr.directoryFactory","solr.RAMDirectoryFactory");
  }
  dataDir=new File(TEMP_DIR,getClass().getName() + "-" + System.currentTimeMillis());
  dataDir.mkdirs();
  String configFile=getSolrConfigFile();
  System.setProperty("solr.solr.home",getSolrHome());
  if (configFile != null) {
    solrConfig=h.createConfig(getSolrConfigFile());
    h=new TestHarness(dataDir.getAbsolutePath(),solrConfig,getSchemaFile());
    lrf=h.getRequestFactory("standard",0,20,CommonParams.VERSION,"2.2");
  }
  log.info("####SETUP_END " + getName());
}
