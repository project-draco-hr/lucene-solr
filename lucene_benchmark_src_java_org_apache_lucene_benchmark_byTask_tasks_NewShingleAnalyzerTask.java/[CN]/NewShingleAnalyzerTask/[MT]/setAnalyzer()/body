{
  Analyzer wrappedAnalyzer=null;
  if (null == analyzerClassName || 0 == analyzerClassName.length()) {
    analyzerClassName="org.apache.lucene.analysis.standard.StandardAnalyzer";
  }
  if (-1 == analyzerClassName.indexOf(".")) {
    String coreClassName="org.apache.lucene.analysis.core." + analyzerClassName;
    try {
      wrappedAnalyzer=NewAnalyzerTask.createAnalyzer(coreClassName);
      analyzerClassName=coreClassName;
    }
 catch (    ClassNotFoundException e) {
      analyzerClassName="org.apache.lucene.analysis." + analyzerClassName;
      wrappedAnalyzer=NewAnalyzerTask.createAnalyzer(analyzerClassName);
    }
  }
 else {
    if (analyzerClassName.startsWith("standard.")) {
      analyzerClassName="org.apache.lucene.analysis." + analyzerClassName;
    }
    wrappedAnalyzer=NewAnalyzerTask.createAnalyzer(analyzerClassName);
  }
  ShingleAnalyzerWrapper analyzer=new ShingleAnalyzerWrapper(wrappedAnalyzer,ShingleFilter.DEFAULT_MIN_SHINGLE_SIZE,maxShingleSize,ShingleFilter.TOKEN_SEPARATOR,outputUnigrams,false);
  getRunData().setAnalyzer(analyzer);
}
