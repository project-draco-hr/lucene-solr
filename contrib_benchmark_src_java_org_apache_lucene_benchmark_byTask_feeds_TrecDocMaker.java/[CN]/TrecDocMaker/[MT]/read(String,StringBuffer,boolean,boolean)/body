{
  sb=(sb == null ? new StringBuffer() : sb);
  String sep="";
  while (true) {
    String line=reader.readLine();
    if (line == null) {
      openNextFile();
      continue;
    }
    if (line.startsWith(prefix)) {
      if (collectMatchLine) {
        sb.append(sep + line);
        sep=newline;
      }
      break;
    }
    if (collectAll) {
      sb.append(sep + line);
      sep=newline;
    }
  }
  return sb;
}
