{
  NamedList<NamedList<NamedList<Object>>> changed=new NamedList<NamedList<NamedList<Object>>>();
  for (int i=0; i < ref.size(); i++) {
    String category=ref.getName(i);
    NamedList<NamedList<Object>> ref_cat=ref.get(category);
    NamedList<NamedList<Object>> now_cat=now.get(category);
    if (now_cat != null) {
      String ref_txt=ref_cat + "";
      String now_txt=now_cat + "";
      if (!ref_txt.equals(now_txt)) {
        NamedList<NamedList<Object>> cat=new NamedList<NamedList<Object>>();
        for (int j=0; j < ref_cat.size(); j++) {
          String name=ref_cat.getName(j);
          NamedList<Object> ref_bean=ref_cat.get(name);
          NamedList<Object> now_bean=now_cat.get(name);
          ref_txt=ref_bean + "";
          now_txt=now_bean + "";
          if (!ref_txt.equals(now_txt)) {
            cat.add(name,diffNamedList(ref_bean,now_bean));
          }
        }
        if (cat.size() > 0) {
          changed.add(category,cat);
        }
      }
    }
  }
  return changed;
}
