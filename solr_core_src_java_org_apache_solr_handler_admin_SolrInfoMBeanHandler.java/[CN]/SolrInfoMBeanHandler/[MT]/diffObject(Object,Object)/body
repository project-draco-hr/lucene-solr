{
  if (ref instanceof NamedList) {
    return diffNamedList((NamedList)ref,(NamedList)now);
  }
  if (ref.equals(now)) {
    return ref;
  }
  StringBuilder str=new StringBuilder();
  str.append("Was: ").append(ref).append(", Now: ").append(now);
  if (ref instanceof Number) {
    NumberFormat nf=NumberFormat.getIntegerInstance();
    if ((ref instanceof Double) || (ref instanceof Float)) {
      nf=NumberFormat.getInstance();
    }
    double diff=((Number)now).doubleValue() - ((Number)ref).doubleValue();
    str.append(", Delta: ").append(nf.format(diff));
  }
  return str.toString();
}
