{
  NamedList<NamedList<NamedList<Object>>> cats=new NamedList<>();
  String[] requestedCats=req.getParams().getParams("cat");
  if (null == requestedCats || 0 == requestedCats.length) {
    for (    SolrInfoMBean.Category cat : SolrInfoMBean.Category.values()) {
      cats.add(cat.name(),new SimpleOrderedMap<NamedList<Object>>());
    }
  }
 else {
    for (    String catName : requestedCats) {
      cats.add(catName,new SimpleOrderedMap<NamedList<Object>>());
    }
  }
  Set<String> requestedKeys=arrayToSet(req.getParams().getParams("key"));
  Map<String,SolrInfoMBean> reg=req.getCore().getInfoRegistry();
  for (  Map.Entry<String,SolrInfoMBean> entry : reg.entrySet()) {
    addMBean(req,cats,requestedKeys,entry.getKey(),entry.getValue());
  }
  for (  SolrInfoMBean infoMBean : req.getCore().getCoreDescriptor().getCoreContainer().getResourceLoader().getInfoMBeans()) {
    addMBean(req,cats,requestedKeys,infoMBean.getName(),infoMBean);
  }
  return cats;
}
