{
  Rectangle bbox=shape.getBoundingBox();
  IndexableField[] fields=new IndexableField[store ? 6 : 5];
  fields[0]=finfo.createDouble(fieldInfo.minX,bbox.getMinX());
  fields[1]=finfo.createDouble(fieldInfo.maxX,bbox.getMaxX());
  fields[2]=finfo.createDouble(fieldInfo.minY,bbox.getMinY());
  fields[3]=finfo.createDouble(fieldInfo.maxY,bbox.getMaxY());
  FieldType ft=new FieldType();
  ft.setIndexed(index);
  ft.setStored(store);
  ft.setTokenized(false);
  ft.setOmitNorms(true);
  ft.setIndexOptions(IndexOptions.DOCS_ONLY);
  ft.freeze();
  Field xdl=new Field(fieldInfo.xdl,bbox.getCrossesDateLine() ? "T" : "F",ft);
  fields[4]=xdl;
  if (store) {
    FieldType ff=new FieldType();
    ff.setIndexed(false);
    ff.setStored(true);
    ff.setOmitNorms(true);
    ff.setIndexOptions(IndexOptions.DOCS_ONLY);
    ff.freeze();
    NumberFormat nf=NumberFormat.getInstance(Locale.US);
    nf.setMaximumFractionDigits(5);
    nf.setMinimumFractionDigits(5);
    nf.setGroupingUsed(false);
    String ext=nf.format(bbox.getMinX()) + ' ' + nf.format(bbox.getMinY())+ ' '+ nf.format(bbox.getMaxX())+ ' '+ nf.format(bbox.getMaxY())+ ' ';
    fields[5]=new Field(fieldInfo.bbox,ext,ff);
  }
  return fields;
}
