{
  Rectangle bbox=shape.getBoundingBox();
  IndexableField[] fields=new IndexableField[store ? 6 : 5];
  fields[0]=createDouble(field_minX,bbox.getMinX(),index,store);
  fields[1]=createDouble(field_maxX,bbox.getMaxX(),index,store);
  fields[2]=createDouble(field_minY,bbox.getMinY(),index,store);
  fields[3]=createDouble(field_maxY,bbox.getMaxY(),index,store);
  FieldType ft=new FieldType();
  ft.setIndexed(index);
  ft.setStored(store);
  ft.setTokenized(false);
  ft.setOmitNorms(true);
  ft.setIndexOptions(IndexOptions.DOCS_ONLY);
  ft.freeze();
  Field xdl=new Field(field_xdl,bbox.getCrossesDateLine() ? "T" : "F",ft);
  fields[4]=xdl;
  if (store) {
    FieldType ff=new FieldType();
    ff.setIndexed(false);
    ff.setStored(true);
    ff.setOmitNorms(true);
    ff.setIndexOptions(IndexOptions.DOCS_ONLY);
    ff.freeze();
    NumberFormat nf=NumberFormat.getInstance(Locale.US);
    nf.setMaximumFractionDigits(5);
    nf.setMinimumFractionDigits(5);
    nf.setGroupingUsed(false);
    String ext=nf.format(bbox.getMinX()) + ' ' + nf.format(bbox.getMinY())+ ' '+ nf.format(bbox.getMaxX())+ ' '+ nf.format(bbox.getMaxY())+ ' ';
    fields[5]=new Field(field_bbox,ext,ff);
  }
  return fields;
}
