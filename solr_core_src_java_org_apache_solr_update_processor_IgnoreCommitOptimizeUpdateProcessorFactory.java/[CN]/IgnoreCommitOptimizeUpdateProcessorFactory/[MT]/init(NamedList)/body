{
  SolrParams params=(args != null) ? SolrParams.toSolrParams(args) : null;
  if (params == null) {
    errorCode=ErrorCode.FORBIDDEN;
    responseMsg=DEFAULT_RESPONSE_MSG;
    ignoreOptimizeOnly=false;
    return;
  }
  ignoreOptimizeOnly=params.getBool("ignoreOptimizeOnly",false);
  int statusCode=params.getInt("statusCode",ErrorCode.FORBIDDEN.code);
  if (statusCode == 200) {
    errorCode=null;
    responseMsg=params.get("responseMessage");
  }
 else {
    errorCode=ErrorCode.getErrorCode(statusCode);
    if (errorCode == ErrorCode.UNKNOWN) {
      StringBuilder validCodes=new StringBuilder();
      int appended=0;
      for (      ErrorCode code : ErrorCode.values()) {
        if (code != ErrorCode.UNKNOWN) {
          if (appended++ > 0)           validCodes.append(", ");
          validCodes.append(code.code);
        }
      }
      throw new IllegalArgumentException("Configured status code " + statusCode + " not supported! Please choose one of: "+ validCodes.toString());
    }
    responseMsg=params.get("responseMessage",DEFAULT_RESPONSE_MSG);
  }
}
