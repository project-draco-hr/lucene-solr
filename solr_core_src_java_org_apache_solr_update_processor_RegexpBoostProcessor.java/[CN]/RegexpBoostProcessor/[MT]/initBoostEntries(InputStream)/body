{
  List<BoostEntry> newBoostEntries=new ArrayList<>();
  BufferedReader reader=new BufferedReader(new InputStreamReader(is,StandardCharsets.UTF_8));
  try {
    String line=null;
    while ((line=reader.readLine()) != null) {
      line=line.replaceAll("\\s+#.*$","");
      line=line.replaceAll("^#.*$","");
      if (line.trim().length() == 0) {
        continue;
      }
      String[] fields=line.split("\\s+");
      if (fields.length == 2) {
        String regexp=fields[0];
        String boost=fields[1];
        newBoostEntries.add(new BoostEntry(Pattern.compile(regexp),Double.parseDouble(boost)));
        log.debug("Read regexp " + regexp + " with boost "+ boost);
      }
 else {
        log.warn("Malformed config input line: " + line + " (expected 2 fields, got "+ fields.length+ " fields).  Skipping entry.");
        continue;
      }
    }
  }
  finally {
    IOUtils.closeQuietly(reader);
  }
  return newBoostEntries;
}
