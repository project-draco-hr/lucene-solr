{
  int maxPermits=Math.max(16,numHosts * 16);
  if (maxPermits != semaphore.getMaxPermits()) {
    semaphore.setMaxPermits(maxPermits);
  }
  completionService=new ExecutorCompletionService<Request>(executor);
  pending=new HashSet<Future<Request>>();
}
