{
  Request sreq=new Request();
  sreq.node=node;
  sreq.ureq=ureq;
  String url=node.getUrl();
  String fullUrl;
  if (!url.startsWith("http://") && !url.startsWith("https://")) {
    fullUrl="http://" + url;
  }
 else {
    fullUrl=url;
  }
  HttpSolrServer server=new HttpSolrServer(fullUrl,updateShardHandler.getHttpClient());
  try {
    sreq.ursp=server.request(ureq);
  }
 catch (  Exception e) {
    throw new SolrException(ErrorCode.SERVER_ERROR,"Failed synchronous update on shard " + sreq.node,sreq.exception);
  }
}
