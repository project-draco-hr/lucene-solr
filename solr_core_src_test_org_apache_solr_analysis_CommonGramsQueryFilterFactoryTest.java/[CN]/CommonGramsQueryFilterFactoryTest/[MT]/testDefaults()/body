{
  ResourceLoader loader=new SolrResourceLoader(null,null);
  assertTrue("loader is null and it shouldn't be",loader != null);
  CommonGramsQueryFilterFactory factory=new CommonGramsQueryFilterFactory();
  factory.setLuceneMatchVersion(DEFAULT_VERSION);
  factory.init(EMPTY_PARAMS);
  factory.inform(loader);
  CharArraySet words=factory.getCommonWords();
  assertTrue("words is null and it shouldn't be",words != null);
  assertTrue(words.contains("the"));
  Tokenizer tokenizer=new MockTokenizer(new StringReader("testing the factory"),MockTokenizer.WHITESPACE,false);
  TokenStream stream=factory.create(tokenizer);
  assertTokenStreamContents(stream,new String[]{"testing_the","the_factory"});
}
