{
  Map<String,Object> json=null;
  if (attempts >= 1) {
    try {
      json=getJson(httpClient,getUrl);
    }
 catch (    Exception exc) {
      if (--attempts > 0 && checkCommunicationError(exc)) {
        if (!isFirstAttempt)         log.warn("Request to " + getUrl + " failed due to: "+ exc.getMessage()+ ", sleeping for 5 seconds before re-trying the request ...");
        try {
          Thread.sleep(5000);
        }
 catch (        InterruptedException ie) {
          Thread.interrupted();
        }
        json=getJson(httpClient,getUrl,attempts,false);
      }
 else {
        throw exc;
      }
    }
  }
  return json;
}
