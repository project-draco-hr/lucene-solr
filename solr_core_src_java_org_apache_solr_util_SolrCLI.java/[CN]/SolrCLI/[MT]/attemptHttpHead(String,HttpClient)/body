{
  HttpResponse response=httpClient.execute(new HttpHead(url),HttpClientUtil.createNewHttpClientRequestContext());
  int code=response.getStatusLine().getStatusCode();
  if (code == UNAUTHORIZED.code || code == FORBIDDEN.code) {
    throw new SolrException(SolrException.ErrorCode.getErrorCode(code),"Solr requires authentication for " + url + ". Please supply valid credentials. HTTP code="+ code);
  }
  return code;
}
