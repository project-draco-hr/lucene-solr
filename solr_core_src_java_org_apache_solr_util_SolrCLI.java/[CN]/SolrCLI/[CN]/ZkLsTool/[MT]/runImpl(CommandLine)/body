{
  String zkHost=getZkHost(cli);
  if (zkHost == null) {
    throw new IllegalStateException("Solr at " + cli.getOptionValue("zkHost") + " is running in standalone server mode, 'zk rm' can only be used when running in SolrCloud mode.\n");
  }
  try (SolrZkClient zkClient=new SolrZkClient(zkHost,30000)){
    echo("\nConnecting to ZooKeeper at " + zkHost + " ...");
    String znode=cli.getOptionValue("path");
    Boolean recurse=Boolean.parseBoolean(cli.getOptionValue("recurse"));
    echo("Getting listing for Zookeeper node " + znode + " from ZooKeeper at "+ zkHost+ " recurse: "+ Boolean.toString(recurse));
    stdout.print(zkClient.listZnode(znode,recurse));
  }
 catch (  Exception e) {
    log.error("Could not complete rm operation for reason: " + e.getMessage());
    throw (e);
  }
}
