{
  String zkHost=getZkHost(cli);
  int toolExitStatus=0;
  CloudSolrClient cloudSolrServer=null;
  try {
    cloudSolrServer=new CloudSolrClient(zkHost);
    System.out.println("Connecting to ZooKeeper at " + zkHost);
    cloudSolrServer.connect();
    toolExitStatus=deleteCollection(cloudSolrServer,cli);
  }
 catch (  Exception exc) {
    String excMsg=exc.getMessage();
    if (excMsg != null) {
      System.err.println("\nERROR: " + excMsg + "\n");
      toolExitStatus=1;
    }
 else {
      throw exc;
    }
  }
 finally {
    if (cloudSolrServer != null) {
      try {
        cloudSolrServer.shutdown();
      }
 catch (      Exception ignore) {
      }
    }
  }
  return toolExitStatus;
}
