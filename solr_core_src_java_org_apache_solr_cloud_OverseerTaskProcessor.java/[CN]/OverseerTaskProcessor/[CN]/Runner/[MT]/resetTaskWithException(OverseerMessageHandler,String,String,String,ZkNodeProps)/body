{
  log.warn("Resetting task: {}, requestid: {}, taskKey: {}",id,asyncId,taskKey);
  try {
    if (asyncId != null) {
      if (!runningMap.remove(asyncId)) {
        log.warn("Could not find and remove async call [" + asyncId + "] from the running map.");
      }
    }
synchronized (runningTasks) {
      runningTasks.remove(id);
    }
    messageHandler.unmarkExclusiveTask(taskKey,operation,message);
  }
 catch (  KeeperException e) {
    SolrException.log(log,"",e);
  }
catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
}
