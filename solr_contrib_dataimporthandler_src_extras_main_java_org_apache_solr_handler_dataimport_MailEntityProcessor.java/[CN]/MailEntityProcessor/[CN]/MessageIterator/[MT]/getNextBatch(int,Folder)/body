{
  if (messagesInCurBatch != null) {
    for (    Message m : messagesInCurBatch) {
      if (m instanceof IMAPMessage)       ((IMAPMessage)m).invalidateHeaders();
    }
  }
  int lastMsg=(currentBatch + 1) * batchSize;
  lastMsg=lastMsg > totalInFolder ? totalInFolder : lastMsg;
  messagesInCurBatch=folder.getMessages(currentBatch * batchSize + 1,lastMsg);
  folder.fetch(messagesInCurBatch,fp);
  current=0;
  currentBatch++;
  LOG.info("Current Batch  : " + currentBatch);
  LOG.info("Messages in this batch  : " + messagesInCurBatch.length);
}
