{
  String userDict="# Custom segmentation for long entries\n" + "??????????????????,?????? ?????? ??????,????????? ???????????? ????????????,??????????????????\n" + "??????????????????,?????? ?????? ??????,???????????? ???????????? ????????????,???????????????\n"+ "# Custom reading for sumo wrestler\n"+ "?????????,?????????,????????????????????????,??????????????????\n";
  JapaneseTokenizerFactory factory=new JapaneseTokenizerFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("user-dictionary","userdict.txt");
  factory.init(args);
  factory.inform(new StringMockSolrResourceLoader(userDict));
  TokenStream ts=factory.create(new StringReader("??????????????????????????????"));
  assertTokenStreamContents(ts,new String[]{"??????","??????","??????","???","??????","???"});
}
