{
  for (  PluginInfo pluginInfo : core.getSolrConfig().getPluginInfos(SolrEventListener.class.getName())) {
    String event=pluginInfo.attributes.get("event");
    SolrEventListener listener=core.createEventListener(pluginInfo.className);
    listener.init(pluginInfo.initArgs);
    if ("postCommit".equals(event)) {
      commitCallbacks.add(listener);
      log.info("added SolrEventListener for postCommit: " + listener);
    }
 else     if ("postOptimize".equals(event)) {
      optimizeCallbacks.add(listener);
      log.info("added SolrEventListener for postOptimize: " + listener);
    }
  }
}
