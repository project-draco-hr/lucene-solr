{
  if (idField == null)   throw new SolrException(400,"Operation requires schema to have a unique key field");
  String id=doc.get(idField.getName());
  if (id == null)   throw new SolrException(400,"Document is missing uniqueKey field " + idField.getName());
  return id;
}
