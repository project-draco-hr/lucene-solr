{
  if (!minInclusive || !maxInclusive)   throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"Both sides of spatial range query must be inclusive: " + field.getName());
  Shape shape1=parseShape(part1);
  Shape shape2=parseShape(part2);
  if (!(shape1 instanceof Point) || !(shape2 instanceof Point))   throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"Both sides of spatial range query must be points: " + field.getName());
  Point p1=(Point)shape1;
  Point p2=(Point)shape2;
  Rectangle bbox=ctx.makeRectangle(p1,p2);
  SpatialArgs spatialArgs=new SpatialArgs(SpatialOperation.Intersects,bbox);
  return getQueryFromSpatialArgs(parser,field,spatialArgs);
}
