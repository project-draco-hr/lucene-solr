def checkIdenticalMavenArtifacts(distributionFiles, nonMavenizedDeps, artifacts):
    reJarWar = re.compile('\\.[wj]ar$')
    for project in ('lucene', 'solr'):
        distFilenames = dict()
        for file in distributionFiles[project]:
            distFilenames[os.path.basename(file)] = file
        for artifact in artifacts[project]:
            if reJarWar.search(artifact):
                if (artifact not in nonMavenizedDeps.keys()):
                    artifactFilename = os.path.basename(artifact)
                    if (artifactFilename not in distFilenames.keys()):
                        raise RuntimeError(('Maven artifact %s is not present in %s binary distribution' % (artifact, project)))
                    identical = filecmp.cmp(artifact, distFilenames[artifactFilename], shallow=False)
                    if (not identical):
                        raise RuntimeError(('Maven artifact %s is not identical to %s in %s binary distribution' % (artifact, distFilenames[artifactFilename], project)))
