def verifyDeployedPOMsCoordinates(artifacts, version):
    "\n  verify that each POM's coordinate (drawn from its content) matches\n  its filepath, and verify that the corresponding artifact exists.\n  "
    for project in ('lucene', 'solr'):
        for POM in [a for a in artifacts[project] if a.endswith('.pom')]:
            treeRoot = ET.parse(POM).getroot()
            (groupId, artifactId, packaging, POMversion) = getPOMcoordinate(treeRoot)
            POMpath = ('%s/%s/%s/%s-%s.pom' % (groupId.replace('.', '/'), artifactId, version, artifactId, version))
            if (not POM.endswith(POMpath)):
                raise RuntimeError(('Mismatch between POM coordinate %s:%s:%s and filepath: %s' % (groupId, artifactId, POMversion, POM)))
            artifact = (POM[:(-3)] + packaging)
            if (artifact not in artifacts[project]):
                raise RuntimeError(('Missing corresponding .%s artifact for POM %s' % (packaging, POM)))
