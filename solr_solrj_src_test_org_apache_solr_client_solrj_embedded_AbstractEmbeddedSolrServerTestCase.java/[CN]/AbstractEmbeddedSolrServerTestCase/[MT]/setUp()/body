{
  super.setUp();
  System.setProperty("solr.solr.home",SOLR_HOME.getAbsolutePath());
  System.setProperty("configSetBase",SolrTestCaseJ4.getFile("solrj/solr/configsets").getAbsolutePath());
  System.out.println("Solr home: " + SOLR_HOME.getAbsolutePath());
  tempDir=createTempDir().toFile();
  File dataDir=new File(tempDir,"data1");
  File dataDir2=new File(tempDir,"data2");
  System.setProperty("dataDir1",dataDir.getAbsolutePath());
  System.setProperty("dataDir2",dataDir2.getAbsolutePath());
  System.setProperty("tempDir",tempDir.getAbsolutePath());
  System.setProperty("tests.shardhandler.randomSeed",Long.toString(random().nextLong()));
  cores=CoreContainer.createAndLoad(SOLR_HOME.getAbsolutePath(),getSolrXml());
}
