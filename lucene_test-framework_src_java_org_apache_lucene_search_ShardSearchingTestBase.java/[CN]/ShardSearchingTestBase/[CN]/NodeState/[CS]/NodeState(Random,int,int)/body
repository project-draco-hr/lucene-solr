{
  myNodeID=nodeID;
  dir=newFSDirectory(TestUtil.getTempDir("ShardSearchingTestBase"));
  MockAnalyzer analyzer=new MockAnalyzer(random());
  analyzer.setMaxTokenLength(TestUtil.nextInt(random(),1,IndexWriter.MAX_TERM_LENGTH));
  IndexWriterConfig iwc=new IndexWriterConfig(TEST_VERSION_CURRENT,analyzer);
  iwc.setOpenMode(IndexWriterConfig.OpenMode.CREATE);
  if (VERBOSE) {
    iwc.setInfoStream(new PrintStreamInfoStream(System.out));
  }
  writer=new IndexWriter(dir,iwc);
  mgr=new SearcherManager(writer,true,null);
  searchers=new SearcherLifetimeManager();
  currentNodeVersions=new long[numNodes];
}
