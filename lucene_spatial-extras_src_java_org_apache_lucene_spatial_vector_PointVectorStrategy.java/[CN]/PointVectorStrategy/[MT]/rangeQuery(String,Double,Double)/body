{
  if (hasPointVals) {
    if (min == null) {
      min=Double.NEGATIVE_INFINITY;
    }
    if (max == null) {
      max=Double.POSITIVE_INFINITY;
    }
    return DoublePoint.newRangeQuery(fieldName,min,max);
  }
 else   if (legacyNumericFieldType != null) {
    return LegacyNumericRangeQuery.newDoubleRange(fieldName,legacyNumericFieldType.numericPrecisionStep(),min,max,true,true);
  }
  throw new UnsupportedOperationException("An index is required for this operation.");
}
