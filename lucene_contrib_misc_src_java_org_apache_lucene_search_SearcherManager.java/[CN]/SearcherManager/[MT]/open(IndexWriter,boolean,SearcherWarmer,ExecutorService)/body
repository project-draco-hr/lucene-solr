{
  final IndexReader open=IndexReader.open(writer,true);
  boolean success=false;
  try {
    SearcherManager manager=new NRTSearcherManager(writer,applyAllDeletes,open,warmer,es);
    success=true;
    return manager;
  }
  finally {
    if (!success) {
      open.close();
    }
  }
}
