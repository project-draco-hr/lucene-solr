{
  if (currentSearcher == null) {
    throw new AlreadyClosedException("this SearcherManager is closed");
  }
  if (!reopening.getAndSet(true)) {
    try {
      IndexReader newReader=currentSearcher.getIndexReader().reopen();
      if (newReader != currentSearcher.getIndexReader()) {
        IndexSearcher newSearcher=new IndexSearcher(newReader,es);
        if (warmer != null) {
          boolean success=false;
          try {
            warmer.warm(newSearcher);
            success=true;
          }
  finally {
            if (!success) {
              newReader.decRef();
            }
          }
        }
        swapSearcher(newSearcher);
        return true;
      }
 else {
        return false;
      }
    }
  finally {
      reopening.set(false);
    }
  }
 else {
    return false;
  }
}
