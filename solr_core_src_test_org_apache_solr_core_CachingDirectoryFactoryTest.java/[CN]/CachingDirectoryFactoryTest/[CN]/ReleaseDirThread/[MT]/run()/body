{
  random=random();
  while (!stop) {
    try {
      Thread.sleep(random.nextInt(50) + 1);
    }
 catch (    InterruptedException e1) {
      throw new RuntimeException(e1);
    }
    try {
synchronized (dirs) {
        int sz=dirs.size();
        List<Tracker> dirsList=new ArrayList<Tracker>();
        dirsList.addAll(dirs.values());
        if (sz > 0) {
          Tracker tracker=dirsList.get(Math.min(dirsList.size() - 1,random.nextInt(sz + 1)));
          if (tracker.refCnt.get() > 0) {
            if (random.nextBoolean()) {
              df.doneWithDirectory(tracker.dir);
            }
            if (random.nextBoolean()) {
              df.remove(tracker.dir);
            }
            if (random.nextBoolean()) {
              df.remove(tracker.path);
            }
            tracker.refCnt.decrementAndGet();
            df.release(tracker.dir);
          }
        }
      }
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
}
