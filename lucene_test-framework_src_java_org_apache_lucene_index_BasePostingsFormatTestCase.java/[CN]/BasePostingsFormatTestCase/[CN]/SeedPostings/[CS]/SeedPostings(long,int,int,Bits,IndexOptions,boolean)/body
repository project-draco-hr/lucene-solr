{
  random=new Random(seed);
  docRandom=new Random(random.nextLong());
  docFreq=_TestUtil.nextInt(random,minDocFreq,maxDocFreq);
  this.liveDocs=liveDocs;
  this.allowPayloads=allowPayloads;
  maxDocSpacing=_TestUtil.nextInt(random,1,100);
  if (random.nextInt(10) == 7) {
    payloadSize=1 + random.nextInt(3);
  }
 else {
    payloadSize=1 + random.nextInt(1);
  }
  fixedPayloads=random.nextBoolean();
  byte[] payloadBytes=new byte[payloadSize];
  payload=new BytesRef(payloadBytes);
  this.options=options;
  doPositions=IndexOptions.DOCS_AND_FREQS_AND_POSITIONS.compareTo(options) <= 0;
}
