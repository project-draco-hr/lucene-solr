{
  SolrConfig sc=new SolrConfig(new SolrResourceLoader("solr/collection1"),"solrconfig-defaults.xml",null);
  SolrIndexConfig sic=sc.indexConfig;
  assertEquals("default ramBufferSizeMB",100.0D,sic.ramBufferSizeMB,0.0D);
  assertEquals("default LockType",SolrIndexConfig.LOCK_TYPE_NATIVE,sic.lockType);
  assertEquals("default useCompoundFile",false,sic.useCompoundFile);
  IndexSchema indexSchema=IndexSchemaFactory.buildIndexSchema("schema.xml",solrConfig);
  IndexWriterConfig iwc=sic.toIndexWriterConfig(indexSchema);
  assertNotNull("null mp",iwc.getMergePolicy());
  assertTrue("mp is not TMP",iwc.getMergePolicy() instanceof TieredMergePolicy);
  assertNotNull("null ms",iwc.getMergeScheduler());
  assertTrue("ms is not CMS",iwc.getMergeScheduler() instanceof ConcurrentMergeScheduler);
}
