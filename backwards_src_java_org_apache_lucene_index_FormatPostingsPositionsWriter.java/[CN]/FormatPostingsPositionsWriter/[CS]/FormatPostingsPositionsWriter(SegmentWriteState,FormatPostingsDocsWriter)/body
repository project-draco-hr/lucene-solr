{
  this.parent=parent;
  omitTermFreqAndPositions=parent.omitTermFreqAndPositions;
  if (parent.parent.parent.fieldInfos.hasProx()) {
    final String fileName=IndexFileNames.segmentFileName(parent.parent.parent.segment,IndexFileNames.PROX_EXTENSION);
    state.flushedFiles.add(fileName);
    out=parent.parent.parent.dir.createOutput(fileName);
    parent.skipListWriter.setProxOutput(out);
  }
 else   out=null;
}
