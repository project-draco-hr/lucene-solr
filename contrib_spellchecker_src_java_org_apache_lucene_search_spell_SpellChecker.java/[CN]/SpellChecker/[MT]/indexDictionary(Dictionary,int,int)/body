{
  IndexWriter writer=new IndexWriter(spellIndex,new WhitespaceAnalyzer(),IndexWriter.MaxFieldLength.UNLIMITED);
  writer.setMergeFactor(mergeFactor);
  writer.setRAMBufferSizeMB(ramMB);
  Iterator iter=dict.getWordsIterator();
  while (iter.hasNext()) {
    String word=(String)iter.next();
    int len=word.length();
    if (len < 3) {
      continue;
    }
    if (this.exist(word)) {
      continue;
    }
    Document doc=createDocument(word,getMin(len),getMax(len));
    writer.addDocument(doc);
  }
  writer.optimize();
  writer.close();
  searcher.close();
  searcher=new IndexSearcher(this.spellIndex,true);
}
