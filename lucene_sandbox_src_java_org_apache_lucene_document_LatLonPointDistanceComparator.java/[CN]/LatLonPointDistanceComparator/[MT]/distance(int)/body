{
  currentDocs.setDocument(doc);
  int numValues=currentDocs.count();
  if (numValues == 0) {
    return missingValue;
  }
  double minValue=Double.POSITIVE_INFINITY;
  for (int i=0; i < numValues; i++) {
    long encoded=currentDocs.valueAt(i);
    double docLatitude=LatLonPoint.decodeLatitude((int)(encoded >> 32));
    double docLongitude=LatLonPoint.decodeLongitude((int)(encoded & 0xFFFFFFFF));
    minValue=Math.min(minValue,GeoDistanceUtils.haversin(latitude,longitude,docLatitude,docLongitude));
  }
  return minValue;
}
