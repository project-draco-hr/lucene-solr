{
  for (int i=0; i < 100; i++) {
    Polygon polygon=GeoTestUtil.nextPolygon();
    Rectangle box=Rectangle.fromPolygon(new Polygon[]{polygon});
    int minLat=LatLonPoint.encodeLatitude(box.minLat);
    int maxLat=LatLonPoint.encodeLatitude(box.maxLat);
    int minLon=LatLonPoint.encodeLongitude(box.minLon);
    int maxLon=LatLonPoint.encodeLongitude(box.maxLon);
    LatLonGrid grid=new LatLonGrid(minLat,maxLat,minLon,maxLon,polygon);
    for (int j=0; j < 10000; j++) {
      int lat=TestUtil.nextInt(random(),minLat,maxLat);
      int lon=TestUtil.nextInt(random(),minLon,maxLon);
      boolean expected=polygon.contains(LatLonPoint.decodeLatitude(lat),LatLonPoint.decodeLongitude(lon));
      boolean actual=grid.contains(lat,lon);
      assertEquals(expected,actual);
    }
  }
}
