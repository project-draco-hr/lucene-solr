{
  super.init(args);
  inputFactory=BaseXMLInputFactory.newInstance();
  Class<? extends UpdateRequestProcessor> clazz=null;
  String className=null;
  try {
    if (args != null) {
      className=(String)args.get(UPDATE_PROCESSOR_CLASS);
      if (className != null) {
        clazz=Config.findClass(className,new String[]{});
      }
    }
    if (clazz == null) {
      clazz=UpdateRequestProcessor.class;
    }
    processorConstructor=clazz.getConstructor(SolrQueryRequest.class);
  }
 catch (  Exception e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"error initializing processor class: " + className,e);
  }
  if (processorConstructor == null) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"invalid processor: " + clazz);
  }
}
