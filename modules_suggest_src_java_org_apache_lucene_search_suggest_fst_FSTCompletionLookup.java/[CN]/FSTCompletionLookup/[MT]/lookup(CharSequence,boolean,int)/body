{
  final List<Completion> completions;
  if (higherWeightsFirst) {
    completions=higherWeightsCompletion.lookup(key,num);
  }
 else {
    completions=normalCompletion.lookup(key,num);
  }
  final ArrayList<LookupResult> results=new ArrayList<LookupResult>(completions.size());
  CharsRef spare=new CharsRef();
  for (  Completion c : completions) {
    spare.grow(c.utf8.length);
    UnicodeUtil.UTF8toUTF16(c.utf8,spare);
    results.add(new LookupResult(spare.toString(),c.bucket));
  }
  return results;
}
