{
  if (filter == null)   return getDocSet(query);
  DocSet first;
  if (filterCache != null) {
    first=(DocSet)filterCache.get(query);
    if (first == null) {
      first=getDocSetNC(query,null);
      filterCache.put(query,first);
    }
    return first.intersection(filter);
  }
  return getDocSetNC(query,filter);
}
