{
  if (firstPhaseGroups.isEmpty()) {
    return new TopGroups<BytesRef>(groupSort.getSort(),sortWithinGroup.getSort(),0,0,new GroupDocs[0]);
  }
  TopGroups<BytesRef> result=secondPassCollector.getTopGroups(0);
  if (allGroupsCollector != null) {
    result=new TopGroups<BytesRef>(result,allGroupsCollector.getGroupCount());
  }
  return result;
}
