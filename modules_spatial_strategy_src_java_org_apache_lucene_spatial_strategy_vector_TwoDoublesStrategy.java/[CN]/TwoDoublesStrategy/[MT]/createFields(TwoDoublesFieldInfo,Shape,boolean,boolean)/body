{
  if (shape instanceof Point) {
    Point point=(Point)shape;
    IndexableField[] f=new IndexableField[(index ? 2 : 0) + (store ? 1 : 0)];
    if (index) {
      f[0]=finfo.createDouble(fieldInfo.getFieldNameX(),point.getX());
      f[1]=finfo.createDouble(fieldInfo.getFieldNameY(),point.getY());
    }
    if (store) {
      FieldType customType=new FieldType();
      customType.setStored(true);
      f[f.length - 1]=new Field(fieldInfo.getFieldName(),ctx.toString(shape),customType);
    }
    return f;
  }
  if (!ignoreIncompatibleGeometry) {
    throw new IllegalArgumentException("TwoDoublesStrategy can not index: " + shape);
  }
  return null;
}
