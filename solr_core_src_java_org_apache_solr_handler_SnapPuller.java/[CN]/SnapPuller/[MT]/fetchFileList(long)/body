{
  HttpPost post=new HttpPost(masterUrl);
  List<BasicNameValuePair> formparams=new ArrayList<BasicNameValuePair>();
  formparams.add(new BasicNameValuePair("wt","javabin"));
  formparams.add(new BasicNameValuePair(COMMAND,CMD_GET_FILE_LIST));
  formparams.add(new BasicNameValuePair(GENERATION,String.valueOf(gen)));
  UrlEncodedFormEntity entity=new UrlEncodedFormEntity(formparams,"UTF-8");
  post.setEntity(entity);
  @SuppressWarnings("unchecked") NamedList<List<Map<String,Object>>> nl=(NamedList<List<Map<String,Object>>>)getNamedListResponse(post);
  List<Map<String,Object>> f=nl.get(CMD_GET_FILE_LIST);
  if (f != null)   filesToDownload=Collections.synchronizedList(f);
 else {
    filesToDownload=Collections.emptyList();
    LOG.error("No files to download for index generation: " + gen);
  }
  f=nl.get(CONF_FILES);
  if (f != null)   confFilesToDownload=Collections.synchronizedList(f);
}
