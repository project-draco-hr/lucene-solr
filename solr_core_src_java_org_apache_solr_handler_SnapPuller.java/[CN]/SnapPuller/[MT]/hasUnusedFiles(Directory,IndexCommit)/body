{
  Set<String> currentFiles=new HashSet<>();
  String segmentsFileName=commit.getSegmentsFileName();
  SegmentInfos infos=SegmentInfos.readCommit(indexDir,segmentsFileName);
  for (  SegmentCommitInfo info : infos.asList()) {
    Set<String> files=info.info.files();
    currentFiles.addAll(files);
  }
  String[] allFiles=indexDir.listAll();
  for (  String file : allFiles) {
    if (!file.equals(segmentsFileName) && !currentFiles.contains(file)) {
      LOG.info("Found unused file: " + file);
      return true;
    }
  }
  return false;
}
