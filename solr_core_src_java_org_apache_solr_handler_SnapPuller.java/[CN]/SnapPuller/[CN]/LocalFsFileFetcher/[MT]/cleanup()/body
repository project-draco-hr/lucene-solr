{
  try {
    fileOutputStream.close();
  }
 catch (  Exception e) {
    LOG.error("Error closing the file stream: " + this.saveAs,e);
  }
  if (bytesDownloaded != size) {
    try {
      Files.delete(file.toPath());
    }
 catch (    SecurityException e) {
      LOG.error("Error deleting file in cleanup" + e.getMessage());
    }
catch (    Throwable other) {
    }
    if (!aborted)     throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unable to download " + fileName + " completely. Downloaded "+ bytesDownloaded+ "!="+ size);
  }
}
