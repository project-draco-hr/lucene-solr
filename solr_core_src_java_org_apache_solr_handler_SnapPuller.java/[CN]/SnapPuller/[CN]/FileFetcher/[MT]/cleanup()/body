{
  try {
    file.close();
  }
 catch (  Exception e) {
    LOG.error("Error closing file: {}",this.saveAs,e);
  }
  if (bytesDownloaded != size) {
    try {
      file.delete();
    }
 catch (    Exception e) {
      LOG.error("Error deleting file: {}",this.saveAs,e);
    }
    if (!aborted)     throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Unable to download " + fileName + " completely. Downloaded "+ bytesDownloaded+ "!="+ size);
  }
}
