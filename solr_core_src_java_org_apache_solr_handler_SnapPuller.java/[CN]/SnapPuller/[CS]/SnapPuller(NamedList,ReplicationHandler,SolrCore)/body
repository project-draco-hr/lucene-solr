{
  solrCore=sc;
  SolrParams params=SolrParams.toSolrParams(initArgs);
  masterUrl=(String)initArgs.get(MASTER_URL);
  if (masterUrl == null)   throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"'masterUrl' is required for a slave");
  this.replicationHandler=handler;
  pollIntervalStr=(String)initArgs.get(POLL_INTERVAL);
  pollInterval=readInterval(pollIntervalStr);
  String compress=(String)initArgs.get(COMPRESSION);
  useInternal=INTERNAL.equals(compress);
  useExternal=EXTERNAL.equals(compress);
  String connTimeout=(String)initArgs.get(HttpClientUtil.PROP_CONNECTION_TIMEOUT);
  String readTimeout=(String)initArgs.get(HttpClientUtil.PROP_SO_TIMEOUT);
  String httpBasicAuthUser=(String)initArgs.get(HttpClientUtil.PROP_BASIC_AUTH_USER);
  String httpBasicAuthPassword=(String)initArgs.get(HttpClientUtil.PROP_BASIC_AUTH_PASS);
  myHttpClient=createHttpClient(connTimeout,readTimeout,httpBasicAuthUser,httpBasicAuthPassword);
  if (pollInterval != null && pollInterval > 0) {
    startExecutorService();
  }
 else {
    LOG.info(" No value set for 'pollInterval'. Timer Task not started.");
  }
}
