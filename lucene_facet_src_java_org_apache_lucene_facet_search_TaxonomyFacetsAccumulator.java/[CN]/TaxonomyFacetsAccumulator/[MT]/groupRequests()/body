{
  if (searchParams.indexingParams.getAllCategoryListParams().size() == 1) {
    return Collections.singletonMap(searchParams.indexingParams.getCategoryListParams(null),searchParams.facetRequests);
  }
  HashMap<CategoryListParams,List<FacetRequest>> requestsPerCLP=new HashMap<CategoryListParams,List<FacetRequest>>();
  for (  FacetRequest fr : searchParams.facetRequests) {
    CategoryListParams clp=searchParams.indexingParams.getCategoryListParams(fr.categoryPath);
    List<FacetRequest> requests=requestsPerCLP.get(clp);
    if (requests == null) {
      requests=new ArrayList<FacetRequest>();
      requestsPerCLP.put(clp,requests);
    }
    requests.add(fr);
  }
  return requestsPerCLP;
}
