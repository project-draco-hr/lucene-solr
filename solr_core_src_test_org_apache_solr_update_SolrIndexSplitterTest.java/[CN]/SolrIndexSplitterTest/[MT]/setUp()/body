{
  super.setUp();
  clearIndex();
  assertU(commit());
  File tempDir=TestUtil.createTempDir(LuceneTestCase.getTestClass().getSimpleName());
  indexDir1=new File(tempDir,this.getClass().getName() + "_testSplit1");
  indexDir2=new File(tempDir,this.getClass().getName() + "_testSplit2");
  indexDir3=new File(tempDir,this.getClass().getName() + "_testSplit3");
  if (indexDir1.exists()) {
    FileUtils.deleteDirectory(indexDir1);
  }
  assertTrue("Failed to mkdirs indexDir1 for split index",indexDir1.mkdirs());
  if (indexDir2.exists()) {
    FileUtils.deleteDirectory(indexDir2);
  }
  assertTrue("Failed to mkdirs indexDir2 for split index",indexDir2.mkdirs());
  if (indexDir3.exists()) {
    FileUtils.deleteDirectory(indexDir3);
  }
  assertTrue("Failed to mkdirs indexDir3 for split index",indexDir3.mkdirs());
}
