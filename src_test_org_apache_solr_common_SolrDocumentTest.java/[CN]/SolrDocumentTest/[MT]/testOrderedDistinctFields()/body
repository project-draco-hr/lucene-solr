{
  List<String> c0=new ArrayList<String>();
  c0.add("aaa");
  c0.add("bbb");
  c0.add("aaa");
  c0.add("aaa");
  c0.add("ccc");
  SolrInputDocument doc=new SolrInputDocument();
  doc.setRemoveDuplicateFieldValues("f1",true);
  doc.setRemoveDuplicateFieldValues("f2",false);
  doc.addField("f1",c0,null);
  doc.addField("f2",c0,null);
  assertEquals(3,doc.getField("f1").getValueCount());
  assertEquals(5,doc.getField("f2").getValueCount());
  assertEquals("[aaa, bbb, ccc]",doc.getField("f1").getValues().toString());
  assertEquals("[aaa, bbb, aaa, aaa, ccc]",doc.getField("f2").getValues().toString());
}
