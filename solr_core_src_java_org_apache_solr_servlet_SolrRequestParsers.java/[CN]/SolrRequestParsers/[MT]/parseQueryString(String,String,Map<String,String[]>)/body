{
  if (queryString != null && queryString.length() > 0) {
    try {
      for (      String kv : queryString.split("&")) {
        int idx=kv.indexOf('=');
        if (idx >= 0) {
          String name=URLDecoder.decode(kv.substring(0,idx),charset);
          String value=URLDecoder.decode(kv.substring(idx + 1),charset);
          MultiMapSolrParams.addParam(name,value,map);
        }
 else {
          String name=URLDecoder.decode(kv,"UTF-8");
          MultiMapSolrParams.addParam(name,"",map);
        }
      }
    }
 catch (    UnsupportedEncodingException uex) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,uex);
    }
  }
}
