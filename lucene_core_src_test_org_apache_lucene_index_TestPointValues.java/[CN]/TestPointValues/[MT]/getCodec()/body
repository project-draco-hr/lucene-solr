{
  if (Codec.getDefault().getName().equals("Lucene60")) {
    int maxPointsInLeafNode=TestUtil.nextInt(random(),50,500);
    double maxMBSortInHeap=0.1 + (3 * random().nextDouble());
    if (VERBOSE) {
      System.out.println("TEST: using Lucene60PointFormat with maxPointsInLeafNode=" + maxPointsInLeafNode + " and maxMBSortInHeap="+ maxMBSortInHeap);
    }
    return new FilterCodec("Lucene60",Codec.getDefault()){
      @Override public PointFormat pointFormat(){
        return new PointFormat(){
          @Override public PointWriter fieldsWriter(          SegmentWriteState writeState) throws IOException {
            return new Lucene60PointWriter(writeState,maxPointsInLeafNode,maxMBSortInHeap);
          }
          @Override public PointReader fieldsReader(          SegmentReadState readState) throws IOException {
            return new Lucene60PointReader(readState);
          }
        }
;
      }
    }
;
  }
 else {
    return Codec.getDefault();
  }
}
