{
  index=new RAMDirectory();
  IndexWriter writer=new IndexWriter(index,new WhitespaceAnalyzer(),true);
  writer.setSimilarity(sim);
{
    Document d1=new Document();
    d1.add(Field.Keyword("id","d1"));
    d1.add(Field.Text("hed","elephant"));
    d1.add(Field.Text("dek","elephant"));
    writer.addDocument(d1);
  }
{
    Document d2=new Document();
    d2.add(Field.Keyword("id","d2"));
    d2.add(Field.Text("hed","elephant"));
    d2.add(Field.Text("dek","albino"));
    d2.add(Field.Text("dek","elephant"));
    writer.addDocument(d2);
  }
{
    Document d3=new Document();
    d3.add(Field.Keyword("id","d3"));
    d3.add(Field.Text("hed","albino"));
    d3.add(Field.Text("hed","elephant"));
    writer.addDocument(d3);
  }
{
    Document d4=new Document();
    d4.add(Field.Keyword("id","d4"));
    d4.add(Field.Text("hed","albino"));
    d4.add(Field.Text("hed","elephant"));
    d4.add(Field.Text("dek","albino"));
    writer.addDocument(d4);
  }
  writer.close();
  r=IndexReader.open(index);
  s=new IndexSearcher(r);
  s.setSimilarity(sim);
}
