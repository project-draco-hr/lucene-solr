{
  Reader reader=new StringReader("??????");
  UAX29URLEmailTokenizerFactory factory=new UAX29URLEmailTokenizerFactory();
  factory.setLuceneMatchVersion(DEFAULT_VERSION);
  factory.init(EMPTY_PARAMS);
  Tokenizer stream=factory.create(reader);
  assertTokenStreamContents(stream,new String[]{"??????"});
  reader=new StringReader("??????");
  factory=new UAX29URLEmailTokenizerFactory();
  factory.setLuceneMatchVersion(Version.LUCENE_31);
  factory.init(EMPTY_PARAMS);
  stream=factory.create(reader);
  assertTokenStreamContents(stream,new String[]{"???"});
}
