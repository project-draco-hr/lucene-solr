{
  if (fieldName != null) {
    this.fieldName=fieldName.intern();
  }
  Map terms=new PositionCheckingMap();
  this.cachedTokenFilter=cachingTokenFilter;
  try {
    extract(query,terms);
  }
  finally {
    closeReaders();
  }
  return terms;
}
