{
  this.fieldName=null;
  this.cachedTokenFilter=cachingTokenFilter;
  Map terms=new PositionCheckingMap();
  try {
    extract(query,terms);
  }
  finally {
    closeReaders();
  }
  return terms;
}
