{
  Map<String,Object> m=new HashMap<String,Object>();
  m.put("b","B");
  VariableResolver vr=new VariableResolver();
  vr.addNamespace("a",m);
  List<Object> l=(new Evaluator(){
    @Override public String evaluate(    String expression,    Context context){
      return null;
    }
  }
).parseParams(" 1 , a.b, 'hello!', 'ds,o,u\'za',",vr);
  assertEquals(new Double(1),l.get(0));
  assertEquals("B",((Evaluator.VariableWrapper)l.get(1)).resolve());
  assertEquals("hello!",l.get(2));
  assertEquals("ds,o,u'za",l.get(3));
}
