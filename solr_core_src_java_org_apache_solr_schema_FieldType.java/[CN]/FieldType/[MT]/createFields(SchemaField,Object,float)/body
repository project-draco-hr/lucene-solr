{
  IndexableField f=createField(field,value,boost);
  if (field.hasDocValues() && f.fieldType().docValuesType() == null) {
    throw new UnsupportedOperationException("This field type does not support doc values: " + this);
  }
  return f == null ? Collections.<IndexableField>emptyList() : Collections.singletonList(f);
}
