{
  if (field.hasDocValues() && !field.indexed()) {
    return DocValuesRangeQuery.newBytesRefRange(field.getName(),part1 == null ? null : new BytesRef(toInternal(part1)),part2 == null ? null : new BytesRef(toInternal(part2)),minInclusive,maxInclusive);
  }
 else {
    SolrRangeQuery rangeQuery=new SolrRangeQuery(field.getName(),part1 == null ? null : new BytesRef(toInternal(part1)),part2 == null ? null : new BytesRef(toInternal(part2)),minInclusive,maxInclusive);
    return rangeQuery;
  }
}
