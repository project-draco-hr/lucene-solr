{
  final int len=tp.getPayloadLength();
  if (payload == null) {
    payload=new BytesRef();
    payload.bytes=new byte[len];
  }
 else {
    if (payload.bytes.length < len) {
      payload.grow(len);
    }
  }
  payload.bytes=tp.getPayload(payload.bytes,0);
  payload.length=len;
  return payload;
}
