{
  this.writeLock.lock();
  try {
    if (LOG.isInfoEnabled())     LOG.info(" Buffering wrapper - " + wrapper.getOperation() + " ID: "+ wrapper.getEntryId()+ " FeedID: "+ wrapper.getFeedId());
    if (wrapper.getOperation().equals(StorageOperation.DELETE))     return;
    String feedId=wrapper.getFeedId();
    if (this.bufferMap.containsKey(feedId))     this.bufferMap.get(feedId).put(wrapper.getEntryId(),wrapper);
 else {
      Map<String,StorageEntryWrapper> newFeedMap=new HashMap<String,StorageEntryWrapper>(20);
      newFeedMap.put(wrapper.getEntryId(),wrapper);
      this.bufferMap.put(feedId,newFeedMap);
    }
    addLastModified(wrapper.getFeedId(),wrapper.getTimestamp());
    if (!this.excludeList.contains(wrapper.getEntryId()))     this.excludeList.add(wrapper.getEntryId());
  }
  finally {
    this.writeLock.unlock();
  }
}
