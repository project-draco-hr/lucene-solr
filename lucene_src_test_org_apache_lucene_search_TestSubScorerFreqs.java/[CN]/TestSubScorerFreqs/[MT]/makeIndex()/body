{
  dir=new RAMDirectory();
  RandomIndexWriter w=new RandomIndexWriter(random,dir,newIndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer()).setMergePolicy(newInOrderLogMergePolicy()));
  for (int i=0; i < 31 * RANDOM_MULTIPLIER; i++) {
    Document doc=new Document();
    doc.add(newField("f","a b c d b c d c d d",Field.Store.NO,Field.Index.ANALYZED));
    w.addDocument(doc);
    doc=new Document();
    doc.add(newField("f","a b c d",Field.Store.NO,Field.Index.ANALYZED));
    w.addDocument(doc);
  }
  s=newSearcher(w.getReader());
  w.close();
}
