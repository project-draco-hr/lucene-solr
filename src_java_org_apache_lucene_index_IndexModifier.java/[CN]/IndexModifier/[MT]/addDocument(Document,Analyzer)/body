{
synchronized (directory) {
    assureOpen();
    createIndexWriter();
    if (docAnalyzer != null)     indexWriter.addDocument(doc,docAnalyzer);
 else     indexWriter.addDocument(doc);
  }
}
