{
synchronized (directory) {
    assureOpen();
    if (indexWriter != null) {
      indexWriter.close();
      indexWriter=null;
      createIndexWriter();
    }
 else {
      indexReader.close();
      indexReader=null;
      createIndexReader();
    }
  }
}
