{
synchronized (directory) {
    assureOpen();
    createIndexWriter();
    return indexWriter.getUseCompoundFile();
  }
}
