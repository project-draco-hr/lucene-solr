{
  if (runAutomata == null && maxDistance <= LevenshteinAutomata.MAXIMUM_SUPPORTED_DISTANCE) {
    LevenshteinAutomata builder=new LevenshteinAutomata(UnicodeUtil.newString(termText,realPrefixLength,termText.length - realPrefixLength));
    final ByteRunAutomaton[] ra=new ByteRunAutomaton[maxDistance + 1];
    for (int i=0; i <= maxDistance; i++) {
      Automaton a=builder.toAutomaton(i);
      if (realPrefixLength > 0) {
        Automaton prefix=BasicAutomata.makeString(UnicodeUtil.newString(termText,0,realPrefixLength));
        a=BasicOperations.concatenate(prefix,a);
      }
      ra[i]=new ByteRunAutomaton(a);
    }
    runAutomata=Arrays.asList(ra);
  }
}
