{
  if (automata == null && maxDistance <= LevenshteinAutomata.MAXIMUM_SUPPORTED_DISTANCE) {
    LevenshteinAutomata builder=new LevenshteinAutomata(term.text().substring(realPrefixLength));
    automata=new ArrayList<Automaton>(maxDistance);
    runAutomata=new ArrayList<RunAutomaton>(maxDistance);
    for (int i=0; i <= maxDistance; i++) {
      Automaton a=builder.toAutomaton(i);
      if (realPrefixLength > 0) {
        Automaton prefix=BasicAutomata.makeString(term.text().substring(0,realPrefixLength));
        a=BasicOperations.concatenate(prefix,a);
      }
      automata.add(a);
      runAutomata.add(new RunAutomaton(a));
    }
  }
}
