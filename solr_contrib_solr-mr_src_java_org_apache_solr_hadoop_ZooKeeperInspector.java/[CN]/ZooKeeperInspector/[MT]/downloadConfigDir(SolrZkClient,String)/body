{
  File dir=Files.createTempDir();
  dir.deleteOnExit();
  ZkController.downloadConfigDir(zkClient,configName,dir);
  File confDir=new File(dir,"conf");
  if (!confDir.isDirectory()) {
    confDir=new File(Files.createTempDir().getAbsolutePath(),"conf");
    confDir.getParentFile().deleteOnExit();
    Files.move(dir,confDir);
    dir=confDir.getParentFile();
  }
  FileUtils.writeStringToFile(new File(dir,"solr.xml"),"<solr><cores><core name=\"collection1\" instanceDir=\".\" /></cores></solr>","UTF-8");
  return dir;
}
