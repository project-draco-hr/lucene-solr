{
  final DaciukMihovAutomatonBuilder builder=new DaciukMihovAutomatonBuilder();
  CharsRef scratch=new CharsRef();
  for (  BytesRef b : input) {
    UnicodeUtil.UTF8toUTF16(b,scratch);
    builder.add(scratch);
  }
  Automaton a=new Automaton();
  a.initial=convert(builder.complete(),new IdentityHashMap<State,org.apache.lucene.util.automaton.State>());
  a.deterministic=true;
  return a;
}
