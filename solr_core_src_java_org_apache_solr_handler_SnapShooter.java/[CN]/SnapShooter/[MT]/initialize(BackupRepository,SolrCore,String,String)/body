{
  this.solrCore=Preconditions.checkNotNull(core);
  this.backupRepo=Preconditions.checkNotNull(backupRepo);
  this.baseSnapDirPath=backupRepo.createURI(Preconditions.checkNotNull(location)).normalize();
  this.snapshotName=snapshotName;
  if (snapshotName != null) {
    directoryName="snapshot." + snapshotName;
  }
 else {
    SimpleDateFormat fmt=new SimpleDateFormat(DATE_FMT,Locale.ROOT);
    directoryName="snapshot." + fmt.format(new Date());
  }
  this.snapshotDirPath=backupRepo.createURI(location,directoryName);
}
