{
  snapShotDir=new File(snapDir,directoryName);
  if (snapShotDir.exists()) {
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"Snapshot directory already exists: " + snapShotDir.getAbsolutePath());
  }
  if (!snapShotDir.mkdirs()) {
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"Unable to create snapshot directory: " + snapShotDir.getAbsolutePath());
  }
}
