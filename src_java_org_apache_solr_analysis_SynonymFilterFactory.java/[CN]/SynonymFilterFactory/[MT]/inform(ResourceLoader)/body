{
  String synonyms=args.get("synonyms");
  boolean ignoreCase=getBoolean("ignoreCase",false);
  boolean expand=getBoolean("expand",true);
  String tf=args.get("tokenizerFactory");
  TokenizerFactory tokFactory=null;
  if (tf != null) {
    tokFactory=loadTokenizerFactory(loader,tf,args);
  }
  if (synonyms != null) {
    List<String> wlist=null;
    try {
      File synonymFile=new java.io.File(synonyms);
      if (synonymFile.exists()) {
        wlist=loader.getLines(synonyms);
      }
 else {
        List<String> files=StrUtils.splitFileNames(synonyms);
        for (        String file : files) {
          wlist=loader.getLines(file.trim());
        }
      }
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
    synMap=new SynonymMap(ignoreCase);
    parseRules(wlist,synMap,"=>",",",expand,tokFactory);
    if (wlist.size() <= 20) {
      SolrCore.log.fine("SynonymMap " + synonyms + ":"+ synMap);
    }
  }
}
