{
  for (  boolean reusing : new boolean[]{false,true}) {
    final FacetArrays arrays;
    if (reusing) {
      arrays=new ReusingFacetArrays(new ArraysPool(1,1));
    }
 else {
      arrays=new FacetArrays(1);
    }
    int[] intArray=arrays.getIntArray();
    intArray[0]=1;
    arrays.free();
    int[] newIntArray=arrays.getIntArray();
    assertEquals("Expected a cleared array back, but the array is still filled",0,newIntArray[0]);
    float[] floatArray=arrays.getFloatArray();
    floatArray[0]=1.0f;
    arrays.free();
    float[] newFloatArray=arrays.getFloatArray();
    assertEquals("Expected a cleared array back, but the array is still filled",0.0f,newFloatArray[0],0.0);
    if (reusing) {
      assertSame("ReusingFacetArrays did not reuse the array!",intArray,newIntArray);
      assertSame("ReusingFacetArrays did not reuse the array!",floatArray,newFloatArray);
    }
  }
}
