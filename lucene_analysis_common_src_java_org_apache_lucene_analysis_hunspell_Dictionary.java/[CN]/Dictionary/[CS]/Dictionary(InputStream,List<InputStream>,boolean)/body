{
  this.ignoreCase=ignoreCase;
  this.needsInputCleaning=ignoreCase;
  this.needsOutputCleaning=false;
  BufferedInputStream buffered=new BufferedInputStream(affix,65536);
  buffered.mark(65536);
  String encoding=getDictionaryEncoding(buffered);
  buffered.reset();
  CharsetDecoder decoder=getJavaEncoding(encoding);
  readAffixFile(buffered,decoder);
  flagLookup.add(new BytesRef());
  stripLookup.add(new BytesRef());
  IntSequenceOutputs o=IntSequenceOutputs.getSingleton();
  Builder<IntsRef> b=new Builder<IntsRef>(FST.INPUT_TYPE.BYTE4,o);
  readDictionaryFiles(dictionaries,decoder,b);
  words=b.finish();
}
