{
  int hash=0;
  int len=flags.length << 1;
  b.grow(len);
  b.length=len;
  int upto=b.offset;
  for (int i=0; i < flags.length; i++) {
    int flag=flags[i];
    hash=31 * hash + (b.bytes[upto++]=(byte)((flag >> 8) & 0xff));
    hash=31 * hash + (b.bytes[upto++]=(byte)(flag & 0xff));
  }
  return hash;
}
