{
  StringBuilder escaped=new StringBuilder();
  for (int i=0; i < re.length(); i++) {
    char c=re.charAt(i);
    if (c == '-') {
      escaped.append("\\-");
    }
 else {
      escaped.append(c);
      if (c == '\\' && i + 1 < re.length()) {
        escaped.append(re.charAt(i + 1));
        i++;
      }
    }
  }
  return escaped.toString();
}
