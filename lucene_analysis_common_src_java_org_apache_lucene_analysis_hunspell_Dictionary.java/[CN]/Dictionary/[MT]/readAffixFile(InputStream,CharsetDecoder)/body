{
  TreeMap<String,List<Character>> prefixes=new TreeMap<>();
  TreeMap<String,List<Character>> suffixes=new TreeMap<>();
  Map<String,Integer> seenPatterns=new HashMap<>();
  LineNumberReader reader=new LineNumberReader(new InputStreamReader(affixStream,decoder));
  String line=null;
  while ((line=reader.readLine()) != null) {
    if (line.startsWith(ALIAS_KEY)) {
      parseAlias(line);
    }
 else     if (line.startsWith(PREFIX_KEY)) {
      parseAffix(prefixes,line,reader,PREFIX_CONDITION_REGEX_PATTERN,seenPatterns);
    }
 else     if (line.startsWith(SUFFIX_KEY)) {
      parseAffix(suffixes,line,reader,SUFFIX_CONDITION_REGEX_PATTERN,seenPatterns);
    }
 else     if (line.startsWith(FLAG_KEY)) {
      flagParsingStrategy=getFlagParsingStrategy(line);
    }
  }
  this.prefixes=affixFST(prefixes);
  this.suffixes=affixFST(suffixes);
}
