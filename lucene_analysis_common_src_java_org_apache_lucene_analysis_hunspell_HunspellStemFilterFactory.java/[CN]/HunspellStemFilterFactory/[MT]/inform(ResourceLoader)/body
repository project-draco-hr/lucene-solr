{
  String dictionaryFiles[]=dictionaryArg.split(",");
  InputStream affix=null;
  List<InputStream> dictionaries=new ArrayList<InputStream>();
  try {
    dictionaries=new ArrayList<InputStream>();
    for (    String file : dictionaryFiles) {
      dictionaries.add(loader.openResource(file));
    }
    affix=loader.openResource(affixFile);
    this.dictionary=new HunspellDictionary(affix,dictionaries,luceneMatchVersion,ignoreCase,strictAffixParsing);
  }
 catch (  ParseException e) {
    throw new IOException("Unable to load hunspell data! [dictionary=" + dictionaryArg + ",affix="+ affixFile+ "]",e);
  }
 finally {
    IOUtils.closeWhileHandlingException(affix);
    IOUtils.closeWhileHandlingException(dictionaries);
  }
}
