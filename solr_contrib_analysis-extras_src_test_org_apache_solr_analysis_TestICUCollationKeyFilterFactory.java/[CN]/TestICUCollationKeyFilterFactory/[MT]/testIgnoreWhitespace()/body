{
  String withSpace="foo bar";
  String withoutSpace="foobar";
  String withPunctuation="foo-bar";
  ICUCollationKeyFilterFactory factory=new ICUCollationKeyFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("locale","en");
  args.put("strength","primary");
  args.put("alternate","shifted");
  args.put("variableTop"," ");
  factory.init(args);
  factory.inform(new StringMockSolrResourceLoader(""));
  TokenStream tsWithSpace=factory.create(new KeywordTokenizer(new StringReader(withSpace)));
  TokenStream tsWithoutSpace=factory.create(new KeywordTokenizer(new StringReader(withoutSpace)));
  assertCollatesToSame(tsWithSpace,tsWithoutSpace);
  tsWithSpace=factory.create(new KeywordTokenizer(new StringReader(withSpace)));
  TokenStream tsWithPunctuation=factory.create(new KeywordTokenizer(new StringReader(withPunctuation)));
  assertCollation(tsWithPunctuation,tsWithSpace,-1);
}
