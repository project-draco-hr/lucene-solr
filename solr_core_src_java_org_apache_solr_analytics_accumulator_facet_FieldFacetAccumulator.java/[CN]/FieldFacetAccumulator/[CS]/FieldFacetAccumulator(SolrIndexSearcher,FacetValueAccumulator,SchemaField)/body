{
  if (!schemaField.hasDocValues()) {
    throw new SolrException(ErrorCode.BAD_REQUEST,"Field '" + schemaField.getName() + "' does not have docValues");
  }
  this.searcher=searcher;
  this.schemaField=schemaField;
  this.name=schemaField.getName();
  if (!schemaField.hasDocValues()) {
    throw new IOException(name + " does not have docValues and therefore cannot be faceted over.");
  }
  this.multiValued=schemaField.multiValued();
  this.numField=schemaField.getType().getNumericType() != null;
  this.dateField=schemaField.getType().getClass().equals(TrieDateField.class);
  this.parent=parent;
  this.value=new BytesRef();
  this.parser=AnalyticsParsers.getParser(schemaField.getType().getClass());
}
