{
  TermVectorsReader reader=Codec.getDefault().termVectorsFormat().vectorsReader(dir,seg,fieldInfos,newIOContext(random()));
  for (int j=0; j < 5; j++) {
    Terms vector=reader.get(j).terms(testFields[0]);
    assertNotNull(vector);
    assertEquals(testTerms.length,vector.size());
    TermsEnum termsEnum=vector.iterator(null);
    for (int i=0; i < testTerms.length; i++) {
      final BytesRef text=termsEnum.next();
      assertNotNull(text);
      String term=text.utf8ToString();
      assertEquals(testTerms[i],term);
    }
    assertNull(termsEnum.next());
  }
  reader.close();
}
