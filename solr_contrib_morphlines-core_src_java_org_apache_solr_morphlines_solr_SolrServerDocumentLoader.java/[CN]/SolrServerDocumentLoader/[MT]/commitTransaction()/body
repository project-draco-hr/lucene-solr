{
  LOGGER.trace("commitTransaction");
  if (batch.size() > 0) {
    loadBatch();
  }
  if (numLoadedDocs > 0) {
    if (server instanceof ConcurrentUpdateSolrServer) {
      ((ConcurrentUpdateSolrServer)server).blockUntilFinished();
    }
  }
}
