{
  String collection=corename;
  ZkStateReader zkStateReader=cores.getZkController().getZkStateReader();
  CloudState cloudState=zkStateReader.getCloudState();
  Map<String,Slice> slices=cloudState.getSlices(collection);
  if (slices == null) {
    return null;
  }
  Set<Entry<String,Slice>> entries=slices.entrySet();
  done:   for (  Entry<String,Slice> entry : entries) {
    ZkNodeProps leaderProps=cloudState.getLeader(collection,entry.getKey());
    core=checkProps(cores,core,path,leaderProps);
    if (core != null) {
      break done;
    }
    Map<String,ZkNodeProps> shards=entry.getValue().getShards();
    Set<Entry<String,ZkNodeProps>> shardEntries=shards.entrySet();
    for (    Entry<String,ZkNodeProps> shardEntry : shardEntries) {
      ZkNodeProps zkProps=shardEntry.getValue();
      core=checkProps(cores,core,path,zkProps);
      if (core != null) {
        break done;
      }
    }
  }
  return core;
}
