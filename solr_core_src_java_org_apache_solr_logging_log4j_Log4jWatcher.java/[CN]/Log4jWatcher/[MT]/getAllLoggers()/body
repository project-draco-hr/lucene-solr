{
  org.apache.log4j.Logger root=org.apache.log4j.LogManager.getRootLogger();
  Map<String,LoggerInfo> map=new HashMap<String,LoggerInfo>();
  Enumeration<?> loggers=org.apache.log4j.LogManager.getCurrentLoggers();
  while (loggers.hasMoreElements()) {
    org.apache.log4j.Logger logger=(org.apache.log4j.Logger)loggers.nextElement();
    String name=logger.getName();
    if (logger == root) {
      continue;
    }
    map.put(name,new Log4jInfo(name,logger));
    while (true) {
      int dot=name.lastIndexOf(".");
      if (dot < 0)       break;
      name=name.substring(0,dot);
      if (!map.containsKey(name)) {
        map.put(name,new Log4jInfo(name,null));
      }
    }
  }
  map.put(LoggerInfo.ROOT_NAME,new Log4jInfo(LoggerInfo.ROOT_NAME,root));
  return map.values();
}
