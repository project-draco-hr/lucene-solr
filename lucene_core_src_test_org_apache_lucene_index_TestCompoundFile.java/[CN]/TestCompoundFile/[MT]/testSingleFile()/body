{
  int data[]=new int[]{0,1,10,100};
  for (int i=0; i < data.length; i++) {
    byte id[]=StringHelper.randomId();
    String name="t" + data[i];
    createSequenceFile(dir,name,(byte)0,data[i]);
    CompoundFileDirectory csw=new CompoundFileDirectory(id,dir,name + ".cfs",newIOContext(random()),true);
    dir.copy(csw,name,name,newIOContext(random()));
    csw.close();
    CompoundFileDirectory csr=new CompoundFileDirectory(id,dir,name + ".cfs",newIOContext(random()),false);
    IndexInput expected=dir.openInput(name,newIOContext(random()));
    IndexInput actual=csr.openInput(name,newIOContext(random()));
    assertSameStreams(name,expected,actual);
    assertSameSeekBehavior(name,expected,actual);
    expected.close();
    actual.close();
    csr.close();
  }
}
