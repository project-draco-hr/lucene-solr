{
  if (TermFirstPassGroupingCollector.class.isAssignableFrom(c.getClass())) {
    return ((TermFirstPassGroupingCollector)c).getTopGroups(groupOffset,fillFields);
  }
 else   if (FunctionFirstPassGroupingCollector.class.isAssignableFrom(c.getClass())) {
    Collection<SearchGroup<MutableValue>> mutableValueGroups=((FunctionFirstPassGroupingCollector)c).getTopGroups(groupOffset,fillFields);
    if (mutableValueGroups == null) {
      return null;
    }
    List<SearchGroup<BytesRef>> groups=new ArrayList<SearchGroup<BytesRef>>(mutableValueGroups.size());
    for (    SearchGroup<MutableValue> mutableValueGroup : mutableValueGroups) {
      SearchGroup<BytesRef> sg=new SearchGroup<BytesRef>();
      sg.groupValue=mutableValueGroup.groupValue.exists() ? ((MutableValueStr)mutableValueGroup.groupValue).value : null;
      sg.sortValues=mutableValueGroup.sortValues;
      groups.add(sg);
    }
    return groups;
  }
 else   if (DVFirstPassGroupingCollector.class.isAssignableFrom(c.getClass())) {
    @SuppressWarnings("unchecked") Collection<SearchGroup<BytesRef>> topGroups=((DVFirstPassGroupingCollector<BytesRef>)c).getTopGroups(groupOffset,fillFields);
    return topGroups;
  }
  fail();
  return null;
}
