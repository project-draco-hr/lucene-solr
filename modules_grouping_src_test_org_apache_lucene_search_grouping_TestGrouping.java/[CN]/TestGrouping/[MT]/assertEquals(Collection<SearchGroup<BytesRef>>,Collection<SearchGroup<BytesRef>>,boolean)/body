{
  assertEquals(groups1.size(),groups2.size());
  final Iterator<SearchGroup<BytesRef>> iter1=groups1.iterator();
  final Iterator<SearchGroup<BytesRef>> iter2=groups2.iterator();
  while (iter1.hasNext()) {
    assertTrue(iter2.hasNext());
    SearchGroup<BytesRef> group1=iter1.next();
    SearchGroup<BytesRef> group2=iter2.next();
    assertEquals(group1.groupValue,group2.groupValue);
    if (doSortValues) {
      assertEquals(group1.sortValues,group2.sortValues);
    }
  }
  assertFalse(iter2.hasNext());
}
