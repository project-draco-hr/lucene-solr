{
  SpatialContextFactory instance;
  String cname=args.get("spatialContextFactory");
  if (cname == null)   cname=System.getProperty("SpatialContextFactory");
  if (cname == null)   instance=new SimpleSpatialContextFactory();
 else {
    try {
      Class c=classLoader.loadClass(cname);
      instance=(SpatialContextFactory)c.newInstance();
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  instance.init(args,classLoader);
  return instance.newSpatialContext();
}
