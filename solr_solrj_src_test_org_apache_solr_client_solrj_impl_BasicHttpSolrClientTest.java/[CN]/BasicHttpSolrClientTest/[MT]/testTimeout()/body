{
  HttpSolrClient client=new HttpSolrClient(jetty.getBaseUrl().toString() + "/slow/foo");
  SolrQuery q=new SolrQuery("*:*");
  client.setSoTimeout(2000);
  try {
    QueryResponse response=client.query(q,METHOD.GET);
    fail("No exception thrown.");
  }
 catch (  SolrServerException e) {
    assertTrue(e.getMessage().contains("Timeout"));
  }
  client.shutdown();
}
