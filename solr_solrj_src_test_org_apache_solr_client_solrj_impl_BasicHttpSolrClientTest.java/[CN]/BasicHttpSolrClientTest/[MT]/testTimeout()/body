{
  SolrQuery q=new SolrQuery("*:*");
  try (HttpSolrClient client=new HttpSolrClient(jetty.getBaseUrl().toString() + "/slow/foo")){
    client.setSoTimeout(2000);
    QueryResponse response=client.query(q,METHOD.GET);
    fail("No exception thrown.");
  }
 catch (  SolrServerException e) {
    assertTrue(e.getMessage().contains("Timeout"));
  }
}
