{
  RAMDirectory store=new RAMDirectory();
  IndexWriter writer=new IndexWriter(store,new SimpleAnalyzer(Version.LUCENE_CURRENT),true,IndexWriter.MaxFieldLength.LIMITED);
  Document d1=new Document();
  d1.add(new Field("field","a b",Field.Store.YES,Field.Index.ANALYZED));
  writer.addDocument(d1);
  writer.optimize();
  writer.close();
  Searcher searcher=new IndexSearcher(store,true);
  QueryParser parser=new QueryParser(Version.LUCENE_CURRENT,"field",new SimpleAnalyzer(Version.LUCENE_CURRENT));
  Query query=parser.parse("a NOT b");
  ScoreDoc[] hits=searcher.search(query,null,1000).scoreDocs;
  assertEquals(0,hits.length);
}
