{
  RAMDirectory directory=new RAMDirectory();
  IndexWriter writer=new IndexWriter(directory,new WhitespaceAnalyzer(),true);
  Document d1=new Document();
  d1.add(new Field("default","one two",Field.Store.YES,Field.Index.TOKENIZED));
  writer.addDocument(d1);
  Document d2=new Document();
  d2.add(new Field("default","one three",Field.Store.YES,Field.Index.TOKENIZED));
  writer.addDocument(d2);
  Document d3=new Document();
  d3.add(new Field("default","two four",Field.Store.YES,Field.Index.TOKENIZED));
  writer.addDocument(d3);
  writer.close();
  IndexReader reader=new TestReader(IndexReader.open(directory));
  TermEnum terms=reader.terms();
  while (terms.next()) {
    assertTrue(terms.term().text().indexOf('e') != -1);
  }
  terms.close();
  TermPositions positions=reader.termPositions(new Term("default","one"));
  while (positions.next()) {
    assertTrue((positions.doc() % 2) == 1);
  }
  reader.close();
}
