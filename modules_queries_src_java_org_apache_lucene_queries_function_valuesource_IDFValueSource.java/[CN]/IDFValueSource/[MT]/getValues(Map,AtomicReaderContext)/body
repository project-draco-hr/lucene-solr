{
  IndexSearcher searcher=(IndexSearcher)context.get("searcher");
  Similarity sim=searcher.getSimilarityProvider().get(field);
  if (!(sim instanceof TFIDFSimilarity)) {
    throw new UnsupportedOperationException("requires a TFIDFSimilarity (such as DefaultSimilarity)");
  }
  int docfreq=searcher.getIndexReader().docFreq(new Term(indexedField,indexedBytes));
  float idf=((TFIDFSimilarity)sim).idf(docfreq,searcher.getIndexReader().maxDoc());
  return new ConstDoubleDocValues(idf,this);
}
