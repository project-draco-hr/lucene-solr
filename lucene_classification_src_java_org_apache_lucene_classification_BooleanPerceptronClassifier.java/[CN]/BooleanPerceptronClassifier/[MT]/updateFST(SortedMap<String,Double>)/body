{
  PositiveIntOutputs outputs=PositiveIntOutputs.getSingleton();
  Builder<Long> fstBuilder=new Builder<>(FST.INPUT_TYPE.BYTE1,outputs);
  BytesRefBuilder scratchBytes=new BytesRefBuilder();
  IntsRefBuilder scratchInts=new IntsRefBuilder();
  for (  Map.Entry<String,Double> entry : weights.entrySet()) {
    scratchBytes.copyChars(entry.getKey());
    fstBuilder.add(Util.toIntsRef(scratchBytes.get(),scratchInts),entry.getValue().longValue());
  }
  fst=fstBuilder.finish();
}
