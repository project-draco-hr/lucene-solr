{
  Properties orig=new Properties();
  orig.load(new StringReader(SOLR_PROPERTIES));
  Properties curr=cc.getContainerProperties();
  Properties persisted=new Properties();
  persisted.load(new FileInputStream(new File(solrHomeDirectory,SolrProperties.SOLR_PROPERTIES_FILE)));
  assertEquals("Persisted and original should be the same size",orig.size(),persisted.size());
  for (  String prop : orig.stringPropertyNames()) {
    assertEquals("Values of original should match current",orig.getProperty(prop),persisted.getProperty(prop));
  }
  Properties specialProps=new Properties();
  for (  String special : checkMemPairs) {
    String[] pair=special.split("=");
    specialProps.put(pair[0],pair[1]);
  }
  for (  String prop : curr.stringPropertyNames()) {
    String val=specialProps.getProperty(prop);
    if (val != null) {
      assertEquals("Modified property should be in current container properties",val,curr.getProperty(prop));
    }
  }
}
