{
  Set stopWordsSet=new HashSet();
  stopWordsSet.add("good");
  stopWordsSet.add("test");
  stopWordsSet.add("analyzer");
  StopAnalyzer newStop=new StopAnalyzer((String[])stopWordsSet.toArray(new String[3]));
  StringReader reader=new StringReader("This is a good test of the english stop analyzer");
  TokenStream stream=newStop.tokenStream("test",reader);
  assertNotNull(stream);
  final Token reusableToken=new Token();
  for (Token nextToken=stream.next(reusableToken); nextToken != null; nextToken=stream.next(reusableToken)) {
    String text=nextToken.term();
    assertFalse(stopWordsSet.contains(text));
    assertEquals(1,nextToken.getPositionIncrement());
  }
}
