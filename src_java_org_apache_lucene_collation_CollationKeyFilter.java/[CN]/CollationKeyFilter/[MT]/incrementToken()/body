{
  if (input.incrementToken()) {
    char[] termBuffer=termAtt.termBuffer();
    String termText=new String(termBuffer,0,termAtt.termLength());
    byte[] collationKey=collator.getCollationKey(termText).toByteArray();
    int encodedLength=IndexableBinaryStringTools.getEncodedLength(collationKey,0,collationKey.length);
    if (encodedLength > termBuffer.length) {
      termAtt.resizeTermBuffer(encodedLength);
    }
    termAtt.setTermLength(encodedLength);
    IndexableBinaryStringTools.encode(collationKey,0,collationKey.length,termAtt.termBuffer(),0,encodedLength);
    return true;
  }
 else {
    return false;
  }
}
