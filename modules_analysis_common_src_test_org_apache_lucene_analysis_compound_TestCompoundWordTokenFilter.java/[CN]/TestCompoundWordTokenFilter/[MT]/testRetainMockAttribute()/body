{
  CharArraySet dict=makeDictionary("abc","d","efg");
  Tokenizer tokenizer=new WhitespaceTokenizer(TEST_VERSION_CURRENT,new StringReader("abcdefg"));
  TokenStream stream=new MockRetainAttributeFilter(tokenizer);
  stream=new DictionaryCompoundWordTokenFilter(TEST_VERSION_CURRENT,stream,dict,CompoundWordTokenFilterBase.DEFAULT_MIN_WORD_SIZE,CompoundWordTokenFilterBase.DEFAULT_MIN_SUBWORD_SIZE,CompoundWordTokenFilterBase.DEFAULT_MAX_SUBWORD_SIZE,false);
  MockRetainAttribute retAtt=stream.addAttribute(MockRetainAttribute.class);
  while (stream.incrementToken()) {
    assertTrue("Custom attribute value was lost",retAtt.getRetain());
  }
}
