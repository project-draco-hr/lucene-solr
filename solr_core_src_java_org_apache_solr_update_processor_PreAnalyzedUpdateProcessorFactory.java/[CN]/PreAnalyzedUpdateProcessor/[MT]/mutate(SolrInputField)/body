{
  SchemaField sf=schema.getFieldOrNull(src.getName());
  if (sf == null) {
    return null;
  }
  FieldType type=PreAnalyzedField.createFieldType(sf);
  if (type == null) {
    return null;
  }
  SolrInputField res=new SolrInputField(src.getName());
  res.setBoost(src.getBoost());
  for (  Object o : src) {
    if (o == null) {
      continue;
    }
    Field pre=(Field)parser.createField(sf,o,1.0f);
    if (pre != null) {
      res.addValue(pre,1.0f);
    }
 else {
      log.warn("Could not parse field {} - using original value as is: {}",src.getName(),o);
      res.addValue(o,1.0f);
    }
  }
  return res;
}
