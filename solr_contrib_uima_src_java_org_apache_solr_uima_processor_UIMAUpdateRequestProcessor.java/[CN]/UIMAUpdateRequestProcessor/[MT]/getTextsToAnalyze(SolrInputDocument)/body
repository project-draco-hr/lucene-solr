{
  String[] fieldsToAnalyze=solrUIMAConfiguration.getFieldsToAnalyze();
  boolean merge=solrUIMAConfiguration.isFieldsMerging();
  String[] textVals=null;
  if (merge) {
    StringBuilder unifiedText=new StringBuilder("");
    for (int i=0; i < fieldsToAnalyze.length; i++) {
      unifiedText.append(String.valueOf(solrInputDocument.getFieldValue(fieldsToAnalyze[i])));
    }
    textVals=new String[1];
    textVals[0]=unifiedText.toString();
  }
 else {
    textVals=new String[fieldsToAnalyze.length];
    for (int i=0; i < fieldsToAnalyze.length; i++) {
      textVals[i]=String.valueOf(solrInputDocument.getFieldValue(fieldsToAnalyze[i]));
    }
  }
  return textVals;
}
