{
  Class<? extends Analyzer> clazz=loader.findClass(cname,Analyzer.class);
  try {
    Analyzer analyzer=null;
    try {
      analyzer=clazz.getConstructor().newInstance();
    }
 catch (    NoSuchMethodException e) {
      analyzer=clazz.getConstructor(Version.class).newInstance(Version.LUCENE_CURRENT);
    }
    if (analyzer instanceof ResourceLoaderAware) {
      ((ResourceLoaderAware)analyzer).inform(loader);
    }
    return analyzer;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
