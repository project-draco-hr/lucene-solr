{
  int i=0;
  final Token reusableToken=new Token();
  for (Token nextToken=filter.next(reusableToken); i < tokensToCompare.length; nextToken=filter.next(reusableToken)) {
    if (null != nextToken) {
      final String termText=nextToken.term();
      final String goldText=tokensToCompare[i].term();
      assertEquals("Wrong termText",goldText,termText);
      assertEquals("Wrong positionIncrement for token \"" + termText + "\"",positionIncrements[i],nextToken.getPositionIncrement());
    }
 else {
      assertNull(tokensToCompare[i]);
    }
    i++;
  }
  return filter;
}
