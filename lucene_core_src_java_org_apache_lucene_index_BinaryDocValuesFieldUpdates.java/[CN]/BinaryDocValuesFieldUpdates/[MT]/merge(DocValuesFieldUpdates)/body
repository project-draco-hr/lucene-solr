{
  BinaryDocValuesFieldUpdates otherUpdates=(BinaryDocValuesFieldUpdates)other;
  if (otherUpdates.size > Integer.MAX_VALUE - size) {
    throw new IllegalStateException("cannot support more than Integer.MAX_VALUE doc/value entries; size=" + size + " other.size="+ otherUpdates.size);
  }
  final int newSize=size + otherUpdates.size;
  docs=docs.grow(newSize);
  offsets=offsets.grow(newSize);
  lengths=lengths.grow(newSize);
  for (int i=0; i < otherUpdates.size; i++) {
    int doc=(int)otherUpdates.docs.get(i);
    docs.set(size,doc);
    offsets.set(size,values.length() + otherUpdates.offsets.get(i));
    lengths.set(size,otherUpdates.lengths.get(i));
    ++size;
  }
  values.append(otherUpdates.values);
}
