{
  assertQueryEquals("[ a TO z]",null,"[a TO z]");
  assertTrue(((RangeQuery)getQuery("[ a TO z]",null)).getConstantScoreRewrite());
  QueryParser qp=new QueryParser("field",new SimpleAnalyzer());
  qp.setConstantScoreRewrite(false);
  assertFalse(((RangeQuery)qp.parse("[ a TO z]")).getConstantScoreRewrite());
  assertQueryEquals("[ a TO z ]",null,"[a TO z]");
  assertQueryEquals("{ a TO z}",null,"{a TO z}");
  assertQueryEquals("{ a TO z }",null,"{a TO z}");
  assertQueryEquals("{ a TO z }^2.0",null,"{a TO z}^2.0");
  assertQueryEquals("[ a TO z] OR bar",null,"[a TO z] bar");
  assertQueryEquals("[ a TO z] AND bar",null,"+[a TO z] +bar");
  assertQueryEquals("( bar blar { a TO z}) ",null,"bar blar {a TO z}");
  assertQueryEquals("gack ( bar blar { a TO z}) ",null,"gack (bar blar {a TO z})");
}
