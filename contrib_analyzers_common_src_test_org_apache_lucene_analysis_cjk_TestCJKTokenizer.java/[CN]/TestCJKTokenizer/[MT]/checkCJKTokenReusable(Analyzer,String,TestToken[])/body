{
  TokenStream ts=a.reusableTokenStream("dummy",new StringReader(str));
  TermAttribute termAtt=ts.getAttribute(TermAttribute.class);
  OffsetAttribute offsetAtt=ts.getAttribute(OffsetAttribute.class);
  TypeAttribute typeAtt=ts.getAttribute(TypeAttribute.class);
  for (int i=0; i < out_tokens.length; i++) {
    assertTrue(ts.incrementToken());
    assertEquals(termAtt.term(),out_tokens[i].termText);
    assertEquals(offsetAtt.startOffset(),out_tokens[i].start);
    assertEquals(offsetAtt.endOffset(),out_tokens[i].end);
    assertEquals(typeAtt.type(),out_tokens[i].type);
  }
  assertFalse(ts.incrementToken());
}
