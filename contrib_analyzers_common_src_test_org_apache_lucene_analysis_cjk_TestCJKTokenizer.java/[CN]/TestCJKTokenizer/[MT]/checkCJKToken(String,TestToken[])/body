{
  CJKTokenizer tokenizer=new CJKTokenizer(new StringReader(str));
  TermAttribute termAtt=(TermAttribute)tokenizer.getAttribute(TermAttribute.class);
  OffsetAttribute offsetAtt=(OffsetAttribute)tokenizer.getAttribute(OffsetAttribute.class);
  TypeAttribute typeAtt=(TypeAttribute)tokenizer.getAttribute(TypeAttribute.class);
  for (int i=0; i < out_tokens.length; i++) {
    assertTrue(tokenizer.incrementToken());
    assertEquals(termAtt.term(),out_tokens[i].termText);
    assertEquals(offsetAtt.startOffset(),out_tokens[i].start);
    assertEquals(offsetAtt.endOffset(),out_tokens[i].end);
    assertEquals(typeAtt.type(),out_tokens[i].type);
  }
  assertFalse(tokenizer.incrementToken());
}
