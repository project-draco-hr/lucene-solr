{
  if (tvx != null) {
    if (state.numDocsInStore > 0)     fill(state.numDocsInStore - docWriter.getDocStoreOffset());
    tvx.flush();
    tvd.flush();
    tvf.flush();
  }
  for (  final TermsHashConsumerPerField field : fieldsToFlush.values()) {
    TermVectorsTermsWriterPerField perField=(TermVectorsTermsWriterPerField)field;
    perField.termsHashPerField.reset();
    perField.shrinkHash();
  }
}
