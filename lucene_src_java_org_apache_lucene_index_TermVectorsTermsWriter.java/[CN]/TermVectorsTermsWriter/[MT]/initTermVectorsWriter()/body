{
  if (tvx == null) {
    final String segment=docWriter.getSegment();
    if (segment == null)     return;
    String idxName=IndexFileNames.segmentFileName(segment,"",IndexFileNames.VECTORS_INDEX_EXTENSION);
    String docName=IndexFileNames.segmentFileName(segment,"",IndexFileNames.VECTORS_DOCUMENTS_EXTENSION);
    String fldName=IndexFileNames.segmentFileName(segment,"",IndexFileNames.VECTORS_FIELDS_EXTENSION);
    tvx=docWriter.directory.createOutput(idxName);
    tvd=docWriter.directory.createOutput(docName);
    tvf=docWriter.directory.createOutput(fldName);
    tvx.writeInt(TermVectorsReader.FORMAT_CURRENT);
    tvd.writeInt(TermVectorsReader.FORMAT_CURRENT);
    tvf.writeInt(TermVectorsReader.FORMAT_CURRENT);
    lastDocID=0;
  }
}
