{
  try {
    final InputStream in=loader.getResourceAsStream(clazz.replace('.','/') + ".class");
    if (in == null) {
      throw new BuildException("Loading of class " + clazz + " failed: Not found");
    }
    try {
      return new ClassReader(in);
    }
  finally {
      in.close();
    }
  }
 catch (  IOException ioe) {
    throw new BuildException("Loading of class " + clazz + " failed.",ioe);
  }
}
