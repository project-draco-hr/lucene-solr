{
  this.reader=reader;
  final Set<Method> methods=new HashSet<Method>();
  final Set<String> fields=new HashSet<String>();
  reader.accept(new ClassVisitor(Opcodes.ASM4){
    @Override public MethodVisitor visitMethod(    int access,    String name,    String desc,    String signature,    String[] exceptions){
      final Method m=new Method(name,desc);
      methods.add(m);
      return null;
    }
    @Override public FieldVisitor visitField(    int access,    String name,    String desc,    String signature,    Object value){
      fields.add(name);
      return null;
    }
  }
,ClassReader.SKIP_CODE | ClassReader.SKIP_DEBUG | ClassReader.SKIP_FRAMES);
  this.methods=Collections.unmodifiableSet(methods);
  this.fields=Collections.unmodifiableSet(fields);
}
