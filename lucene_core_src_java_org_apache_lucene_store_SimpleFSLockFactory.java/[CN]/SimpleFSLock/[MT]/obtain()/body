{
  if (!lockDir.exists()) {
    if (!lockDir.mkdirs())     throw new IOException("Cannot create directory: " + lockDir.getAbsolutePath());
  }
 else   if (!lockDir.isDirectory()) {
    throw new IOException("Found regular file where directory expected: " + lockDir.getAbsolutePath());
  }
  try {
    return lockFile.createNewFile();
  }
 catch (  IOException ioe) {
    failureReason=ioe;
    return false;
  }
}
