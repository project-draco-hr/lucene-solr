{
  TokenStream stream=new WhitespaceTokenizer(Version.LUCENE_CURRENT,new StringReader("short toolong evenmuchlongertext a ab toolong foo"));
  LengthFilter filter=new LengthFilter(stream,2,6);
  TermAttribute termAtt=filter.getAttribute(TermAttribute.class);
  assertTrue(filter.incrementToken());
  assertEquals("short",termAtt.term());
  assertTrue(filter.incrementToken());
  assertEquals("ab",termAtt.term());
  assertTrue(filter.incrementToken());
  assertEquals("foo",termAtt.term());
  assertFalse(filter.incrementToken());
}
