{
  final Object coreKey=reader.getCoreCacheKey();
  WeakIdentityHashMap<Bits,SoftReference<DocIdSet>> innerCache=cache.get(coreKey);
  if (innerCache == null) {
    innerCache=new WeakIdentityHashMap<Bits,SoftReference<DocIdSet>>();
    cache.put(coreKey,innerCache);
  }
  final SoftReference<DocIdSet> innerRef=innerCache.get(acceptDocs);
  return innerRef == null ? null : innerRef.get();
}
