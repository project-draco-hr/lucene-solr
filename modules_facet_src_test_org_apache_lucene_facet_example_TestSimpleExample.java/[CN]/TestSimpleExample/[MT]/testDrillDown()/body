{
  ExampleResult res=new SimpleMain().runDrillDown();
  assertNotNull("Null result!",res);
  assertNotNull("Null facet result!",res.getFacetResults());
  assertEquals("Wrong number of results!",1,res.getFacetResults().size());
  FacetResult facetResult=res.getFacetResults().get(0);
  assertEquals("Wrong number of facets!",2,facetResult.getNumValidDescendants());
  Iterator<? extends FacetResultNode> resIterator=facetResult.getFacetResultNode().getSubResults().iterator();
  assertTrue("Too few results",resIterator.hasNext());
  assertEquals("wrong count for first result out of 2",1,(int)resIterator.next().getValue());
  assertTrue("Too few results",resIterator.hasNext());
  assertEquals("wrong count for second result out of 2",1,(int)resIterator.next().getValue());
  assertFalse("Too many results!",resIterator.hasNext());
}
