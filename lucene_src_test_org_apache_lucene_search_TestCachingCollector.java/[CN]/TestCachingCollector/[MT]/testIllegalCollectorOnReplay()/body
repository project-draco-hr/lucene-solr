{
  CachingCollector cc=new CachingCollector(new NoOpCollector(false),true,50 * ONE_BYTE);
  cc.setScorer(new MockScorer());
  for (int i=0; i < 10; i++)   cc.collect(i);
  cc.replay(new NoOpCollector(true));
  cc.replay(new NoOpCollector(false));
  cc=new CachingCollector(new NoOpCollector(true),true,50 * ONE_BYTE);
  cc.setScorer(new MockScorer());
  for (int i=0; i < 10; i++)   cc.collect(i);
  cc.replay(new NoOpCollector(true));
  try {
    cc.replay(new NoOpCollector(false));
    fail("should have failed if an in-order Collector was given to replay(), " + "while CachingCollector was initialized with out-of-order collection");
  }
 catch (  IllegalArgumentException e) {
  }
}
