{
  String testfile="data-elevation.xml";
  File f=new File(h.getCore().getDataDir(),testfile);
  writeFile(f,"aaa","A");
  QueryElevationComponent comp=(QueryElevationComponent)h.getCore().getSearchComponent("elevate");
  NamedList<String> args=new NamedList<String>();
  args.add(QueryElevationComponent.CONFIG_FILE,testfile);
  comp.init(args);
  comp.inform(h.getCore());
  SolrQueryRequest req=req();
  IndexReader reader=req.getSearcher().getIndexReader();
  Map<String,ElevationObj> map=comp.getElevationMap(reader,h.getCore());
  assertTrue(map.get("aaa").priority.containsKey(new BytesRef("A")));
  assertNull(map.get("bbb"));
  req.close();
  writeFile(f,"bbb","B");
  assertU(adoc("id","10000"));
  assertU(commit());
  req=req();
  reader=req.getSearcher().getIndexReader();
  map=comp.getElevationMap(reader,h.getCore());
  assertNull(map.get("aaa"));
  assertTrue(map.get("bbb").priority.containsKey(new BytesRef("B")));
  req.close();
}
