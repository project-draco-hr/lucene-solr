{
  Analyzer analyzer=new ShingleAnalyzerWrapper(new WhitespaceAnalyzer(TEST_VERSION_CURRENT),2);
  searcher=setUpSearcher(analyzer);
  PhraseQuery q=new PhraseQuery();
  TokenStream ts=analyzer.tokenStream("content",new StringReader("this sentence"));
  int j=-1;
  PositionIncrementAttribute posIncrAtt=ts.addAttribute(PositionIncrementAttribute.class);
  CharTermAttribute termAtt=ts.addAttribute(CharTermAttribute.class);
  while (ts.incrementToken()) {
    j+=posIncrAtt.getPositionIncrement();
    String termText=termAtt.toString();
    q.add(new Term("content",termText),j);
  }
  ScoreDoc[] hits=searcher.search(q,null,1000).scoreDocs;
  int[] ranks=new int[]{0};
  compareRanks(hits,ranks);
}
