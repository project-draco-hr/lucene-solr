{
  if (params == null) {
    throw new IllegalStateException("Value of params not set");
  }
  String field=(String)params.get(FIELD);
  String weightField=(String)params.get(WEIGHT_FIELD);
  String payloadField=(String)params.get(PAYLOAD_FIELD);
  if (field == null) {
    throw new IllegalArgumentException(FIELD + " is a mandatory parameter");
  }
  if (weightField == null) {
    throw new IllegalArgumentException(WEIGHT_FIELD + " is a mandatory parameter");
  }
  return new DocumentDictionary(searcher.getIndexReader(),field,weightField,payloadField);
}
