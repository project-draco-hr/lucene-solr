{
  if (info.getUseCompoundFile() && LuceneTestCase.PREFLEX_IMPERSONATION_IS_ACTIVE) {
    files.add(IndexFileNames.segmentFileName(info.name,"",IndexFileNames.COMPOUND_FILE_EXTENSION));
    String version=info.getVersion();
    if (version != null && StringHelper.getVersionComparator().compare("4.0",version) <= 0) {
      files.add(IndexFileNames.segmentFileName(info.name,"",IndexFileNames.COMPOUND_FILE_ENTRIES_EXTENSION));
    }
  }
 else {
    super.files(info,files);
  }
}
