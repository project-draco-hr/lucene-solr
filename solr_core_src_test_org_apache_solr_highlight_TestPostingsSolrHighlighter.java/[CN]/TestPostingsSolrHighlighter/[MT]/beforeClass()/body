{
  initCore("solrconfig-postingshighlight.xml","schema-postingshighlight.xml");
  SolrHighlighter highlighter=HighlightComponent.getHighlighter(h.getCore());
  assertTrue("wrong highlighter: " + highlighter.getClass(),highlighter instanceof PostingsSolrHighlighter);
  IndexSchema schema=h.getCore().getSchema();
  assertTrue(schema.getField("text").storeOffsetsWithPositions());
  assertTrue(schema.getField("text3").storeOffsetsWithPositions());
  assertFalse(schema.getField("text2").storeOffsetsWithPositions());
  assertU(adoc("text","document one","text2","document one","text3","crappy document","id","101"));
  assertU(adoc("text","second document","text2","second document","text3","crappier document","id","102"));
  assertU(commit());
}
