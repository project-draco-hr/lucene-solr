{
  if (shift < 32 || shift > 63) {
    throw new IllegalArgumentException("Illegal shift value, must be 32..63; got shift=" + shift);
  }
  int nChars=BUF_SIZE_LONG + 1;
  bytes.setLength(nChars);
  bytes.grow(nChars--);
  final int sigBits=64 - shift;
  bytes.setByteAt(BUF_SIZE_LONG,(byte)(sigBits));
  long sortableBits=hash;
  sortableBits>>>=shift;
  sortableBits<<=32 - sigBits;
  do {
    bytes.setByteAt(--nChars,(byte)(sortableBits));
    sortableBits>>>=8;
  }
 while (nChars > 0);
}
