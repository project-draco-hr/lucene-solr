{
  ensureOpen();
  IndexReader r2=IndexReader.openIfChanged(indexReader);
  if (r2 != null) {
    IndexReader oldreader=indexReader;
    indexReaderLock.writeLock().lock();
    indexReader=r2;
    indexReaderLock.writeLock().unlock();
    oldreader.close();
    parentArray.refresh(indexReader);
    Iterator<Entry<String,Integer>> i=getOrdinalCache.entrySet().iterator();
    while (i.hasNext()) {
      Entry<String,Integer> e=i.next();
      if (e.getValue().intValue() == INVALID_ORDINAL) {
        i.remove();
      }
    }
  }
}
