{
  assertQ("/schema/fields/newfield1?indent=on&wt=xml","count(/response/lst[@name='field']) = 0","/response/lst[@name='responseHeader']/int[@name='status'] = '404'","/response/lst[@name='error']/int[@name='code'] = '404'");
  assertQ("/schema/fields/newfield2?indent=on&wt=xml","count(/response/lst[@name='field']) = 0","/response/lst[@name='responseHeader']/int[@name='status'] = '404'","/response/lst[@name='error']/int[@name='code'] = '404'");
  assertJPost("/schema/fields","[{\"name\":\"newfield1\",\"type\":\"text\",\"stored\":\"false\"}," + " {\"name\":\"newfield2\",\"type\":\"text\",\"stored\":\"false\"}]","/responseHeader/status==0");
  assertQ("/schema/fields/newfield1?indent=on&wt=xml","count(/response/lst[@name='field']) = 1","/response/lst[@name='responseHeader']/int[@name='status'] = '0'");
  assertQ("/schema/fields/newfield2?indent=on&wt=xml","count(/response/lst[@name='field']) = 1","/response/lst[@name='responseHeader']/int[@name='status'] = '0'");
  assertU(adoc("newfield1","value1 value2","id","123"));
  assertU(adoc("newfield2","value3 value4","id","456"));
  assertU(commit());
  assertQ("/select?q=newfield1:value1","/response/lst[@name='responseHeader']/int[@name='status'] = '0'","/response/result[@name='response'][@numFound='1']","count(/response/result[@name='response']/doc/*) = 1","/response/result[@name='response']/doc/str[@name='id'][.='123']");
  assertQ("/select?q=newfield2:value3","/response/lst[@name='responseHeader']/int[@name='status'] = '0'","/response/result[@name='response'][@numFound='1']","count(/response/result[@name='response']/doc/*) = 1","/response/result[@name='response']/doc/str[@name='id'][.='456']");
}
