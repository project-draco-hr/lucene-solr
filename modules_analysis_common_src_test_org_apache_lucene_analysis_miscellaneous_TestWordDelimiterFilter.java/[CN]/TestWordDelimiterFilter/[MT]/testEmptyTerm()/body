{
  Random random=random();
  for (int i=0; i < 512; i++) {
    final int flags=i;
    final CharArraySet protectedWords;
    if (random.nextBoolean()) {
      protectedWords=new CharArraySet(TEST_VERSION_CURRENT,new HashSet<String>(Arrays.asList("a","b","cd")),false);
    }
 else {
      protectedWords=null;
    }
    Analyzer a=new Analyzer(){
      @Override protected TokenStreamComponents createComponents(      String fieldName,      Reader reader){
        Tokenizer tokenizer=new KeywordTokenizer(reader);
        return new TokenStreamComponents(tokenizer,new WordDelimiterFilter(tokenizer,flags,protectedWords));
      }
    }
;
    checkAnalysisConsistency(random,a,random.nextBoolean(),"");
  }
}
