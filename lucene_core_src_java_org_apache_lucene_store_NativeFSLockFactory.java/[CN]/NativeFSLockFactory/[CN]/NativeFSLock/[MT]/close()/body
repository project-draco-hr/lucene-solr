{
  if (channel != null) {
    try {
      IOUtils.close(channel);
    }
  finally {
      channel=null;
      clearLockHeld(realPath);
    }
  }
}
