{
  for (  Cluster outCluster : outputClusters) {
    NamedList cluster=new NamedList();
    parent.add("cluster",cluster);
    List<String> labels=outCluster.getPhrases();
    NamedList labelsNL=new NamedList();
    cluster.add("labels",labelsNL);
    int labelsAdded=0;
    for (    String label : labels) {
      if (++labelsAdded > maxLabels) {
        break;
      }
      labelsNL.add("label",label);
    }
    List<Document> docs=outCluster.getDocuments();
    NamedList docsNL=new NamedList();
    cluster.add("docs",docsNL);
    for (    Document doc : docs) {
      docsNL.add("doc",doc.getField("solrId"));
    }
    if (outputSubClusters) {
      NamedList subclustersNL=new NamedList();
      cluster.add("clusters",subclustersNL);
      clustersToNamedList(outCluster.getSubclusters(),subclustersNL,outputSubClusters,maxLabels);
    }
  }
}
