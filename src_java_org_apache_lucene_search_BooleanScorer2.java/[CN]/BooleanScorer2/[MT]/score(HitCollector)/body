{
  if ((requiredScorers.size() == 0) && prohibitedScorers.size() < 32) {
    BooleanScorer bs=new BooleanScorer(getSimilarity(),minNrShouldMatch);
    Iterator si=optionalScorers.iterator();
    while (si.hasNext()) {
      bs.add((Scorer)si.next(),false,false);
    }
    si=prohibitedScorers.iterator();
    while (si.hasNext()) {
      bs.add((Scorer)si.next(),false,true);
    }
    bs.score(hc);
  }
 else {
    if (countingSumScorer == null) {
      initCountingSumScorer();
    }
    while (countingSumScorer.next()) {
      hc.collect(countingSumScorer.doc(),score());
    }
  }
}
