{
  String randomLockName="lucene-" + Long.toString(new Random().nextInt(),Character.MAX_RADIX) + "-test.lock";
  Lock l=makeLock(randomLockName);
  try {
    l.obtain();
  }
 catch (  IOException e) {
    IOException e2=new IOException("Failed to acquire random test lock; please verify filesystem for lock directory '" + lockDir + "' supports locking");
    e2.initCause(e);
    throw e2;
  }
  l.release();
}
