{
  RAMDirectory indexStore=new RAMDirectory();
  IndexWriter writer=new IndexWriter(indexStore,new SimpleAnalyzer(),true);
  Document doc1=new Document();
  Document doc2=new Document();
  Document doc3=new Document();
  Document doc4=new Document();
  doc1.add(Field.Text("body","metal"));
  doc2.add(Field.Text("body","metals"));
  doc3.add(Field.Text("body","mXtals"));
  doc4.add(Field.Text("body","mXtXls"));
  writer.addDocument(doc1);
  writer.addDocument(doc2);
  writer.addDocument(doc3);
  writer.addDocument(doc4);
  writer.optimize();
  IndexSearcher searcher=new IndexSearcher(indexStore);
  Query query1=new WildcardQuery(new Term("body","m?tal"));
  Query query2=new WildcardQuery(new Term("body","metal?"));
  Query query3=new WildcardQuery(new Term("body","metals?"));
  Query query4=new WildcardQuery(new Term("body","m?t?ls"));
  Hits result;
  result=searcher.search(query1);
  assertEquals(1,result.length());
  result=searcher.search(query2);
  assertEquals(2,result.length());
  result=searcher.search(query3);
  assertEquals(1,result.length());
  result=searcher.search(query4);
  assertEquals(3,result.length());
  writer.close();
}
