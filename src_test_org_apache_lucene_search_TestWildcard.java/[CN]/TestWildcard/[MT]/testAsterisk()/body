{
  RAMDirectory indexStore=new RAMDirectory();
  IndexWriter writer=new IndexWriter(indexStore,new SimpleAnalyzer(),true);
  Document doc1=new Document();
  Document doc2=new Document();
  doc1.add(Field.Text("body","metal"));
  doc2.add(Field.Text("body","metals"));
  writer.addDocument(doc1);
  writer.addDocument(doc2);
  writer.optimize();
  IndexSearcher searcher=new IndexSearcher(indexStore);
  Query query1=new TermQuery(new Term("body","metal"));
  Query query2=new WildcardQuery(new Term("body","metal*"));
  Query query3=new WildcardQuery(new Term("body","m*tal"));
  Query query4=new WildcardQuery(new Term("body","m*tal*"));
  Hits result;
  result=searcher.search(query1);
  assertEquals(1,result.length());
  result=searcher.search(query2);
  assertEquals(2,result.length());
  result=searcher.search(query3);
  assertEquals(1,result.length());
  result=searcher.search(query4);
  assertEquals(2,result.length());
  writer.close();
}
