{
  for (  BytesRef term : mergedTerms) {
    consumer.addValue(term);
  }
  for (  SegmentState segState : segStates) {
    Bits liveDocs=segState.reader.getLiveDocs();
    int maxDoc=segState.reader.maxDoc();
    for (int docID=0; docID < maxDoc; docID++) {
      if (liveDocs == null || liveDocs.get(docID)) {
        int segOrd=segState.values.getOrd(docID);
        int mergedOrd=segState.segOrdToMergedOrd[segOrd];
        consumer.addDoc(mergedOrd);
      }
    }
  }
}
