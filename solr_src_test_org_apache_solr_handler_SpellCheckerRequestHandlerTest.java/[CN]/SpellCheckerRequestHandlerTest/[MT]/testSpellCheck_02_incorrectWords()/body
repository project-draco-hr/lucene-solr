{
  buildSpellCheckIndex();
  lrf=h.getRequestFactory("spellchecker",0,20);
  lrf.args.put("version","2.0");
  lrf.args.put("sp.query.accuracy",".9");
  assertQ("Confirm the index is still valid",req("cat"),"//str[@name='words'][.='cat']","//str[@name='exist'][.='true']");
  assertQ("Failed to spell check",req("coat"),"//str[@name='words'][.='coat']","//str[@name='exist'][.='false']","//arr[@name='suggestions'][.='']");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("coat"),"//str[@name='words'][.='coat']","//str[@name='exist'][.='false']","//arr/str[.='cot']","//arr/str[.='cat']","//arr/str[.='corn']","//arr/str[.='cart']","//arr/str[.='cod']","//arr/str[.='solr']","//arr/str[.='carp']");
  lrf.args.put("sp.query.suggestionCount","2");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("coat"),"//str[@name='words'][.='coat']","//str[@name='exist'][.='false']","//arr/str[.='cot']","//arr/str[.='cat']");
}
