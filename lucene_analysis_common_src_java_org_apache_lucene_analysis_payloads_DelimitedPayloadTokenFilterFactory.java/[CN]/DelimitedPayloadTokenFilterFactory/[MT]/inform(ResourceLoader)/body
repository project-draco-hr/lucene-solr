{
  String encoderClass=args.get(ENCODER_ATTR);
  if (encoderClass == null) {
    throw new InitializationException("Parameter " + ENCODER_ATTR + " is mandatory");
  }
  if (encoderClass.equals("float")) {
    encoder=new FloatEncoder();
  }
 else   if (encoderClass.equals("integer")) {
    encoder=new IntegerEncoder();
  }
 else   if (encoderClass.equals("identity")) {
    encoder=new IdentityEncoder();
  }
 else {
    encoder=loader.newInstance(encoderClass,PayloadEncoder.class);
  }
  String delim=args.get(DELIMITER_ATTR);
  if (delim != null) {
    if (delim.length() == 1) {
      delimiter=delim.charAt(0);
    }
 else {
      throw new InitializationException("Delimiter must be one character only");
    }
  }
}
