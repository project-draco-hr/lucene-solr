{
  solrHomeDirectory=createTempDir("_customHandlers").toFile();
  SolrResourceLoader loader=new SolrResourceLoader(solrHomeDirectory.getAbsolutePath());
  ConfigSolr config=ConfigSolr.fromString(loader,CUSTOM_HANDLERS_SOLR_XML);
  CoreContainer cc=new CoreContainer(loader,config);
  try {
    cc.load();
    assertThat(cc.getCollectionsHandler(),is(instanceOf(CustomCollectionsHandler.class)));
    assertThat(cc.getInfoHandler(),is(instanceOf(CustomInfoHandler.class)));
    assertThat(cc.getMultiCoreHandler(),is(instanceOf(CustomCoreAdminHandler.class)));
  }
  finally {
    cc.shutdown();
  }
}
