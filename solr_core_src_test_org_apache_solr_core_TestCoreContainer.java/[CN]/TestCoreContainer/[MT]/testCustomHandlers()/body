{
  ConfigSolr config=ConfigSolr.fromString(CUSTOM_HANDLERS_SOLR_XML);
  SolrResourceLoader loader=new SolrResourceLoader("solr/collection1");
  CoreContainer cc=new CoreContainer(loader,config);
  try {
    cc.load();
    assertThat(cc.getCollectionsHandler(),is(instanceOf(CustomCollectionsHandler.class)));
    assertThat(cc.getInfoHandler(),is(instanceOf(CustomInfoHandler.class)));
    assertThat(cc.getMultiCoreHandler(),is(instanceOf(CustomCoreAdminHandler.class)));
  }
  finally {
    cc.shutdown();
  }
}
