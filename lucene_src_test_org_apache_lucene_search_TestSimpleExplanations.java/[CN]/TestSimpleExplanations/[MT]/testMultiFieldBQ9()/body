{
  BooleanQuery outerQuery=new BooleanQuery();
  outerQuery.add(new TermQuery(new Term(FIELD,"w1")),BooleanClause.Occur.MUST);
  BooleanQuery innerQuery=new BooleanQuery();
  innerQuery.add(new TermQuery(new Term(ALTFIELD,"qq")),BooleanClause.Occur.SHOULD);
  BooleanQuery childLeft=new BooleanQuery();
  childLeft.add(new TermQuery(new Term(FIELD,"xx")),BooleanClause.Occur.MUST_NOT);
  childLeft.add(new TermQuery(new Term(FIELD,"w2")),BooleanClause.Occur.SHOULD);
  innerQuery.add(childLeft,BooleanClause.Occur.SHOULD);
  BooleanQuery childRight=new BooleanQuery();
  childRight.add(new TermQuery(new Term(ALTFIELD,"w3")),BooleanClause.Occur.MUST);
  childRight.add(new TermQuery(new Term(FIELD,"w4")),BooleanClause.Occur.MUST);
  innerQuery.add(childRight,BooleanClause.Occur.MUST_NOT);
  outerQuery.add(innerQuery,BooleanClause.Occur.SHOULD);
  qtest(outerQuery,new int[]{0,1,2,3});
}
