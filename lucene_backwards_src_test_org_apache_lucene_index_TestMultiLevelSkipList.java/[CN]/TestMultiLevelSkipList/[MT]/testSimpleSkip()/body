{
  RAMDirectory dir=new RAMDirectory();
  IndexWriter writer=new IndexWriter(dir,new PayloadAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
  Term term=new Term("test","a");
  for (int i=0; i < 5000; i++) {
    Document d1=new Document();
    d1.add(new Field(term.field(),term.text(),Store.NO,Index.ANALYZED));
    writer.addDocument(d1);
  }
  writer.commit();
  writer.optimize();
  writer.close();
  IndexReader reader=SegmentReader.getOnlySegmentReader(dir);
  TermPositions tp=reader.termPositions();
  for (int i=0; i < 2; i++) {
    counter=0;
    tp.seek(term);
    checkSkipTo(tp,14,185);
    checkSkipTo(tp,17,190);
    checkSkipTo(tp,287,200);
    checkSkipTo(tp,4800,250);
  }
}
