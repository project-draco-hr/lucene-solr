{
  super.setUp();
  dir=new MockRAMDirectory();
  IndexDeletionPolicy sdp=new KeepAllDeletionPolicy();
  IndexWriter w=new IndexWriter(dir,new WhitespaceAnalyzer(),sdp,MaxFieldLength.UNLIMITED);
  for (int currentRecordId=1; currentRecordId <= 100; currentRecordId++) {
    Document doc=new Document();
    doc.add(new Field(FIELD_RECORD_ID,"" + currentRecordId,Field.Store.YES,Field.Index.ANALYZED));
    w.addDocument(doc);
    if (currentRecordId % 10 == 0) {
      Map data=new HashMap();
      data.put("index","records 1-" + currentRecordId);
      w.commit(data);
    }
  }
  w.close();
}
