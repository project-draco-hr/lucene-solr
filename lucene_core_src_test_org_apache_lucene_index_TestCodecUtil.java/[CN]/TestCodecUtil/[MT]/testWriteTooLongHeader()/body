{
  StringBuilder tooLong=new StringBuilder();
  for (int i=0; i < 128; i++) {
    tooLong.append('a');
  }
  RAMFile file=new RAMFile();
  IndexOutput output=new RAMOutputStream(file,true);
  try {
    CodecUtil.writeHeader(output,tooLong.toString(),5);
    fail("didn't get expected exception");
  }
 catch (  IllegalArgumentException expected) {
  }
}
