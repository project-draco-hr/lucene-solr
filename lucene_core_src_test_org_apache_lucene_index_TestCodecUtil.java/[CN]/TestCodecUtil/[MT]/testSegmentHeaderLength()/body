{
  RAMFile file=new RAMFile();
  IndexOutput output=new RAMOutputStream(file,true);
  CodecUtil.writeIndexHeader(output,"FooBar",5,StringHelper.randomId(),"xyz");
  output.writeString("this is the data");
  output.close();
  IndexInput input=new RAMInputStream("file",file);
  input.seek(CodecUtil.indexHeaderLength("FooBar","xyz"));
  assertEquals("this is the data",input.readString());
  input.close();
}
