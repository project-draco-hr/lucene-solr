{
  RAMFile file=new RAMFile();
  IndexOutput output=new RAMOutputStream(file,false);
  output.writeLong(-1L);
  output.writeLong(1L << 32);
  output.writeLong(-(1L << 32));
  output.writeLong((1L << 32) - 1);
  output.close();
  IndexInput input=new RAMInputStream("file",file);
  for (int i=0; i < 3; i++) {
    try {
      CodecUtil.readCRC(input);
      fail("didn't get expected exception");
    }
 catch (    CorruptIndexException expected) {
    }
  }
  CodecUtil.readCRC(input);
}
