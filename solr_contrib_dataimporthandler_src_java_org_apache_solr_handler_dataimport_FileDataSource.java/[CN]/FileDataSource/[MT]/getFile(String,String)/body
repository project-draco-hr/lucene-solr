{
  try {
    File file=new File(query);
    if (!file.isAbsolute()) {
      File basePathFile;
      if (basePath == null) {
        basePathFile=new File(".").getAbsoluteFile();
        LOG.warn("FileDataSource.basePath is empty. " + "Resolving to: " + basePathFile.getAbsolutePath());
      }
 else {
        basePathFile=new File(basePath);
        if (!basePathFile.isAbsolute()) {
          basePathFile=basePathFile.getAbsoluteFile();
          LOG.warn("FileDataSource.basePath is not absolute. Resolving to: " + basePathFile.getAbsolutePath());
        }
      }
      file=new File(basePathFile,query).getAbsoluteFile();
    }
    if (file.isFile() && file.canRead()) {
      LOG.debug("Accessing File: " + file.getAbsolutePath());
      return file;
    }
 else {
      throw new FileNotFoundException("Could not find file: " + query + " (resolved to: "+ file.getAbsolutePath());
    }
  }
 catch (  FileNotFoundException e) {
    throw new RuntimeException(e);
  }
}
