{
  String[] startOptions=new String[]{"(","["};
  String[] endOptions=new String[]{")","]"};
  Integer[] qRange=getRandomRange(cardinality,"id");
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.set("q","id:[" + qRange[0] + " TO "+ qRange[1]+ "]");
  params.set("facet","true");
  params.set("rows","0");
  String field=fields[random().nextInt(fields.length)];
  params.set("facet.interval",field);
  for (int i=0; i < 1 + random().nextInt(20); i++) {
    Integer[] interval=getRandomRange(cardinality,field);
    String open=startOptions[interval[0] % 2];
    String close=endOptions[interval[1] % 2];
    params.add("f." + field + ".facet.interval.set",open + interval[0] + ","+ interval[1]+ close);
  }
  query(params);
}
