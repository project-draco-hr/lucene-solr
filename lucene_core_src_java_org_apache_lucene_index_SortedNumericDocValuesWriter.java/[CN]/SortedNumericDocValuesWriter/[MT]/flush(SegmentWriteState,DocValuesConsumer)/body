{
  final PackedLongValues values=pending.build();
  final PackedLongValues valueCounts=pendingCounts.build();
  dvConsumer.addSortedNumericField(fieldInfo,new EmptyDocValuesProducer(){
    @Override public SortedNumericDocValues getSortedNumeric(    FieldInfo fieldInfoIn){
      if (fieldInfoIn != fieldInfo) {
        throw new IllegalArgumentException("wrong fieldInfo");
      }
      return new BufferedSortedNumericDocValues(values,valueCounts,docsWithField);
    }
  }
);
}
