{
  String versionOrig=version;
  version=version.toUpperCase(Locale.ROOT);
switch (version) {
case "LATEST":
case "LUCENE_CURRENT":
    return LATEST;
case "LUCENE_4_0_0":
  return LUCENE_4_0_0;
case "LUCENE_4_0_0_ALPHA":
return LUCENE_4_0_0_ALPHA;
case "LUCENE_4_0_0_BETA":
return LUCENE_4_0_0_BETA;
default :
version=version.replaceFirst("^LUCENE_(\\d+)_(\\d+)_(\\d+)$","$1.$2.$3").replaceFirst("^LUCENE_(\\d+)_(\\d+)$","$1.$2.0").replaceFirst("^LUCENE_(\\d)(\\d)$","$1.$2.0");
try {
return parse(version);
}
 catch (ParseException pe) {
ParseException pe2=new ParseException("failed to parse lenient version string \"" + versionOrig + "\": "+ pe.getMessage(),0);
pe2.initCause(pe);
throw pe2;
}
}
}
