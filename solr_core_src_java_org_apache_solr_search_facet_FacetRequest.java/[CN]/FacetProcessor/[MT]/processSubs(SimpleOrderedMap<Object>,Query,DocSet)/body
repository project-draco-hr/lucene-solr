{
  if (domain == null || domain.size() == 0 && !freq.processEmpty) {
    return;
  }
  for (  Map.Entry<String,FacetRequest> sub : freq.getSubFacets().entrySet()) {
    FacetContext subContext=fcontext.sub(filter,domain);
    FacetProcessor subProcessor=sub.getValue().createFacetProcessor(subContext);
    subProcessor.process();
    response.add(sub.getKey(),subProcessor.getResponse());
  }
}
