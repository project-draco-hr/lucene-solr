{
  IndexSearcher s=new IndexSearcher(dir);
  Query q=new FieldScoreQuery(field,tp);
  log("test: " + q);
  QueryUtils.check(q,s);
  Hits h=s.search(q);
  assertEquals("All docs should be matched!",N_DOCS,h.length());
  String prevID="ID" + (N_DOCS + 1);
  for (int i=0; i < h.length(); i++) {
    String resID=h.doc(i).get(ID_FIELD);
    log(i + ".   score=" + h.score(i)+ "  -  "+ resID);
    log(s.explain(q,h.id(i)));
    assertTrue("res id " + resID + " should be < prev res id "+ prevID,resID.compareTo(prevID) < 0);
    prevID=resID;
  }
}
