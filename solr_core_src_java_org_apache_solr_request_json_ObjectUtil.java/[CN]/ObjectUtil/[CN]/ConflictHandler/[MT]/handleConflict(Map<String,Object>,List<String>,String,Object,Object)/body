{
  boolean handleAsList=isList(container,path,key,current,previous);
  if (handleAsList) {
    container.put(key,makeList(current,previous));
    return;
  }
  if (previous instanceof Map && current instanceof Map) {
    Map<String,Object> prevMap=(Map<String,Object>)previous;
    Map<String,Object> currMap=(Map<String,Object>)current;
    if (prevMap.size() == 0)     return;
    mergeMap(prevMap,currMap,path);
    container.put(key,prevMap);
    return;
  }
  return;
}
