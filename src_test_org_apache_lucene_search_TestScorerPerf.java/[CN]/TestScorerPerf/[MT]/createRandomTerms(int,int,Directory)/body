{
  IndexWriter iw=new IndexWriter(dir,new WhitespaceAnalyzer(),true);
  iw.setMaxBufferedDocs(123);
  for (int i=0; i < nDocs; i++) {
    Document d=new Document();
    for (int j=0; j < nTerms; j++) {
      if (r.nextInt(nTerms) <= j) {
        d.add(new Field("f",Character.toString((char)j),Field.Store.NO,Field.Index.UN_TOKENIZED));
      }
    }
    iw.addDocument(d);
  }
  iw.close();
}
