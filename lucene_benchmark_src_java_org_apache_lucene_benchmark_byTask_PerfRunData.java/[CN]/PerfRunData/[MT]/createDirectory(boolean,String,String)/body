{
  if ("FSDirectory".equals(config.get(dirParam,"RAMDirectory"))) {
    File workDir=new File(config.get("work.dir","work"));
    File indexDir=new File(workDir,dirName);
    if (eraseIndex && indexDir.exists()) {
      IOUtils.rm(indexDir);
    }
    indexDir.mkdirs();
    return FSDirectory.open(indexDir);
  }
  return new RAMDirectory();
}
