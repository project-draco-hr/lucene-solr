{
  TokenStream result=new SentenceTokenizer(reader);
  result=new WordTokenFilter(result);
  result=new PorterStemFilter(result);
  if (!stopWords.isEmpty()) {
    result=new StopFilter(StopFilter.getEnablePositionIncrementsVersionDefault(matchVersion),result,stopWords,false);
  }
  return result;
}
