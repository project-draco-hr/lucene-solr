{
  SavedStreams streams=(SavedStreams)getPreviousTokenStream();
  if (streams == null) {
    streams=new SavedStreams();
    setPreviousTokenStream(streams);
    streams.tokenStream=new SentenceTokenizer(reader);
    streams.filteredTokenStream=new WordTokenFilter(streams.tokenStream);
    streams.filteredTokenStream=new PorterStemFilter(streams.filteredTokenStream);
    if (!stopWords.isEmpty()) {
      streams.filteredTokenStream=new StopFilter(matchVersion,streams.filteredTokenStream,stopWords,false);
    }
  }
 else {
    streams.tokenStream.reset(reader);
    streams.filteredTokenStream.reset();
  }
  return streams.filteredTokenStream;
}
