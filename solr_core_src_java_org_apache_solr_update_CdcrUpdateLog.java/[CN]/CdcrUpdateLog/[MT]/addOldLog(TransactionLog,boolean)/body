{
  if (oldLog == null)   return;
  numOldRecords+=oldLog.numRecords();
  int currRecords=numOldRecords;
  if (oldLog != tlog && tlog != null) {
    currRecords+=tlog.numRecords();
  }
  while (removeOld && logs.size() > 0) {
    TransactionLog log=logs.peekLast();
    int nrec=log.numRecords();
    if (currRecords - nrec >= numRecordsToKeep || logs.size() >= 10) {
      if (!this.hasLogPointer(log)) {
        currRecords-=nrec;
        numOldRecords-=nrec;
        TransactionLog last=logs.removeLast();
        last.deleteOnClose=true;
        last.close();
        continue;
      }
      break;
    }
    break;
  }
  oldLog.deleteOnClose=false;
  oldLog.decref();
  logs.addFirst(oldLog);
}
