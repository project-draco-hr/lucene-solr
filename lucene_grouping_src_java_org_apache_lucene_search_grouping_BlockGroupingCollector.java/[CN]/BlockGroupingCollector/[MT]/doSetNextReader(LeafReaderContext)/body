{
  if (subDocUpto != 0) {
    processGroup();
  }
  subDocUpto=0;
  docBase=readerContext.docBase;
  Scorer s=lastDocPerGroup.scorer(readerContext);
  if (s == null) {
    lastDocPerGroupBits=null;
  }
 else {
    lastDocPerGroupBits=s.iterator();
  }
  groupEndDocID=-1;
  currentReaderContext=readerContext;
  for (int i=0; i < comparators.length; i++) {
    leafComparators[i]=comparators[i].getLeafComparator(readerContext);
  }
}
