{
  ModifiableSolrParams local=new ModifiableSolrParams();
  ModifiableSolrParams params=new ModifiableSolrParams();
  SolrQueryRequest req=new LocalSolrQueryRequest(h.getCore(),"_val_:'foo'","",0,10,new HashMap());
  FunctionQParser parser;
  Query query;
  FunctionQuery fq;
  parser=new FunctionQParser("'foo'",local,params,req);
  query=parser.parse();
  assertTrue("query is not a FunctionQuery",query instanceof FunctionQuery);
  fq=(FunctionQuery)query;
  assertTrue("ValueSource is not a LiteralValueSource",fq.getValueSource() instanceof LiteralValueSource);
  parser=new FunctionQParser("1.5",local,params,req);
  query=parser.parse();
  assertTrue("query is not a FunctionQuery",query instanceof FunctionQuery);
  fq=(FunctionQuery)query;
  assertTrue("ValueSource is not a LiteralValueSource",fq.getValueSource() instanceof ConstValueSource);
}
