{
synchronized (SolrCore.class) {
    core=this;
    try {
      if (dataDir == null) {
        dataDir=SolrConfig.config.get("dataDir","data");
      }
      log.info("Opening new SolrCore with data directory at " + dataDir);
      if (schema == null) {
        schema=new IndexSchema("schema.xml");
      }
      this.schema=schema;
      this.dataDir=dataDir;
      this.index_path=dataDir + "/" + "index";
      parseListeners();
      initIndex();
      try {
        getSearcher(false,false,null);
        updateHandler=createUpdateHandler(SolrConfig.config.get("updateHandler/@class",DirectUpdateHandler.class.getName()));
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  finally {
    }
  }
}
