{
  RefCounted<SolrIndexSearcher> holder=null;
  int num=0;
  try {
    holder=getSearcher();
    SolrIndexSearcher searcher=holder.get();
    num=searcher.maxDoc();
  }
 catch (  IOException e) {
    log(e);
  }
 finally {
    if (holder != null)     holder.decref();
  }
  return num;
}
