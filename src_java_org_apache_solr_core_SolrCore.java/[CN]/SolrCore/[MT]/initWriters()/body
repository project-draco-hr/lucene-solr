{
  String xpath="queryResponseWriter";
  NodeList nodes=(NodeList)SolrConfig.config.evaluate(xpath,XPathConstants.NODESET);
  int length=nodes.getLength();
  for (int i=0; i < length; i++) {
    Element elm=(Element)nodes.item(i);
    try {
      String name=DOMUtil.getAttr(elm,"name",xpath + " config");
      String className=DOMUtil.getAttr(elm,"class",xpath + " config");
      log.info("adding queryResponseWriter " + name + "="+ className);
      QueryResponseWriter writer=(QueryResponseWriter)Config.newInstance(className);
      responseWriters.put(name,writer);
    }
 catch (    Exception ex) {
      SolrException.logOnce(log,null,ex);
    }
  }
  if (responseWriters.containsKey("standard")) {
    defaultResponseWriter=responseWriters.get("standard");
  }
  if (defaultResponseWriter == null) {
    defaultResponseWriter=new XMLResponseWriter();
  }
  if (responseWriters.get("json") == null) {
    responseWriters.put("json",new JSONResponseWriter());
  }
  if (responseWriters.get("python") == null) {
    responseWriters.put("python",new PythonResponseWriter());
  }
  if (responseWriters.get("ruby") == null) {
    responseWriters.put("ruby",new RubyResponseWriter());
  }
}
