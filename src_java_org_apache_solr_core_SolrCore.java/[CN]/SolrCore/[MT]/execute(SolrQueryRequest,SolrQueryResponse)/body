{
  SolrRequestHandler handler=getRequestHandler(req.getQueryType());
  if (handler == null) {
    log.warning("Unknown Request Handler '" + req.getQueryType() + "' :"+ req);
    throw new SolrException(400,"Unknown Request Handler '" + req.getQueryType() + "'",true);
  }
  final NamedList responseHeader=new NamedList();
  rsp.add("responseHeader",responseHeader);
  handler.handleRequest(req,rsp);
  setResponseHeaderValues(responseHeader,req,rsp);
  log.info(req.getParamString() + " 0 " + (int)(rsp.getEndTime() - req.getStartTime()));
}
