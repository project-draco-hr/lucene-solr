{
  T def=null;
  for (  PluginInfo info : solrConfig.getPluginInfos(type.getName())) {
    T o=createInitInstance(info,type,type.getSimpleName(),defClassName);
    if (o instanceof PluginInfoInitialized) {
      ((PluginInfoInitialized)o).init(info);
    }
 else     if (o instanceof NamedListInitializedPlugin) {
      ((NamedListInitializedPlugin)o).init(info.initArgs);
    }
    registry.put(info.name,o);
    if (info.isDefault()) {
      def=o;
    }
  }
  return def;
}
