{
  Class clazz=null;
  if (msg == null)   msg="SolrCore Object";
  try {
    try {
      clazz=solrConfig.getResourceLoader().findClass(className);
      if (cast != null && !cast.isAssignableFrom(clazz))       throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Error Instantiating " + msg + ", "+ className+ " is not a "+ cast.getName());
      java.lang.reflect.Constructor cons=clazz.getConstructor(new Class[]{SolrCore.class});
      return (T)cons.newInstance(new Object[]{this});
    }
 catch (    NoSuchMethodException xnomethod) {
      return (T)clazz.newInstance();
    }
  }
 catch (  SolrException e) {
    throw e;
  }
catch (  Exception e) {
    throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,"Error Instantiating " + msg + ", "+ className+ " failed to instantiate "+ cast.getName(),e);
  }
}
