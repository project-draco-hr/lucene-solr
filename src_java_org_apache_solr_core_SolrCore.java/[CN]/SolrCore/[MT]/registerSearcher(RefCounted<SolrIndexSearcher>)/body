{
synchronized (searcherLock) {
    try {
      if (_searcher != null) {
        _searcher.decref();
        _searcher=null;
      }
      _searcher=newSearcherHolder;
      SolrIndexSearcher newSearcher=newSearcherHolder.get();
      SolrInfoRegistry.getRegistry().put("currentSearcher",newSearcher);
      newSearcher.register();
      log.info("Registered new searcher " + newSearcher);
    }
 catch (    Throwable e) {
      log(e);
    }
 finally {
      onDeckSearchers--;
      searcherLock.notifyAll();
    }
  }
}
