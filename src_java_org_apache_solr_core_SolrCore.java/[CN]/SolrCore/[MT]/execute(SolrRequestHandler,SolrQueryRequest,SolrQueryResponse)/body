{
  if (handler == null) {
    log.warning(logid + "Null Request Handler '" + req.getQueryType()+ "' :"+ req);
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"Null Request Handler '" + req.getQueryType() + "'",true);
  }
  final NamedList<Object> responseHeader=new SimpleOrderedMap<Object>();
  rsp.add("responseHeader",responseHeader);
  handler.handleRequest(req,rsp);
  setResponseHeaderValues(handler,responseHeader,req,rsp);
  log.info(logid + "" + req.getContext().get("path")+ " "+ req.getParamString()+ " 0 "+ (int)(rsp.getEndTime() - req.getStartTime()));
}
