{
  IndexReader reader=IndexReader.open(dir);
  Document doc;
  doc=getDocument(reader,0,new FieldSelector(){
    public FieldSelectorResult accept(    String fieldName){
      if (fieldName.equals(DocHelper.TEXT_FIELD_1_KEY) || fieldName.equals(DocHelper.LAZY_FIELD_BINARY_KEY))       return FieldSelectorResult.SIZE;
 else       if (fieldName.equals(DocHelper.TEXT_FIELD_3_KEY))       return FieldSelectorResult.LOAD;
 else       return FieldSelectorResult.NO_LOAD;
    }
  }
);
  IndexableField f1=doc.getField(DocHelper.TEXT_FIELD_1_KEY);
  IndexableField f3=doc.getField(DocHelper.TEXT_FIELD_3_KEY);
  IndexableField fb=doc.getField(DocHelper.LAZY_FIELD_BINARY_KEY);
  assertTrue(f1.binaryValue() != null);
  assertTrue(f3.binaryValue() == null);
  assertTrue(fb.binaryValue() != null);
  assertSizeEquals(2 * DocHelper.FIELD_1_TEXT.length(),f1.binaryValue().bytes);
  assertEquals(DocHelper.FIELD_3_TEXT,f3.stringValue());
  assertSizeEquals(DocHelper.LAZY_FIELD_BINARY_BYTES.length,fb.binaryValue().bytes);
  reader.close();
}
