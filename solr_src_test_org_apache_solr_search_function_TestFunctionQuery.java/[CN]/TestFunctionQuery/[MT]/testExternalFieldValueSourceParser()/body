{
  String field="CoMpleX \" fieldName _extf";
  String fieldAsFunc="field(\"CoMpleX \\\" fieldName _extf\")";
  float[] ids={100,-4,0,10,25,5,77,23,55,-78,-45,-24,63,78,94,22,34,54321,261,-627};
  createIndex(null,ids);
  makeExternalFile(field,"54321=543210\n0=-999\n25=250","UTF-8");
  singleTest(fieldAsFunc,"\0",54321,543210,0,-999,25,250,100,1);
  Object orig=FileFloatSource.onlyForTesting;
  singleTest(fieldAsFunc,"log(\0)");
  assertTrue(orig == FileFloatSource.onlyForTesting);
  singleTest(fieldAsFunc,"sqrt(\0)");
  assertTrue(orig == FileFloatSource.onlyForTesting);
  makeExternalFile(fieldAsFunc,"0=1","UTF-8");
  assertU(adoc("id","10000"));
  assertU(commit());
  singleTest(fieldAsFunc,"sqrt(\0)");
  assertTrue(orig != FileFloatSource.onlyForTesting);
  purgeFieldCache(FieldCache.DEFAULT);
}
