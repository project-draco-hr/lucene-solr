{
  String parseableQuery=func(field,funcTemplate);
  List<String> nargs=new ArrayList<String>(Arrays.asList("q",parseableQuery,"fl","*,score","indent","on","rows","100"));
  if (args != null) {
    for (    String arg : args) {
      nargs.add(arg.replace("\0",field));
    }
  }
  List<String> tests=new ArrayList<String>();
  for (int i=0; i < results.length; i+=2) {
    String xpath="//doc[./float[@name='" + "id" + "']='" + results[i] + "' and ./float[@name='score']='"+ results[i + 1]+ "']";
    tests.add(xpath);
  }
  assertQ(req(nargs.toArray(new String[]{})),tests.toArray(new String[]{}));
}
