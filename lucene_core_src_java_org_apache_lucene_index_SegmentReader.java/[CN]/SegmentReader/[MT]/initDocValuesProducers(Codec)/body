{
  final Directory dir=core.cfsReader != null ? core.cfsReader : si.info.dir;
  final DocValuesFormat dvFormat=codec.docValuesFormat();
  final Map<Long,List<FieldInfo>> genInfos=getGenInfos();
  for (  Entry<Long,List<FieldInfo>> e : genInfos.entrySet()) {
    Long gen=e.getKey();
    List<FieldInfo> infos=e.getValue();
    DocValuesProducer dvp=segDocValues.getDocValuesProducer(gen,si,IOContext.READ,dir,dvFormat,infos);
    for (    FieldInfo fi : infos) {
      dvProducers.put(fi.name,dvp);
    }
  }
  dvGens.addAll(genInfos.keySet());
}
