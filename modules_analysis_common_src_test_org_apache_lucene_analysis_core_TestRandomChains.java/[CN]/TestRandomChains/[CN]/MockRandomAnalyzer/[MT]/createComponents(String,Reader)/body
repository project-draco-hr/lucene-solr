{
  Random random=new Random(seed);
  TokenizerSpec tokenizerSpec=newTokenizer(random,reader);
  TokenFilterSpec filterSpec=newFilterChain(random,tokenizerSpec.tokenizer,tokenizerSpec.offsetsAreCorrect);
  return new TokenStreamComponents(tokenizerSpec.tokenizer,filterSpec.stream);
}
