{
  Set correct=new TreeSet();
  for (int i=0; i < results.length; i++) {
    correct.add(new Integer(results[i]));
  }
  final Set actual=new TreeSet();
  searcher.search(query,new HitCollector(){
    public void collect(    int doc,    float score){
      actual.add(new Integer(doc));
    }
  }
);
  TestCase.assertEquals(query.toString(defaultFieldName),correct,actual);
  QueryUtils.check(query,searcher);
}
