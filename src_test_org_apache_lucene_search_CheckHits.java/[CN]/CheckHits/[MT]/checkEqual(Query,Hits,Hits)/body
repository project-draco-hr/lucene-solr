{
  final float scoreTolerance=1.0e-6f;
  if (hits1.length() != hits2.length()) {
    TestCase.fail("Unequal lengths: hits1=" + hits1.length() + ",hits2="+ hits2.length());
  }
  for (int i=0; i < hits1.length(); i++) {
    if (hits1.id(i) != hits2.id(i)) {
      TestCase.fail("Hit " + i + " docnumbers don't match\n"+ hits2str(hits1,hits2,0,0)+ "for query:"+ query.toString());
    }
    if ((hits1.id(i) != hits2.id(i)) || Math.abs(hits1.score(i) - hits2.score(i)) > scoreTolerance) {
      TestCase.fail("Hit " + i + ", doc nrs "+ hits1.id(i)+ " and "+ hits2.id(i)+ "\nunequal       : "+ hits1.score(i)+ "\n           and: "+ hits2.score(i)+ "\nfor query:"+ query.toString());
    }
  }
}
