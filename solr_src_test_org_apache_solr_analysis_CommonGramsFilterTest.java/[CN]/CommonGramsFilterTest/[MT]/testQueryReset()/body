{
  final String input="How the s a brown s cow d like A B thing?";
  WhitespaceTokenizer wt=new WhitespaceTokenizer(new StringReader(input));
  CommonGramsFilter cgf=new CommonGramsFilter(wt,commonWords);
  CommonGramsQueryFilter nsf=new CommonGramsQueryFilter(cgf);
  TermAttribute term=(TermAttribute)wt.addAttribute(TermAttribute.class);
  assertTrue(nsf.incrementToken());
  assertEquals("How_the",term.term());
  assertTrue(nsf.incrementToken());
  assertEquals("the_s",term.term());
  wt.reset(new StringReader(input));
  nsf.reset();
  assertTrue(nsf.incrementToken());
  assertEquals("How_the",term.term());
}
