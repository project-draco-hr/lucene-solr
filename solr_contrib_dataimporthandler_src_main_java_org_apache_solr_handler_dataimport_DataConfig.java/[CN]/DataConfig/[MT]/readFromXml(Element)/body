{
  List<Element> n=getChildNodes(e,"document");
  if (n.isEmpty()) {
    throw new DataImportHandlerException(SEVERE,"DataImportHandler " + "configuration file must have one <document> node.");
  }
  document=new Document(n.get(0));
  n=getChildNodes(e,SCRIPT);
  if (!n.isEmpty()) {
    script=new Script(n.get(0));
  }
  n=getChildNodes(e,FUNCTION);
  if (!n.isEmpty()) {
    for (    Element element : n) {
      String func=getStringAttribute(element,NAME,null);
      String clz=getStringAttribute(element,CLASS,null);
      if (func == null || clz == null) {
        throw new DataImportHandlerException(SEVERE,"<function> must have a 'name' and 'class' attributes");
      }
 else {
        functions.add(getAllAttributes(element));
      }
    }
  }
  n=getChildNodes(e,DATA_SRC);
  if (!n.isEmpty()) {
    for (    Element element : n) {
      Properties p=new Properties();
      HashMap<String,String> attrs=getAllAttributes(element);
      for (      Map.Entry<String,String> entry : attrs.entrySet()) {
        p.setProperty(entry.getKey(),entry.getValue());
      }
      dataSources.put(p.getProperty("name"),p);
    }
  }
  if (dataSources.get(null) == null) {
    for (    Properties properties : dataSources.values()) {
      dataSources.put(null,properties);
      break;
    }
  }
}
