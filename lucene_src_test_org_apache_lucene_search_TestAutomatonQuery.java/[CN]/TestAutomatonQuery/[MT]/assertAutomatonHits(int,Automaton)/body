{
  AutomatonQuery query=new AutomatonQuery(newTerm("bogus"),automaton);
  query.setRewriteMethod(MultiTermQuery.SCORING_BOOLEAN_QUERY_REWRITE);
  assertEquals(expected,automatonQueryNrHits(query));
  query.setRewriteMethod(MultiTermQuery.CONSTANT_SCORE_FILTER_REWRITE);
  assertEquals(expected,automatonQueryNrHits(query));
  query.setRewriteMethod(MultiTermQuery.CONSTANT_SCORE_BOOLEAN_QUERY_REWRITE);
  assertEquals(expected,automatonQueryNrHits(query));
  query.setRewriteMethod(MultiTermQuery.CONSTANT_SCORE_AUTO_REWRITE_DEFAULT);
  assertEquals(expected,automatonQueryNrHits(query));
}
