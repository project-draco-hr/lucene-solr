{
  DoubleMetaphoneFilterFactory factory=new DoubleMetaphoneFilterFactory();
  factory.init(new HashMap<String,String>());
  TokenStream inputStream=new WhitespaceTokenizer(new StringReader("international"));
  TokenStream filteredStream=factory.create(inputStream);
  TermAttribute termAtt=(TermAttribute)filteredStream.addAttribute(TermAttribute.class);
  assertEquals(DoubleMetaphoneFilter.class,filteredStream.getClass());
  assertTrue(filteredStream.incrementToken());
  assertEquals(13,termAtt.termLength());
  assertEquals("international",termAtt.term());
  filteredStream.reset();
  assertFalse(filteredStream.incrementToken());
}
