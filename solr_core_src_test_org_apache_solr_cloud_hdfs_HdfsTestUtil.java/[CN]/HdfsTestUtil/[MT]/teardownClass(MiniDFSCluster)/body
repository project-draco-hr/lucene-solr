{
  if (badTlogOutStream != null) {
    IOUtils.closeQuietly(badTlogOutStream);
  }
  SolrTestCaseJ4.resetFactory();
  System.clearProperty("solr.lock.type");
  System.clearProperty("test.build.data");
  System.clearProperty("test.cache.data");
  System.clearProperty("solr.hdfs.home");
  System.clearProperty("solr.hdfs.blockcache.global");
  if (dfsCluster != null) {
    timers.remove(dfsCluster);
    dfsCluster.shutdown();
  }
  if (savedLocale != null) {
    Locale.setDefault(savedLocale);
  }
}
