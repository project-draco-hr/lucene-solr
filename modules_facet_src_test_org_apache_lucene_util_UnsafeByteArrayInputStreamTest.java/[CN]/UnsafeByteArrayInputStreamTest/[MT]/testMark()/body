{
  byte[] bytes=new byte[]{0,1,2,3,4,5,6,7,8,9};
  UnsafeByteArrayInputStream ubais=new UnsafeByteArrayInputStream(bytes);
  assertTrue(ubais.markSupported());
  int markIndex=3;
  for (int i=0; i < markIndex; i++) {
    ubais.read();
  }
  ubais.mark(markIndex);
  for (int i=markIndex; i < bytes.length; i++) {
    ubais.read();
  }
  ubais.reset();
  assertEquals(bytes.length - markIndex,ubais.available());
}
