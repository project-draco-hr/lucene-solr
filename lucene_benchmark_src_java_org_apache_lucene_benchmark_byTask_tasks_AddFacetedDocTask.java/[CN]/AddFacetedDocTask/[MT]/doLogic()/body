{
  if (config != null) {
    Document doc2=new Document();
    for (    FacetField ff : facets) {
      doc2.add(ff);
    }
    IndexDocument doc3=config.build(doc2);
    for (    StorableField field : doc3.storableFields()) {
      doc.add((Field)field);
    }
    for (    IndexableField field : doc3.indexableFields()) {
      doc.add((Field)field);
    }
  }
  return super.doLogic();
}
