{
  if (config != null) {
    List<FacetField> facets=new ArrayList<FacetField>();
    getRunData().getFacetSource().getNextFacets(facets);
    for (    FacetField ff : facets) {
      ((Document)doc).add(ff);
    }
    doc=config.build(getRunData().getTaxonomyWriter(),doc);
  }
  return super.doLogic();
}
