{
  String reRankQueryString=localParams.get("reRankQuery");
  QParser reRankParser=QParser.getParser(reRankQueryString,null,req);
  Query reRankQuery=reRankParser.parse();
  int reRankDocs=localParams.getInt("reRankDocs",200);
  reRankDocs=Math.max(1,reRankDocs);
  double reRankWeight=localParams.getDouble("reRankWeight",2.0d);
  int start=params.getInt(CommonParams.START,0);
  int rows=params.getInt(CommonParams.ROWS,10);
  int length=start + rows;
  return new ReRankQuery(reRankQuery,reRankDocs,reRankWeight,length);
}
