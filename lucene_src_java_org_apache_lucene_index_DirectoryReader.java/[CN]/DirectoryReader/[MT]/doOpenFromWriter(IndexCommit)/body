{
  if (commit != null) {
    throw new IllegalArgumentException("a reader obtained from IndexWriter.getReader() cannot currently accept a commit");
  }
  if (writer.nrtIsCurrent(segmentInfos)) {
    return null;
  }
  IndexReader reader=writer.getReader(applyAllDeletes);
  if (reader.getVersion() == segmentInfos.getVersion()) {
    reader.decRef();
    return null;
  }
  return reader;
}
