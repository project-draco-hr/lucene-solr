{
  ensureOpen();
  assert openReadOnly;
  if (writer != null) {
    return doOpenFromWriter(openReadOnly,commit);
  }
 else {
    return doOpenNoWriter(openReadOnly,commit);
  }
}
