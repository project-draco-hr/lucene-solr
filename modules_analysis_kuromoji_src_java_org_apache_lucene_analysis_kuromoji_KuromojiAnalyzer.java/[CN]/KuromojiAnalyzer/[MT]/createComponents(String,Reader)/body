{
  Tokenizer tokenizer=new KuromojiTokenizer(this.segmenter,reader);
  TokenStream stream=new LowerCaseFilter(matchVersion,tokenizer);
  stream=new CJKWidthFilter(stream);
  stream=new KuromojiPartOfSpeechStopFilter(true,stream,stoptags);
  stream=new StopFilter(matchVersion,stream,stopwords);
  stream=new KuromojiBaseFormFilter(stream);
  return new TokenStreamComponents(tokenizer,stream);
}
