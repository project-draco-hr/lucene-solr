{
  matchingSegmentReaders=new SegmentReader[readers.size()];
  for (int i=0; i < readers.size(); i++) {
    IndexReader reader=(IndexReader)readers.elementAt(i);
    if (reader instanceof SegmentReader) {
      SegmentReader segmentReader=(SegmentReader)reader;
      boolean same=true;
      FieldInfos segmentFieldInfos=segmentReader.getFieldInfos();
      for (int j=0; same && j < segmentFieldInfos.size(); j++)       same=fieldInfos.fieldName(j).equals(segmentFieldInfos.fieldName(j));
      if (same)       matchingSegmentReaders[i]=segmentReader;
    }
  }
  rawDocLengths=new int[MAX_RAW_MERGE_DOCS];
  rawDocLengths2=new int[MAX_RAW_MERGE_DOCS];
}
