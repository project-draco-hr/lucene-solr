{
  String configDir=h.getCore().getResourceLoader().getConfigDir();
  String filePath=configDir;
  if (configDir != null && !configDir.endsWith(File.separator))   filePath+=File.separator;
  filePath+="dataimport.properties";
  File f=new File(filePath);
  if ((f.exists() || f.createNewFile()) && f.setReadOnly()) {
    try {
      List parentRow=new ArrayList();
      parentRow.add(createMap("id","1"));
      MockDataSource.setIterator(FULLIMPORT_QUERY,parentRow.iterator());
      List childRow=new ArrayList();
      childRow.add(createMap("desc","hello"));
      MockDataSource.setIterator("select * from y where y.A='1'",childRow.iterator());
      runFullImport(dataConfig_delta);
      assertQ(req("id:1"),"//*[@numFound='0']");
    }
  finally {
      f.delete();
    }
  }
}
