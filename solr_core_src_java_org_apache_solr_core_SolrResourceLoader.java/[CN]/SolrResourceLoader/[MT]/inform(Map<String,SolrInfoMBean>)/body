{
  SolrInfoMBean[] arr;
synchronized (infoMBeans) {
    arr=infoMBeans.toArray(new SolrInfoMBean[infoMBeans.size()]);
    waitingForResources.clear();
  }
  for (  SolrInfoMBean bean : arr) {
    if (!infoRegistry.containsValue(bean)) {
      try {
        infoRegistry.put(bean.getName(),bean);
      }
 catch (      Exception e) {
        log.warn("could not register MBean '" + bean.getName() + "'.",e);
      }
    }
  }
}
