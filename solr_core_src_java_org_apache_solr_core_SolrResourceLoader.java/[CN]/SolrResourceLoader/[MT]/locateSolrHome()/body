{
  String home=null;
  try {
    Context c=new InitialContext();
    home=(String)c.lookup("java:comp/env/" + project + "/home");
    logOnceInfo("home_using_jndi","Using JNDI solr.home: " + home);
  }
 catch (  NoInitialContextException e) {
    log.debug("JNDI not configured for " + project + " (NoInitialContextEx)");
  }
catch (  NamingException e) {
    log.debug("No /" + project + "/home in JNDI");
  }
catch (  RuntimeException ex) {
    log.warn("Odd RuntimeException while testing for JNDI: " + ex.getMessage());
  }
  if (home == null) {
    String prop=project + ".solr.home";
    home=System.getProperty(prop);
    if (home != null) {
      logOnceInfo("home_using_sysprop","Using system property " + prop + ": "+ home);
    }
  }
  if (home == null) {
    home=project + '/';
    logOnceInfo("home_default",project + " home defaulted to '" + home+ "' (could not find system property or JNDI)");
  }
  return Paths.get(home);
}
