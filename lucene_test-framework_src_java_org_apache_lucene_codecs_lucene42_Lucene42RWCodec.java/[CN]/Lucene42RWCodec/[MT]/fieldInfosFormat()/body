{
  return new Lucene42FieldInfosFormat(){
    @Override public FieldInfosWriter getFieldInfosWriter() throws IOException {
      if (!LuceneTestCase.OLD_FORMAT_IMPERSONATION_IS_ACTIVE) {
        return super.getFieldInfosWriter();
      }
 else {
        return new Lucene42FieldInfosWriter();
      }
    }
  }
;
}
