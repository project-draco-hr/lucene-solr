{
  for (  boolean cacheScores : new boolean[]{false,true}) {
    CachingCollector cc=CachingCollector.create(true,cacheScores,50 * ONE_BYTE);
    LeafCollector acc=cc.getLeafCollector(null);
    acc.setScorer(new MockScorer());
    acc.collect(0);
    assertTrue(cc.isCached());
    cc.replay(new NoOpCollector(true));
  }
}
