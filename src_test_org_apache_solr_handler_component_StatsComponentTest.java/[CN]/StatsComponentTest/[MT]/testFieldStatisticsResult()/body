{
  SolrCore core=h.getCore();
  assertU(adoc("id","1","stats_i","-10"));
  assertU(adoc("id","2","stats_i","-20"));
  assertU(adoc("id","3","stats_i","-30"));
  assertU(adoc("id","4","stats_i","-40"));
  assertU(commit());
  Map<String,String> args=new HashMap<String,String>();
  args.put(CommonParams.Q,"*:*");
  args.put(StatsParams.STATS,"true");
  args.put(StatsParams.STATS_FIELD,"stats_i");
  args.put("indent","true");
  SolrQueryRequest req=new LocalSolrQueryRequest(core,new MapSolrParams(args));
  assertQ("test statistics values",req,"//double[@name='min'][.='-40.0']","//double[@name='max'][.='-10.0']","//double[@name='sum'][.='-100.0']","//long[@name='count'][.='4']","//long[@name='missing'][.='0']","//double[@name='sumOfSquares'][.='3000.0']","//double[@name='mean'][.='-25.0']","//double[@name='stddev'][.='12.909944487358056']");
}
