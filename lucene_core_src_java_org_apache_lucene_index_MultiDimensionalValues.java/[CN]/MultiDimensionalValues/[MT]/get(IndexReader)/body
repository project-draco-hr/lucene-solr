{
  final List<LeafReaderContext> leaves=r.leaves();
  final int size=leaves.size();
  if (size == 0) {
    return null;
  }
 else   if (size == 1) {
    return leaves.get(0).reader().getDimensionalValues();
  }
  List<DimensionalValues> values=new ArrayList<>();
  List<Integer> docBases=new ArrayList<>();
  for (int i=0; i < size; i++) {
    LeafReaderContext context=leaves.get(i);
    DimensionalValues v=context.reader().getDimensionalValues();
    if (v != null) {
      values.add(v);
      docBases.add(context.docBase);
    }
  }
  return new MultiDimensionalValues(values,docBases);
}
