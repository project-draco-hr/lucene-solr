{
  ClassicSimilarity expected=new ClassicSimilarity();
  SimilarityBase actual=new DFRSimilarity(new BasicModelIne(),new AfterEffectB(),new NormalizationH2());
  expected.setDiscountOverlaps(false);
  actual.setDiscountOverlaps(false);
  FieldInvertState state=new FieldInvertState("foo");
  state.setLength(5);
  state.setNumOverlap(2);
  state.setBoost(3);
  assertEquals(expected.computeNorm(state),actual.computeNorm(state));
  expected.setDiscountOverlaps(true);
  actual.setDiscountOverlaps(true);
  assertEquals(expected.computeNorm(state),actual.computeNorm(state));
}
