{
synchronized (writerPauseLock) {
    if (core == null) {
      if (refCntWriter != null)       refCntWriter.incref();
      return refCntWriter;
    }
    while (pauseWriter) {
      try {
        writerPauseLock.wait();
      }
 catch (      InterruptedException e) {
      }
    }
    if (indexWriter == null) {
      indexWriter=createMainIndexWriter(core,"DirectUpdateHandler2",false);
    }
    initRefCntWriter();
    writerFree=false;
    writerPauseLock.notifyAll();
    refCntWriter.incref();
    return refCntWriter;
  }
}
