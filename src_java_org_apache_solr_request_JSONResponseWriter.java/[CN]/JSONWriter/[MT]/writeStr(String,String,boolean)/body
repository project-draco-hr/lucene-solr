{
  writer.write('"');
  if (needsEscaping) {
    for (int i=0; i < val.length(); i++) {
      char ch=val.charAt(i);
switch (ch) {
case '"':
case '\\':
        writer.write('\\');
      writer.write(ch);
    break;
default :
  writer.write(ch);
}
}
}
 else {
writer.write(val);
}
writer.write('"');
}
