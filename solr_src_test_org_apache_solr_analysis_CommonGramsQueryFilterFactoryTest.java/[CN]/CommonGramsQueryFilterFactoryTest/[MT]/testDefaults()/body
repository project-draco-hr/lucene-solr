{
  ResourceLoader loader=new SolrResourceLoader(null,null);
  assertTrue("loader is null and it shouldn't be",loader != null);
  CommonGramsQueryFilterFactory factory=new CommonGramsQueryFilterFactory();
  Map<String,String> args=new HashMap<String,String>(DEFAULT_VERSION_PARAM);
  factory.init(args);
  factory.inform(loader);
  Set<?> words=factory.getCommonWords();
  assertTrue("words is null and it shouldn't be",words != null);
  assertTrue(words.contains("the"));
  Tokenizer tokenizer=new WhitespaceTokenizer(DEFAULT_VERSION,new StringReader("testing the factory"));
  TokenStream stream=factory.create(tokenizer);
  assertTokenStreamContents(stream,new String[]{"testing_the","the_factory"});
}
