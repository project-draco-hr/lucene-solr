{
  if (rarely()) {
    if (random().nextBoolean()) {
      return null;
    }
 else {
      return new Bits.MatchNoBits(maxDoc);
    }
  }
  final FixedBitSet bits=new FixedBitSet(maxDoc);
  final int bitsSet=TestUtil.nextInt(random(),1,maxDoc - 1);
  for (int i=0; i < bitsSet; ++i) {
    while (true) {
      final int index=random().nextInt(maxDoc);
      if (!bits.get(index)) {
        bits.set(index);
        break;
      }
    }
  }
  return bits;
}
