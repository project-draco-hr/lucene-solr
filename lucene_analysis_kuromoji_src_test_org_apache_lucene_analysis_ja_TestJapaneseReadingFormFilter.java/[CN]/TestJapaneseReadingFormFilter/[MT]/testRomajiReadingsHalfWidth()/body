{
  Analyzer a=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new JapaneseTokenizer(reader,null,true,JapaneseTokenizer.Mode.SEARCH);
      TokenStream stream=new CJKWidthFilter(tokenizer);
      return new TokenStreamComponents(tokenizer,new JapaneseReadingFormFilter(stream,true));
    }
  }
;
  assertAnalyzesTo(a,"??????????????????????????????????????????",new String[]{"kon'ya","ha","robato","sensei","to","hanashi","ta"});
}
