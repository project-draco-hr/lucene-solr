{
  int size=list.size();
  if (size == 0) {
    return null;
  }
  int[] percs=new int[percents.length];
  for (int i=0; i < percs.length; i++) {
    percs[i]=(int)Math.round(percents[i] * size - .5);
  }
  int[] percentiles=Arrays.copyOf(percs,percs.length);
  Arrays.sort(percentiles);
  if (percentiles[0] < 0 || percentiles[percentiles.length - 1] > size - 1) {
    throw new IllegalArgumentException();
  }
  List<T> results=new ArrayList<T>(percs.length);
  distributeAndFind(list,percentiles,0,percentiles.length - 1);
  for (int i=0; i < percs.length; i++) {
    results.add(list.get(percs[i]));
  }
  return results;
}
