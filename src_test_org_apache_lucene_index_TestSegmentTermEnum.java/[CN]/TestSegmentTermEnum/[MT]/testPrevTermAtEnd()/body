{
  Directory dir=new MockRAMDirectory();
  IndexWriter writer=new IndexWriter(dir,new WhitespaceAnalyzer(),true,IndexWriter.MaxFieldLength.LIMITED);
  addDoc(writer,"aaa bbb");
  writer.close();
  IndexReader reader=IndexReader.open(dir);
  SegmentTermEnum termEnum=(SegmentTermEnum)reader.terms();
  assertTrue(termEnum.next());
  assertEquals("aaa",termEnum.term().text());
  assertTrue(termEnum.next());
  assertEquals("aaa",termEnum.prev().text());
  assertEquals("bbb",termEnum.term().text());
  assertFalse(termEnum.next());
  assertEquals("bbb",termEnum.prev().text());
}
