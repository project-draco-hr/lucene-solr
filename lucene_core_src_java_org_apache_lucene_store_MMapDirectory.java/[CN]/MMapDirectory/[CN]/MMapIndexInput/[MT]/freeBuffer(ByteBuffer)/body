{
  if (useUnmapHack) {
    try {
      AccessController.doPrivileged(new PrivilegedExceptionAction<Void>(){
        @Override public Void run() throws Exception {
          final Method getCleanerMethod=buffer.getClass().getMethod("cleaner");
          getCleanerMethod.setAccessible(true);
          final Object cleaner=getCleanerMethod.invoke(buffer);
          if (cleaner != null) {
            cleaner.getClass().getMethod("clean").invoke(cleaner);
          }
          return null;
        }
      }
);
    }
 catch (    PrivilegedActionException e) {
      throw new IOException("Unable to unmap the mapped buffer: " + toString(),e.getCause());
    }
  }
}
