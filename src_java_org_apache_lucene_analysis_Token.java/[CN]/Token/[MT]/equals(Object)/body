{
  if (obj == this)   return true;
  if (obj instanceof Token) {
    Token other=(Token)obj;
    initTermBuffer();
    other.initTermBuffer();
    if (termLength == other.termLength && startOffset == other.startOffset && endOffset == other.endOffset && flags == other.flags && positionIncrement == other.positionIncrement && subEqual(type,other.type) && subEqual(payload,other.payload)) {
      for (int i=0; i < termLength; i++)       if (termBuffer[i] != other.termBuffer[i])       return false;
      return true;
    }
 else     return false;
  }
 else   return false;
}
