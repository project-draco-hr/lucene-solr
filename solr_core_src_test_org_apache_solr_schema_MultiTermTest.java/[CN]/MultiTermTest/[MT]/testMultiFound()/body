{
  SchemaField field=h.getCore().getSchema().getField("content_multi");
  Analyzer analyzer=((TextField)field.getType()).getMultiTermAnalyzer();
  assertTrue(analyzer instanceof TokenizerChain);
  assertTrue(((TokenizerChain)analyzer).getTokenizerFactory() instanceof WhitespaceTokenizerFactory);
  TokenizerChain tc=(TokenizerChain)analyzer;
  for (  TokenFilterFactory factory : tc.getTokenFilterFactories()) {
    assertTrue((factory instanceof ASCIIFoldingFilterFactory) || (factory instanceof LowerCaseFilterFactory));
  }
  analyzer=field.getType().getAnalyzer();
  assertTrue(analyzer instanceof TokenizerChain);
  assertTrue(((TokenizerChain)analyzer).getTokenizerFactory() instanceof WhitespaceTokenizerFactory);
  tc=(TokenizerChain)analyzer;
  for (  TokenFilterFactory factory : tc.getTokenFilterFactories()) {
    assertTrue((factory instanceof ASCIIFoldingFilterFactory) || (factory instanceof TrimFilterFactory));
  }
  assertTrue(tc.getCharFilterFactories().length == 0);
}
