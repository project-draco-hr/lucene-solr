{
  assertU("",adoc("id","3234","val_t","quick red fox"));
  assertU("",adoc("id","3235","val_t","quick green fox"));
  assertU("",adoc("id","3236","val_t","quick brown fox"));
  commit();
  RefCounted<SolrIndexSearcher> holder=h.getCore().getSearcher();
  SolrIndexSearcher srchr=holder.get();
  SolrIndexSearcher.QueryResult qr=new SolrIndexSearcher.QueryResult();
  SolrIndexSearcher.QueryCommand cmd=new SolrIndexSearcher.QueryCommand();
  cmd.setQuery(new MatchAllDocsQuery());
  qr=srchr.search(qr,cmd);
  DocList docs=qr.getDocList();
  Set<String> fields=new HashSet<String>();
  fields.add("val_t");
  SolrDocumentList list=SolrPluginUtils.docListToSolrDocumentList(docs,srchr,fields,null);
  assertTrue("list Size: " + list.size() + " is not: "+ docs.size(),list.size() == docs.size());
  for (  SolrDocument document : list) {
    assertNotNull(document.get("val_t"));
  }
  holder.close();
}
