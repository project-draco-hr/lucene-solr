{
  IndexReader r=IndexReader.open(userindex,true);
  spellChecker.clearIndex();
  String field="field1";
  addwords(r,spellChecker,"field1");
  int num_field1=this.numdoc();
  addwords(r,spellChecker,"field2");
  int num_field2=this.numdoc();
  assertEquals(num_field2,num_field1 + 1);
  checkCommonSuggestions(r);
  assertLastSearcherOpen(4);
  spellChecker.close();
  assertSearchersClosed();
  try {
    spellChecker.close();
    fail("spellchecker was already closed");
  }
 catch (  AlreadyClosedException e) {
  }
  try {
    checkCommonSuggestions(r);
    fail("spellchecker was already closed");
  }
 catch (  AlreadyClosedException e) {
  }
  try {
    spellChecker.clearIndex();
    fail("spellchecker was already closed");
  }
 catch (  AlreadyClosedException e) {
  }
  try {
    spellChecker.indexDictionary(new LuceneDictionary(r,field),newIndexWriterConfig(TEST_VERSION_CURRENT,null),false);
    fail("spellchecker was already closed");
  }
 catch (  AlreadyClosedException e) {
  }
  try {
    spellChecker.setSpellIndex(spellindex);
    fail("spellchecker was already closed");
  }
 catch (  AlreadyClosedException e) {
  }
  assertEquals(4,searchers.size());
  assertSearchersClosed();
  r.close();
}
