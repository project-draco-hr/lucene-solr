{
  super.setUp();
  userindex=newDirectory();
  IndexWriter writer=new IndexWriter(userindex,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer(random)));
  for (int i=0; i < 1000; i++) {
    Document doc=new Document();
    doc.add(newField("field1",English.intToEnglish(i),Field.Store.YES,Field.Index.ANALYZED));
    doc.add(newField("field2",English.intToEnglish(i + 1),Field.Store.YES,Field.Index.ANALYZED));
    doc.add(newField("field3","fvei" + (i % 2 == 0 ? " five" : ""),Field.Store.YES,Field.Index.ANALYZED));
    writer.addDocument(doc);
  }
  writer.close();
  searchers=Collections.synchronizedList(new ArrayList<IndexSearcher>());
  spellindex=newDirectory();
  spellChecker=new SpellCheckerMock(spellindex);
}
