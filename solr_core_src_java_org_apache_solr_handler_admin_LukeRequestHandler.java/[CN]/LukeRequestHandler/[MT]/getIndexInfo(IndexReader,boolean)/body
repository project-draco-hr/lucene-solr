{
  Directory dir=reader.directory();
  SimpleOrderedMap<Object> indexInfo=new SimpleOrderedMap<Object>();
  indexInfo.add("numDocs",reader.numDocs());
  indexInfo.add("maxDoc",reader.maxDoc());
  if (countTerms) {
    Fields fields=MultiFields.getFields(reader);
    int numTerms=0;
    if (fields != null) {
      FieldsEnum fieldsEnum=fields.iterator();
      while (fieldsEnum.next() != null) {
        TermsEnum termsEnum=fieldsEnum.terms();
        while (termsEnum.next() != null) {
          numTerms++;
        }
      }
    }
    indexInfo.add("numTerms",numTerms);
  }
  indexInfo.add("version",reader.getVersion());
  indexInfo.add("segmentCount",reader.getSequentialSubReaders().length);
  indexInfo.add("current",reader.isCurrent());
  indexInfo.add("hasDeletions",reader.hasDeletions());
  indexInfo.add("directory",dir);
  indexInfo.add("lastModified",new Date(IndexReader.lastModified(dir)));
  return indexInfo;
}
