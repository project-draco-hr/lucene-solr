{
  Token t=new Token();
  char[] content="hello".toCharArray();
  t.copyBuffer(content,0,content.length);
  assertNotSame(t.buffer(),content);
  assertEquals(0,t.startOffset());
  assertEquals(0,t.endOffset());
  assertEquals("hello",t.toString());
  assertEquals("word",t.type());
  assertEquals(0,t.getFlags());
  t=new Token(6,22);
  t.copyBuffer(content,0,content.length);
  assertEquals("hello",t.toString());
  assertEquals("hello",t.toString());
  assertEquals(6,t.startOffset());
  assertEquals(22,t.endOffset());
  assertEquals("word",t.type());
  assertEquals(0,t.getFlags());
  t=new Token(6,22,7);
  t.copyBuffer(content,0,content.length);
  assertEquals("hello",t.toString());
  assertEquals("hello",t.toString());
  assertEquals(6,t.startOffset());
  assertEquals(22,t.endOffset());
  assertEquals("word",t.type());
  assertEquals(7,t.getFlags());
  t=new Token(6,22,"junk");
  t.copyBuffer(content,0,content.length);
  assertEquals("hello",t.toString());
  assertEquals("hello",t.toString());
  assertEquals(6,t.startOffset());
  assertEquals(22,t.endOffset());
  assertEquals("junk",t.type());
  assertEquals(0,t.getFlags());
}
