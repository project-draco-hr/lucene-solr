{
  for (int i=0; i < readers.length; i++) {
    final CompositeReader reader=readers[i];
    final IndexReader[] subs=reader.getSequentialSubReaders();
    if (reader.maxDoc() != maxDoc) {
      throw new IllegalArgumentException("All readers must have same maxDoc: " + maxDoc + "!="+ reader.maxDoc());
    }
    if (subs.length != childMaxDoc.length) {
      throw new IllegalArgumentException("All readers must have same number of subReaders");
    }
    for (int subIDX=0; subIDX < subs.length; subIDX++) {
      if (subs[subIDX].maxDoc() != childMaxDoc[subIDX]) {
        throw new IllegalArgumentException("All readers must have same subReader maxDoc");
      }
    }
  }
}
