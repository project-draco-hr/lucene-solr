{
  DirectSpellChecker spellChecker=new DirectSpellChecker();
  Directory dir=newDirectory();
  RandomIndexWriter writer=new RandomIndexWriter(random,dir,new MockAnalyzer(random,MockTokenizer.SIMPLE,true));
  for (int i=0; i < 20; i++) {
    Document doc=new Document();
    doc.add(newField("numbers",English.intToEnglish(i),TextField.TYPE_UNSTORED));
    writer.addDocument(doc);
  }
  IndexReader ir=writer.getReader();
  SuggestWord[] similar=spellChecker.suggestSimilar(new Term("numbers","fvie"),1,ir,SuggestMode.SUGGEST_WHEN_NOT_IN_INDEX);
  assertEquals(1,similar.length);
  assertEquals("five",similar[0].string);
  ir.close();
  writer.close();
  dir.close();
}
