{
  InputStream input=null;
  try {
    input=loader.openResource(fileName);
    String rules=IOUtils.toString(input,"UTF-8");
    return new RuleBasedCollator(rules);
  }
 catch (  IOException e) {
    throw new InitializationException("IOException thrown while loading rules",e);
  }
catch (  ParseException e) {
    throw new InitializationException("ParseException thrown while parsing rules",e);
  }
 finally {
    IOUtils.closeQuietly(input);
  }
}
