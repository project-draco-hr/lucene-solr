{
  int numObjects=random().nextInt(4) + 3;
  TwoPhaseCommit[] tpcs=new TwoPhaseCommit[numObjects];
  boolean setNull=false;
  for (int i=0; i < tpcs.length; i++) {
    boolean isNull=random().nextDouble() < 0.3;
    if (isNull) {
      setNull=true;
      tpcs[i]=null;
    }
 else {
      tpcs[i]=new TwoPhaseCommitImpl(false,false,false);
    }
  }
  if (!setNull) {
    int idx=random().nextInt(numObjects);
    tpcs[idx]=null;
  }
  TwoPhaseCommitTool.execute(tpcs);
}
