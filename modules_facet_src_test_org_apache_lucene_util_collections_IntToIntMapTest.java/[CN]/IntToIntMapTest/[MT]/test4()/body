{
  IntToIntMap map=new IntToIntMap();
  int length=ArrayHashMapTest.RANDOM_TEST_NUM_ITERATIONS;
  long seed=random.nextLong();
  Random random=new Random(seed);
  for (int i=0; i < length; ++i) {
    int value=random.nextInt(Integer.MAX_VALUE);
    map.put(i * 128,value);
  }
  assertEquals(length,map.size());
  random.setSeed(seed);
  for (int i=0; i < length; ++i) {
    int value=random.nextInt(Integer.MAX_VALUE);
    assertTrue(map.containsValue(value));
    assertTrue(map.containsKey(i * 128));
    assertEquals(value,map.remove(i * 128));
  }
  assertEquals(0,map.size());
  assertTrue(map.isEmpty());
}
