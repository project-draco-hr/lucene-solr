{
  Map map=new HashMap();
  if (doCount) {
    SolrDocumentList solrDocumentList=(SolrDocumentList)response.get("response");
    this.count=solrDocumentList.getNumFound();
    map.put("count(*)",this.count);
  }
  NamedList stats=(NamedList)response.get("stats");
  NamedList statsFields=(NamedList)stats.get("stats_fields");
  for (int i=0; i < statsFields.size(); i++) {
    String field=statsFields.getName(i);
    NamedList theStats=(NamedList)statsFields.getVal(i);
    for (int s=0; s < theStats.size(); s++) {
      addStat(map,field,theStats.getName(s),theStats.getVal(s));
    }
  }
  Tuple tuple=new Tuple(map);
  return tuple;
}
