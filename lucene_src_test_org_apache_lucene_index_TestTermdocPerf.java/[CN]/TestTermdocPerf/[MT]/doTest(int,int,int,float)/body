{
  Directory dir=new MockRAMDirectory();
  long start=System.currentTimeMillis();
  addDocs(dir,ndocs,"foo","val",maxTF,percentDocs);
  long end=System.currentTimeMillis();
  if (VERBOSE)   System.out.println("milliseconds for creation of " + ndocs + " docs = "+ (end - start));
  IndexReader reader=IndexReader.open(dir,true);
  TermsEnum tenum=MultiFields.getTerms(reader,"foo").iterator();
  start=System.currentTimeMillis();
  int ret=0;
  DocsEnum tdocs=null;
  for (int i=0; i < iter; i++) {
    tenum.seek(new BytesRef("val"));
    tdocs=tenum.docs(MultiFields.getDeletedDocs(reader),tdocs);
    while (tdocs.nextDoc() != DocsEnum.NO_MORE_DOCS) {
      ret+=tdocs.docID();
    }
  }
  end=System.currentTimeMillis();
  if (VERBOSE)   System.out.println("milliseconds for " + iter + " TermDocs iteration: "+ (end - start));
  return ret;
}
