{
  SchemaField sfield=schema.getFieldOrNull(name);
  if (sfield != null) {
    addField(sfield,val,boost);
  }
  SchemaField[] destArr=schema.getCopyFields(name);
  if (destArr != null) {
    for (    SchemaField destField : destArr) {
      addSingleField(destField,val,boost);
    }
  }
  if (sfield == null && (destArr == null || destArr.length == 0)) {
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"ERROR:unknown field '" + name + "'");
  }
}
