{
  final int ord=groupIndex.getOrd(doc);
  BytesRef groupValue;
  if (ord == -1) {
    groupValue=null;
  }
 else {
    groupValue=groupIndex.lookupOrd(ord);
  }
  GroupHead groupHead=groups.get(groupValue);
  if (groupHead == null) {
    groupValue=groupValue == null ? null : BytesRef.deepCopyOf(groupValue);
    groupHead=new GroupHead(groupValue,sortWithinGroup,doc);
    groups.put(groupValue,groupHead);
    temporalResult.stop=true;
  }
 else {
    temporalResult.stop=false;
  }
  temporalResult.groupHead=groupHead;
}
