{
  if (fields[compIDX].getType() == SortField.Type.SCORE) {
    float score=scorer.score();
    if (scores[compIDX] < score) {
      return 1;
    }
 else     if (scores[compIDX] > score) {
      return -1;
    }
    return 0;
  }
 else {
    if (sortOrds[compIDX] < 0) {
      final BytesRef term=sortsIndex[compIDX].get(doc);
      return sortValues[compIDX].compareTo(term);
    }
 else {
      return sortOrds[compIDX] - sortsIndex[compIDX].getOrd(doc);
    }
  }
}
