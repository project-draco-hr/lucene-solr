{
  if (fields[compIDX].getType() == SortField.Type.SCORE) {
    float score=scorer.score();
    if (scores[compIDX] < score) {
      return 1;
    }
 else     if (scores[compIDX] > score) {
      return -1;
    }
    return 0;
  }
 else {
    if (sortOrds[compIDX] < 0) {
      if (sortsIndex[compIDX].getOrd(doc) == -1) {
        scratchBytesRef.length=0;
      }
 else {
        sortsIndex[compIDX].getTerm(doc,scratchBytesRef);
      }
      return sortValues[compIDX].compareTo(scratchBytesRef);
    }
 else {
      return sortOrds[compIDX] - sortsIndex[compIDX].getOrd(doc);
    }
  }
}
