{
  File tmpdir=File.createTempFile("test","tmp",dataDir);
  tmpdir.delete();
  tmpdir.mkdir();
  tmpdir.deleteOnExit();
  File childdir=new File(tmpdir + "/child");
  childdir.mkdirs();
  childdir.deleteOnExit();
  createFile(childdir,"a.xml","a.xml".getBytes(StandardCharsets.UTF_8),true);
  createFile(childdir,"b.xml","b.xml".getBytes(StandardCharsets.UTF_8),true);
  createFile(childdir,"c.props","c.props".getBytes(StandardCharsets.UTF_8),true);
  Map attrs=createMap(FileListEntityProcessor.FILE_NAME,"^.*\\.xml$",FileListEntityProcessor.BASE_DIR,childdir.getAbsolutePath(),FileListEntityProcessor.RECURSIVE,"true");
  List<String> fList=getFiles(null,attrs);
  assertEquals(2,fList.size());
}
