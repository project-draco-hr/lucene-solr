{
  super.init(schema,args);
  if (args.containsKey(SpatialPrefixTreeFactory.MAX_DIST_ERR)) {
    double maxDistErrOriginal=Double.parseDouble(args.get(SpatialPrefixTreeFactory.MAX_DIST_ERR));
    args.put(SpatialPrefixTreeFactory.MAX_DIST_ERR,Double.toString(maxDistErrOriginal * distanceUnits.multiplierFromThisUnitToDegrees()));
  }
  MapListener<String,String> argsWrap=new MapListener<>(args);
  grid=SpatialPrefixTreeFactory.makeSPT(argsWrap,schema.getResourceLoader().getClassLoader(),ctx);
  args.keySet().removeAll(argsWrap.getSeenKeys());
  String v=args.remove(SpatialArgsParser.DIST_ERR_PCT);
  if (v != null)   distErrPct=Double.valueOf(v);
  v=args.remove(DEFAULT_FIELD_VALUES_ARRAY_LEN);
  if (v != null)   defaultFieldValuesArrayLen=Integer.valueOf(v);
}
