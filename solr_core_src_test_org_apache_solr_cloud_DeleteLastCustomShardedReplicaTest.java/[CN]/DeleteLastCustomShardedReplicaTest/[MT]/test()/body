{
  int replicationFactor=1;
  int maxShardsPerNode=5;
  Map<String,Object> props=ZkNodeProps.makeMap("router.name",ImplicitDocRouter.NAME,REPLICATION_FACTOR,replicationFactor,MAX_SHARDS_PER_NODE,maxShardsPerNode,NUM_SLICES,1,SHARDS_PROP,"a,b");
  Map<String,List<Integer>> collectionInfos=new HashMap<>();
  String collectionName="customcollreplicadeletion";
  createCollection(collectionInfos,collectionName,props,client);
  waitForRecoveriesToFinish(collectionName,false);
  DocCollection testcoll=getCommonCloudSolrClient().getZkStateReader().getClusterState().getCollection(collectionName);
  Replica replica=testcoll.getSlice("a").getReplicas().iterator().next();
  removeAndWaitForLastReplicaGone(collectionName,replica,"a");
}
