{
  LongBitSet bits=new LongBitSet(5);
  bits.set(1);
  bits.set(4);
  LongBitSet newBits=LongBitSet.ensureCapacity(bits,8);
  assertTrue(newBits.get(1));
  assertTrue(newBits.get(4));
  newBits.clear(1);
  assertTrue(bits.get(1));
  assertFalse(newBits.get(1));
  newBits.set(1);
  newBits=LongBitSet.ensureCapacity(newBits,newBits.length() - 2);
  assertTrue(newBits.get(1));
  bits.set(1);
  newBits=LongBitSet.ensureCapacity(bits,72);
  assertTrue(newBits.get(1));
  assertTrue(newBits.get(4));
  newBits.clear(1);
  assertTrue(bits.get(1));
  assertFalse(newBits.get(1));
}
