{
  SavedStreams streams=(SavedStreams)getPreviousTokenStream();
  if (streams == null) {
    streams=new SavedStreams();
    streams.source=new LowerCaseTokenizer(reader);
    if (useDefaultStopPositionIncrement) {
      streams.result=new StopFilter(streams.source,stopWords);
    }
 else {
      streams.result=new StopFilter(enablePositionIncrements,streams.source,stopWords);
    }
    setPreviousTokenStream(streams);
  }
 else   streams.source.reset(reader);
  return streams.result;
}
