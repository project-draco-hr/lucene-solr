{
  super(BooleanQuery.this);
  this.needsScores=needsScores;
  this.similarity=searcher.getSimilarity();
  this.disableCoord=disableCoord;
  weights=new ArrayList<>(clauses.size());
  for (int i=0; i < clauses.size(); i++) {
    BooleanClause c=clauses.get(i);
    final boolean queryNeedsScores=needsScores && c.getOccur() != Occur.MUST_NOT;
    Weight w=c.getQuery().createWeight(searcher,queryNeedsScores);
    weights.add(w);
    if (!c.isProhibited()) {
      maxCoord++;
    }
  }
}
