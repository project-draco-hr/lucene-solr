{
  TokenStream tokenStream=tokenStream(content);
  if (memoryIndex != null) {
    memoryIndex.reset();
    if (preMemIndexFilterAutomaton != null) {
      tokenStream=newKeepWordFilter(tokenStream,preMemIndexFilterAutomaton);
    }
    memoryIndex.addField(field,tokenStream);
    tokenStream=null;
    docId=0;
    if (automata.length > 0) {
      Terms foundTerms=leafReader.terms(field);
      if (foundTerms == null) {
        return Collections.emptyList();
      }
      tokenStream=MultiTermHighlighting.uninvertAndFilterTerms(foundTerms,0,automata,content.length());
    }
  }
  return createOffsetsEnums(leafReader,docId,tokenStream);
}
