{
  String rows=request.getParams().get("rows");
  if (rows != null) {
    results_per_page=new Integer(rows);
  }
  DocSlice doc_slice=(DocSlice)response.getValues().get("response");
  if (doc_slice != null) {
    results_found=doc_slice.matches();
    start=doc_slice.offset();
  }
  page_count=(int)Math.ceil(results_found / (double)results_per_page);
  current_page_number=(int)Math.ceil(start / (double)results_per_page) + (page_count > 0 ? 1 : 0);
}
