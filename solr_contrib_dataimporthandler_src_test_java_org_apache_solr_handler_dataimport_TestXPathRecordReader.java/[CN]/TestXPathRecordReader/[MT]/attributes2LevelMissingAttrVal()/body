{
  String xml="<root>\n" + "<a>\n  <b a=\"x0\" b=\"y0\" />\n" + "       <b a=\"x1\" b=\"y1\" />\n"+ "       </a>"+ "<a>\n  <b a=\"x3\"  />\n"+ "       <b b=\"y4\" />\n"+ "       </a>"+ "</root>";
  XPathRecordReader rr=new XPathRecordReader("/root/a");
  rr.addField("a","/root/a/b/@a",true);
  rr.addField("b","/root/a/b/@b",true);
  List<Map<String,Object>> l=rr.getAllRecords(new StringReader(xml));
  Assert.assertEquals(2,l.size());
  Assert.assertNull(((List)l.get(1).get("a")).get(1));
  Assert.assertNull(((List)l.get(1).get("b")).get(0));
}
