{
  String malformedXml="<root>\n" + "    <node>\n" + "        <id>1</id>\n"+ "        <desc>test1</desc>\n"+ "    </node>\n"+ "    <node>\n"+ "        <id>2</id>\n"+ "        <desc>test2</desc>\n"+ "    </node>\n"+ "    <node>\n"+ "        <id/>3</id>\n"+ "        <desc>test3</desc>\n"+ "    </node>\n"+ "</root>";
  XPathRecordReader rr=new XPathRecordReader("/root/node");
  rr.addField("id","/root/node/id",true);
  rr.addField("desc","/root/node/desc",true);
  try {
    rr.getAllRecords(new StringReader(malformedXml));
    Assert.fail("A RuntimeException was expected: the input XML is invalid.");
  }
 catch (  Exception e) {
  }
}
