{
  String xml="<root>\n" + "\t<a>\n" + "\t   <b>\n\t  <x>x0</x>\n"+ "\t            <y>y0</y>\n"+ "\t            </b>\n"+ "\t   <b>\n\t  <x>x1</x>\n"+ "\t            <y>y1</y>\n"+ "\t            </b>\n"+ "\t   </a>\n"+ "\t<a>\n"+ "\t   <b>\n\t  <x>x3</x>\n\t   </b>\n"+ "\t   <b>\n\t  <y>y4</y>\n\t   </b>\n"+ "\t   </a>\n"+ "</root>";
  XPathRecordReader rr=new XPathRecordReader("/root/a");
  rr.addField("a","/root/a/b/x",true);
  rr.addField("b","/root/a/b/y",true);
  List<Map<String,Object>> l=rr.getAllRecords(new StringReader(xml));
  assertEquals(2,l.size());
  assertNull(((List)l.get(1).get("a")).get(1));
  assertNull(((List)l.get(1).get("b")).get(0));
}
