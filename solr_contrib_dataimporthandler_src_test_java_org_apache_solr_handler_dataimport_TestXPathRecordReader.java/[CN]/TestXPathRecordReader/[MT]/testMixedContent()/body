{
  String xml="<xhtml:p xmlns:xhtml=\"http://xhtml.com/\" >This text is \n" + "  <xhtml:b>bold</xhtml:b> and this text is \n" + "  <xhtml:u>underlined</xhtml:u>!\n"+ "</xhtml:p>";
  XPathRecordReader rr=new XPathRecordReader("/p");
  rr.addField("p","/p",true);
  rr.addField("b","/p/b",true);
  rr.addField("u","/p/u",true);
  List<Map<String,Object>> l=rr.getAllRecords(new StringReader(xml));
  Map<String,Object> row=l.get(0);
  assertEquals("bold",((List)row.get("b")).get(0));
  assertEquals("underlined",((List)row.get("u")).get(0));
  String p=(String)((List)row.get("p")).get(0);
  assertTrue(p.contains("This text is"));
  assertTrue(p.contains("and this text is"));
  assertTrue(p.contains("!"));
  assertFalse(p.contains("bold"));
}
