{
  assert(jetty != null);
  monkeyLog("stop shard! " + jetty.getLocalPort());
  SolrDispatchFilter sdf=jetty.getSolrDispatchFilter();
  if (sdf != null) {
    try {
      sdf.destroy();
    }
 catch (    Throwable t) {
      log.error("",t);
    }
  }
  try {
    jetty.stop();
  }
 catch (  InterruptedException e) {
    log.info("Jetty stop interrupted - should be a test caused interruption, we will try again to be sure we shutdown");
  }
  if (!jetty.isStopped()) {
    jetty.stop();
  }
  if (!jetty.isStopped()) {
    throw new RuntimeException("could not stop jetty");
  }
}
