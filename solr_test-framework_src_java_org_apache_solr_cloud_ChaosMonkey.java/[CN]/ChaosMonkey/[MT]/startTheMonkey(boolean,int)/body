{
  if (!MONKEY_ENABLED) {
    monkeyLog("The Monkey is disabled and will not start");
    return;
  }
  monkeyLog("starting");
  if (chaosRandom.nextBoolean()) {
    monkeyLog("Jetty will not commit on close");
    DirectUpdateHandler2.commitOnClose=false;
  }
  this.aggressivelyKillLeaders=killLeaders;
  runTimer=new RTimer();
  stop=false;
  monkeyThread=new Thread(){
    @Override public void run(){
      while (!stop) {
        try {
          Thread.sleep(chaosRandom.nextInt(roundPauseUpperLimit));
          causeSomeChaos();
        }
 catch (        InterruptedException e) {
        }
catch (        Exception e) {
          e.printStackTrace();
        }
      }
      monkeyLog("finished");
      monkeyLog("I ran for " + runTimer.getTime() / 1000 + "s. I stopped " + stops + " and I started " + starts + ". I also expired " + expires.get() + " and caused " + connloss + " connection losses");
    }
  }
;
  monkeyThread.start();
}
