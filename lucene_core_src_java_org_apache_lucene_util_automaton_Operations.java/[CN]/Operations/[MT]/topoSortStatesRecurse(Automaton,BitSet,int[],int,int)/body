{
  Transition t=new Transition();
  int count=a.initTransition(state,t);
  for (int i=0; i < count; i++) {
    a.getNextTransition(t);
    if (!visited.get(t.dest)) {
      visited.set(t.dest);
      upto=topoSortStatesRecurse(a,visited,states,upto,t.dest);
    }
  }
  states[upto]=state;
  upto++;
  return upto;
}
