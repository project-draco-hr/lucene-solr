{
  IndexTaxonomyWriterPair[] pairs=new IndexTaxonomyWriterPair[dirs.length];
  for (int i=0; i < dirs.length; i++) {
    IndexTaxonomyWriterPair pair=new IndexTaxonomyWriterPair();
    pair.indexWriter=new IndexWriter(dirs[i][0],new IndexWriterConfig(LuceneTestCase.TEST_VERSION_CURRENT,new StandardAnalyzer(LuceneTestCase.TEST_VERSION_CURRENT)));
    pair.taxWriter=new DirectoryTaxonomyWriter(dirs[i][1]);
    pair.indexWriter.commit();
    pair.taxWriter.commit();
    pairs[i]=pair;
  }
  return pairs;
}
