{
  Collector[] collectors=new Collector[2];
  FacetSearchParams facetSearchParams=new FacetSearchParams(iParams);
  Collection<FacetRequest> fRequests=new ArrayList<FacetRequest>();
  for (  String facetName : facetNames) {
    CategoryPath cp=new CategoryPath(facetName);
    FacetRequest fq=new CountFacetRequest(cp,k);
    facetSearchParams.addFacetRequest(fq);
    fRequests.add(fq);
  }
  TopScoreDocCollector topDocsCollector=TopScoreDocCollector.create(searcher.getIndexReader().maxDoc(),true);
  FacetsCollector facetsCollector=new FacetsCollector(facetSearchParams,searcher.getIndexReader(),taxonomyReader);
  Collector mColl=MultiCollector.wrap(topDocsCollector,facetsCollector);
  collectors[0]=topDocsCollector;
  collectors[1]=facetsCollector;
  searcher.search(new MatchAllDocsQuery(),mColl);
  return collectors;
}
