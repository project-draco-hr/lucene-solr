{
  String tags="#  verb-main:\n" + "??????-??????\n";
  JapaneseTokenizerFactory tokenizerFactory=new JapaneseTokenizerFactory(new HashMap<String,String>());
  tokenizerFactory.inform(new StringMockResourceLoader(""));
  TokenStream ts=tokenizerFactory.create();
  ((Tokenizer)ts).setReader(new StringReader("???????????????????????????????????????"));
  Map<String,String> args=new HashMap<String,String>();
  args.put("luceneMatchVersion",TEST_VERSION_CURRENT.toString());
  args.put("tags","stoptags.txt");
  JapanesePartOfSpeechStopFilterFactory factory=new JapanesePartOfSpeechStopFilterFactory(args);
  factory.inform(new StringMockResourceLoader(tags));
  ts=factory.create(ts);
  assertTokenStreamContents(ts,new String[]{"???","???","??????","????????????","???"});
}
