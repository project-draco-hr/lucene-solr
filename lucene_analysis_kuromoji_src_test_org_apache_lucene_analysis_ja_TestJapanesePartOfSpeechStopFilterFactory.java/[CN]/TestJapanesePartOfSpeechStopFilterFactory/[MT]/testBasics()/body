{
  String tags="#  verb-main:\n" + "??????-??????\n";
  JapaneseTokenizerFactory tokenizerFactory=new JapaneseTokenizerFactory();
  tokenizerFactory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  Map<String,String> tokenizerArgs=Collections.emptyMap();
  tokenizerFactory.init(tokenizerArgs);
  tokenizerFactory.inform(new SolrResourceLoader(null,null));
  TokenStream ts=tokenizerFactory.create(new StringReader("???????????????????????????????????????"));
  JapanesePartOfSpeechStopFilterFactory factory=new JapanesePartOfSpeechStopFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("tags","stoptags.txt");
  factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  factory.init(args);
  factory.inform(new StringMockSolrResourceLoader(tags));
  ts=factory.create(ts);
  assertTokenStreamContents(ts,new String[]{"???","???","??????","????????????","???"});
}
