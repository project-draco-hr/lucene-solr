{
  CloudConfig cloudConfig=new CloudConfig.CloudConfigBuilder(System.getProperty("host"),Integer.getInteger("hostPort",8983),System.getProperty("hostContext","")).setZkClientTimeout(Integer.getInteger("zkClientTimeout",30000)).build();
  if (System.getProperty("zkHost") == null)   cloudConfig=null;
  UpdateShardHandlerConfig updateShardHandlerConfig=new UpdateShardHandlerConfig(UpdateShardHandlerConfig.DEFAULT_MAXUPDATECONNECTIONS,UpdateShardHandlerConfig.DEFAULT_MAXUPDATECONNECTIONSPERHOST,30000,30000);
  return new NodeConfig.NodeConfigBuilder("testNode",loader).setUseSchemaCache(Boolean.getBoolean("shareSchema")).setCloudConfig(cloudConfig).setUpdateShardHandlerConfig(updateShardHandlerConfig).build();
}
