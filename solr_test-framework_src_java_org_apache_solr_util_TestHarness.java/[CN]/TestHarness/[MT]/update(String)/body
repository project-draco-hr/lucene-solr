{
  SolrCore core=getCoreInc();
  DirectSolrConnection connection=new DirectSolrConnection(core);
  SolrRequestHandler handler=core.getRequestHandler("/update");
  if (handler == null) {
    handler=updater;
  }
  try {
    return connection.request(handler,null,xml);
  }
 catch (  SolrException e) {
    throw (SolrException)e;
  }
catch (  Exception e) {
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,e);
  }
 finally {
    core.close();
  }
}
