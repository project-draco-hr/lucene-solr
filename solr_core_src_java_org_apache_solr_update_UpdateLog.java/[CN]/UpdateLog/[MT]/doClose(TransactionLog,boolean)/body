{
  if (theLog != null) {
    if (writeCommit) {
      log.info("Recording current closed for " + uhandler.core + " log="+ theLog);
      CommitUpdateCommand cmd=new CommitUpdateCommand(new LocalSolrQueryRequest(uhandler.core,new ModifiableSolrParams((SolrParams)null)),false);
      theLog.writeCommit(cmd);
    }
    theLog.deleteOnClose=false;
    theLog.decref();
    theLog.forceClose();
  }
}
