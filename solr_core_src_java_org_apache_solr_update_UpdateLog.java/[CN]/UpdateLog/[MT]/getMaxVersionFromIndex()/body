{
  if (maxVersionFromIndex == null && versionInfo != null) {
    RefCounted<SolrIndexSearcher> newestSearcher=(uhandler != null && uhandler.core != null) ? uhandler.core.getRealtimeSearcher() : null;
    if (newestSearcher == null)     throw new IllegalStateException("No searcher available to lookup max version from index!");
    try {
      maxVersionFromIndex=seedBucketsWithHighestVersion(newestSearcher.get(),versionInfo);
    }
  finally {
      newestSearcher.decref();
    }
  }
  return maxVersionFromIndex;
}
