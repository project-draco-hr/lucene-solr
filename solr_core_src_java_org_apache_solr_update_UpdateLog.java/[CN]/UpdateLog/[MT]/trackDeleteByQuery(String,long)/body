{
  version=Math.abs(version);
  DBQ dbq=new DBQ();
  dbq.q=q;
  dbq.version=version;
synchronized (this) {
    if (deleteByQueries.isEmpty() || deleteByQueries.getFirst().version < version) {
      deleteByQueries.addFirst(dbq);
    }
 else {
      ListIterator<DBQ> iter=deleteByQueries.listIterator();
      iter.next();
      while (iter.hasNext()) {
        DBQ oldDBQ=iter.next();
        if (oldDBQ.version < version) {
          iter.previous();
          break;
        }
 else         if (oldDBQ.version == version && oldDBQ.q.equals(q)) {
          return;
        }
      }
      iter.add(dbq);
    }
    if (deleteByQueries.size() > numDeletesByQueryToKeep) {
      deleteByQueries.removeLast();
    }
  }
}
