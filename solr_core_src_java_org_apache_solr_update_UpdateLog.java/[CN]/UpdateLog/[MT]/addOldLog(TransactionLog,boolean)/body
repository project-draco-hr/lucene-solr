{
  if (oldLog == null)   return;
  numOldRecords+=oldLog.numRecords();
  int currRecords=numOldRecords;
  if (oldLog != tlog && tlog != null) {
    currRecords+=tlog.numRecords();
  }
  while (removeOld && logs.size() > 0) {
    TransactionLog log=logs.peekLast();
    int nrec=log.numRecords();
    if (currRecords - nrec >= numRecordsToKeep || (maxNumLogsToKeep > 0 && logs.size() >= maxNumLogsToKeep)) {
      currRecords-=nrec;
      numOldRecords-=nrec;
      logs.removeLast().decref();
      continue;
    }
    break;
  }
  logs.addFirst(oldLog);
}
