{
  RMIClientSocketFactory clientFactory=new RMIClientSocketFactory(){
    public Socket createSocket(    String host,    int port) throws IOException {
      return new Socket(host,port);
    }
  }
;
class TestRMIServerSocketFactory implements RMIServerSocketFactory {
    ServerSocket socket;
    public ServerSocket createServerSocket(    int port) throws IOException {
      return (socket=new ServerSocket(port));
    }
  }
  ;
  TestRMIServerSocketFactory serverFactory=new TestRMIServerSocketFactory();
  LocateRegistry.createRegistry(0,clientFactory,serverFactory);
  RemoteSearchable impl=new RemoteSearchable(searchable);
  port=serverFactory.socket.getLocalPort();
  Naming.rebind("//localhost:" + port + "/Searchable",impl);
}
