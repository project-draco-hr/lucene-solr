{
  SolrQuery query=new SolrQuery("*:*");
  try (HttpSolrClient qclient=getHttpSolrClient(baseUrl + "/onenodecollection" + "core")){
    waitForNon403or404or503(qclient);
    SolrInputDocument doc=new SolrInputDocument();
    doc.addField("id",docs);
    qclient.add(doc);
    qclient.commit();
    QueryResponse results=qclient.query(query);
    assertEquals(docs - 1,results.getResults().getNumFound());
  }
   try (HttpSolrClient qclient=getHttpSolrClient(baseUrl + "/onenodecollection")){
    QueryResponse results=qclient.query(query);
    assertEquals(docs - 1,results.getResults().getNumFound());
    SolrInputDocument doc=new SolrInputDocument();
    doc.addField("id",docs + 1);
    qclient.add(doc);
    qclient.commit();
    query=new SolrQuery("*:*");
    query.set("rows",0);
    results=qclient.query(query);
    assertEquals(docs,results.getResults().getNumFound());
  }
 }
