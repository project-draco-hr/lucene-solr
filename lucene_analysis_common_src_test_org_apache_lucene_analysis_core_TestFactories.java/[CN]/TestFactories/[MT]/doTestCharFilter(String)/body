{
  Class<? extends CharFilterFactory> factoryClazz=CharFilterFactory.lookupClass(charfilter);
  CharFilterFactory factory=(CharFilterFactory)initialize(factoryClazz);
  if (factory != null) {
    if (factory instanceof MultiTermAwareComponent) {
      AbstractAnalysisFactory mtc=((MultiTermAwareComponent)factory).getMultiTermComponent();
      assertNotNull(mtc);
      assertTrue(mtc instanceof CharFilterFactory);
    }
    Analyzer a=new FactoryAnalyzer(assertingTokenizer,null,factory);
    checkRandomData(random(),a,20,20,false,false);
    a.close();
  }
}
