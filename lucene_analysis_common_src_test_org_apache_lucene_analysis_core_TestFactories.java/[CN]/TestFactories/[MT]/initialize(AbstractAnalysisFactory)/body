{
  boolean success=false;
  try {
    factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
    factory.init(Collections.<String,String>emptyMap());
    if (factory instanceof ResourceLoaderAware) {
      ResourceLoaderAware resourceLoaderAware=(ResourceLoaderAware)factory;
      resourceLoaderAware.inform(new ClasspathResourceLoader(factory.getClass()));
    }
    success=true;
  }
 catch (  IllegalArgumentException ignored) {
  }
  if (factory instanceof ResourceLoaderAware) {
    success=false;
    try {
      ((ResourceLoaderAware)factory).inform(new StringMockResourceLoader(""));
      success=true;
    }
 catch (    IOException ignored) {
    }
catch (    IllegalArgumentException ignored) {
    }
  }
  return success;
}
