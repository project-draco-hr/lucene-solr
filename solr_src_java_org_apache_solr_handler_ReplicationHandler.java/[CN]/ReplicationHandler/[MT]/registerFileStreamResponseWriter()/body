{
  core.registerResponseWriter(FILE_STREAM,new BinaryQueryResponseWriter(){
    public void write(    OutputStream out,    SolrQueryRequest request,    SolrQueryResponse resp) throws IOException {
      FileStream stream=(FileStream)resp.getValues().get(FILE_STREAM);
      stream.write(out);
    }
    public void write(    Writer writer,    SolrQueryRequest request,    SolrQueryResponse response) throws IOException {
      throw new RuntimeException("This is a binary writer , Cannot write to a characterstream");
    }
    public String getContentType(    SolrQueryRequest request,    SolrQueryResponse response){
      return "application/octet-stream";
    }
    public void init(    NamedList args){
    }
  }
);
}
