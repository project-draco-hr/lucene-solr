{
  return new SolrEventListener(){
    public void init(    NamedList args){
    }
    /** 
 * This refreshes the latest replicateable index commit and optionally can create Snapshots as well
 */
    public void postCommit(){
      IndexCommit currentCommitPoint=core.getDeletionPolicy().getLatestCommit();
      if (getCommit) {
        indexCommitPoint=currentCommitPoint;
      }
      if (snapshoot) {
        try {
          SnapShooter snapShooter=new SnapShooter(core,null);
          snapShooter.createSnapAsync(currentCommitPoint,ReplicationHandler.this);
        }
 catch (        Exception e) {
          LOG.error("Exception while snapshooting",e);
        }
      }
    }
    public void newSearcher(    SolrIndexSearcher newSearcher,    SolrIndexSearcher currentSearcher){
    }
  }
;
}
