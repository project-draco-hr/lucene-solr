{
  Collection<String> result=new LinkedList<String>();
  try (TokenStream tokenStream=analyzer.tokenStream(textFieldName,doc)){
    CharTermAttribute charTermAttribute=tokenStream.addAttribute(CharTermAttribute.class);
    tokenStream.reset();
    while (tokenStream.incrementToken()) {
      result.add(charTermAttribute.toString());
    }
    tokenStream.end();
  }
   return result.toArray(new String[result.size()]);
}
