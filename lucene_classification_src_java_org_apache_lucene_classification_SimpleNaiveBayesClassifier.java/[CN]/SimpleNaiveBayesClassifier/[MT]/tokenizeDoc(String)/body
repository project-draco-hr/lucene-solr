{
  Collection<String> result=new LinkedList<>();
  for (  String textFieldName : textFieldNames) {
    try (TokenStream tokenStream=analyzer.tokenStream(textFieldName,doc)){
      CharTermAttribute charTermAttribute=tokenStream.addAttribute(CharTermAttribute.class);
      tokenStream.reset();
      while (tokenStream.incrementToken()) {
        result.add(charTermAttribute.toString());
      }
      tokenStream.end();
      tokenStream.close();
    }
   }
  return result.toArray(new String[result.size()]);
}
