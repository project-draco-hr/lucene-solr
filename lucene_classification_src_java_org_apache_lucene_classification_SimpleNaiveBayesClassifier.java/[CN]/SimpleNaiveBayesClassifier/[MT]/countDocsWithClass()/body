{
  int docCount=MultiFields.getTerms(this.leafReader,this.classFieldName).getDocCount();
  if (docCount == -1) {
    TotalHitCountCollector totalHitCountCollector=new TotalHitCountCollector();
    BooleanQuery.Builder q=new BooleanQuery.Builder();
    q.add(new BooleanClause(new WildcardQuery(new Term(classFieldName,String.valueOf(WildcardQuery.WILDCARD_STRING))),BooleanClause.Occur.MUST));
    if (query != null) {
      q.add(query,BooleanClause.Occur.MUST);
    }
    indexSearcher.search(q.build(),totalHitCountCollector);
    docCount=totalHitCountCollector.getTotalHits();
  }
  return docCount;
}
