{
  Terms terms=MultiFields.getTerms(this.leafReader,this.classFieldName);
  int docCount;
  if (terms == null || terms.getDocCount() == -1) {
    TotalHitCountCollector classQueryCountCollector=new TotalHitCountCollector();
    BooleanQuery.Builder q=new BooleanQuery.Builder();
    q.add(new BooleanClause(new WildcardQuery(new Term(classFieldName,String.valueOf(WildcardQuery.WILDCARD_STRING))),BooleanClause.Occur.MUST));
    if (query != null) {
      q.add(query,BooleanClause.Occur.MUST);
    }
    indexSearcher.search(q.build(),classQueryCountCollector);
    docCount=classQueryCountCollector.getTotalHits();
  }
 else {
    docCount=terms.getDocCount();
  }
  return docCount;
}
