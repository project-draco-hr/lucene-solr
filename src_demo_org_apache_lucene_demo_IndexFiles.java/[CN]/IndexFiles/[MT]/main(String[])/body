{
  String usage="java org.apache.lucene.demo.IndexFiles <root_directory>";
  if (args.length == 0) {
    System.err.println("Usage: " + usage);
    System.exit(1);
  }
  Date start=new Date();
  try {
    IndexWriter writer=new IndexWriter("index",new StandardAnalyzer(),true);
    indexDocs(writer,new File(args[0]));
    writer.optimize();
    writer.close();
    Date end=new Date();
    System.out.print(end.getTime() - start.getTime());
    System.out.println(" total milliseconds");
  }
 catch (  IOException e) {
    System.out.println(" caught a " + e.getClass() + "\n with message: "+ e.getMessage());
  }
}
