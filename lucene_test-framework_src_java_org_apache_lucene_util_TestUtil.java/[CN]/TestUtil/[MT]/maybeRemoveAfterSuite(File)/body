{
  if (LuceneTestCase.LEAVE_TEMPORARY) {
    System.err.println("INFO: Will leave temporary file: " + f.getAbsolutePath());
    return f;
  }
  Class<?> suiteClass=RandomizedContext.current().getTargetClass();
  if (suiteClass.isAnnotationPresent(SuppressTempFileChecks.class)) {
    System.err.println("WARNING: Will leave temporary files (bugUrl: " + suiteClass.getAnnotation(SuppressTempFileChecks.class).bugUrl() + "): "+ f.getAbsolutePath());
    return f;
  }
  LuceneTestCase.closeAfterSuite(new RemoveUponClose(f,LuceneTestCase.suiteFailureMarker));
  return f;
}
