{
  for (  FieldInfo info : reader.getFieldInfos()) {
    if (!info.hasNorms()) {
      if (reader.getNormValues(info.name) != null) {
        throw new RuntimeException("field: " + info.name + " should omit norms but has them!");
      }
    }
switch (info.getDocValuesType()) {
case NONE:
      if (reader.getBinaryDocValues(info.name) != null || reader.getNumericDocValues(info.name) != null || reader.getSortedDocValues(info.name) != null || reader.getSortedSetDocValues(info.name) != null || reader.getDocsWithField(info.name) != null) {
        throw new RuntimeException("field: " + info.name + " has docvalues but should omit them!");
      }
    break;
case SORTED:
  if (reader.getBinaryDocValues(info.name) != null || reader.getNumericDocValues(info.name) != null || reader.getSortedNumericDocValues(info.name) != null || reader.getSortedSetDocValues(info.name) != null) {
    throw new RuntimeException(info.name + " returns multiple docvalues types!");
  }
break;
case SORTED_NUMERIC:
if (reader.getBinaryDocValues(info.name) != null || reader.getNumericDocValues(info.name) != null || reader.getSortedSetDocValues(info.name) != null || reader.getSortedDocValues(info.name) != null) {
throw new RuntimeException(info.name + " returns multiple docvalues types!");
}
break;
case SORTED_SET:
if (reader.getBinaryDocValues(info.name) != null || reader.getNumericDocValues(info.name) != null || reader.getSortedNumericDocValues(info.name) != null || reader.getSortedDocValues(info.name) != null) {
throw new RuntimeException(info.name + " returns multiple docvalues types!");
}
break;
case BINARY:
if (reader.getNumericDocValues(info.name) != null || reader.getSortedDocValues(info.name) != null || reader.getSortedNumericDocValues(info.name) != null || reader.getSortedSetDocValues(info.name) != null) {
throw new RuntimeException(info.name + " returns multiple docvalues types!");
}
break;
case NUMERIC:
if (reader.getBinaryDocValues(info.name) != null || reader.getSortedDocValues(info.name) != null || reader.getSortedNumericDocValues(info.name) != null || reader.getSortedSetDocValues(info.name) != null) {
throw new RuntimeException(info.name + " returns multiple docvalues types!");
}
break;
default :
throw new AssertionError();
}
}
}
