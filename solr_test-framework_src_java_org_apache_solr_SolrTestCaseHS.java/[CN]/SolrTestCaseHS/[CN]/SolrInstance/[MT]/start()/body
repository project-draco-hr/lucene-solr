{
  if (!homeCreated) {
    createHome();
  }
  if (jetty == null) {
    JettyConfig jettyConfig=JettyConfig.builder().stopAtShutdown(true).setContext("/solr").setPort(port).withSSLConfig(sslConfig).build();
    Properties nodeProperties=new Properties();
    nodeProperties.setProperty("solrconfig",solrconfigFile);
    nodeProperties.setProperty(CoreDescriptor.CORE_SCHEMA,schemaFile);
    jetty=new JettySolrRunner(baseDir.getAbsolutePath(),nodeProperties,jettyConfig);
  }
  System.setProperty("solr.tests.maxBufferedDocs",String.valueOf(100000));
  jetty.start();
  port=jetty.getLocalPort();
  log.info("===> Started solr server port=" + port + " home="+ getBaseDir());
}
