{
  if (client == null) {
    return getQueryResponse(wt,params);
  }
  ModifiableSolrParams p=new ModifiableSolrParams(params);
  p.set("wt",wt);
  String path=p.get("qt");
  p.remove("qt");
  p.set("indent","true");
  QueryRequest query=new QueryRequest(p);
  if (path != null) {
    query.setPath(path);
  }
  query.setResponseParser(new NoOpResponseParser(wt));
  NamedList<Object> rsp=client.request(query);
  String raw=(String)rsp.get("response");
  return raw;
}
