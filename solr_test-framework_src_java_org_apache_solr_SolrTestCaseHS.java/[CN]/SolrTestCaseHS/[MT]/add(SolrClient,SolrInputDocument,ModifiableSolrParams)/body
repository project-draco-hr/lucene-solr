{
  if (client == null) {
    Long version=addAndGetVersion(sdoc,params);
    return version;
  }
 else {
    UpdateRequest updateRequest=new UpdateRequest();
    if (params != null) {
      updateRequest.setParams(params);
    }
    updateRequest.add(sdoc);
    UpdateResponse rsp=updateRequest.process(client);
    return null;
  }
}
