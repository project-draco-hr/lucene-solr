{
  NamedNodeMap attrs=node.getAttributes();
  String className=DOMUtil.getAttr(attrs,"class","tokenizer");
  TokenizerFactory tfac=(TokenizerFactory)solrConfig.newInstance(className);
  if (tfac instanceof SolrConfig.Initializable) {
    ((SolrConfig.Initializable)tfac).init(solrConfig,DOMUtil.toMapExcept(attrs,"class"));
  }
 else {
    log.warning("calling the deprecated form of init; should be calling init(SolrConfig solrConfig, Map<String,String> args) " + className);
    tfac.init(DOMUtil.toMapExcept(attrs,"class"));
  }
  return tfac;
}
