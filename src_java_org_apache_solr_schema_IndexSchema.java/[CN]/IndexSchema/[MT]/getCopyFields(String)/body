{
  List<SchemaField> matchCopyFields=new ArrayList<SchemaField>();
  for (  DynamicCopy dynamicCopy : dynamicCopyFields) {
    if (dynamicCopy.matches(sourceField)) {
      matchCopyFields.add(dynamicCopy.targetField);
    }
  }
  SchemaField[] fixedCopyFields=copyFields.get(sourceField);
  boolean appendFixed=copyFields.containsKey(sourceField);
  SchemaField[] results=new SchemaField[matchCopyFields.size() + (appendFixed ? fixedCopyFields.length : 0)];
  matchCopyFields.toArray(results);
  if (appendFixed) {
    System.arraycopy(fixedCopyFields,0,results,matchCopyFields.size(),fixedCopyFields.length);
  }
  return results;
}
