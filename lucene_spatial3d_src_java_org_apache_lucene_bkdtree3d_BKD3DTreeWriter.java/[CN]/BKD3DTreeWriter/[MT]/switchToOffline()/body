{
  tempDir=Files.createTempDirectory(OfflineSorter.defaultTempDir(),BKD3DTreeWriter.class.getSimpleName());
  tempInput=tempDir.resolve("in");
  writer=new OfflineSorter.ByteSequencesWriter(tempInput);
  for (int i=0; i < pointCount; i++) {
    scratchBytesOutput.reset(scratchBytes);
    scratchBytesOutput.writeInt(heapWriter.xs[i]);
    scratchBytesOutput.writeInt(heapWriter.ys[i]);
    scratchBytesOutput.writeInt(heapWriter.zs[i]);
    scratchBytesOutput.writeVInt(heapWriter.docIDs[i]);
    scratchBytesOutput.writeVLong(i);
    writer.write(scratchBytes,0,scratchBytes.length);
  }
  heapWriter=null;
}
