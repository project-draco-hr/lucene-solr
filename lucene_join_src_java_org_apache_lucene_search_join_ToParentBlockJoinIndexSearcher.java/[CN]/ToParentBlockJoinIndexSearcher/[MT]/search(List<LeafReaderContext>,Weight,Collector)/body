{
  for (  LeafReaderContext ctx : leaves) {
    Scorer scorer=weight.scorer(ctx,ctx.reader().getLiveDocs(),true);
    if (scorer != null) {
      final LeafCollector leafCollector=collector.getLeafCollector(ctx);
      leafCollector.setScorer(scorer);
      for (int doc=scorer.nextDoc(); doc != DocIdSetIterator.NO_MORE_DOCS; doc=scorer.nextDoc()) {
        leafCollector.collect(doc);
      }
    }
  }
}
