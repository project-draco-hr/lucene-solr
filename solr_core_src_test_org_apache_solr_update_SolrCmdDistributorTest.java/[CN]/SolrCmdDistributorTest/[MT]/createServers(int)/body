{
  controlJetty=createJetty(new File(getSolrHome()),testDir + "/control/data",null,getSolrConfigFile(),getSchemaFile());
  controlClient=createNewSolrClient(controlJetty.getLocalPort());
  shardsArr=new String[numShards];
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < numShards; i++) {
    if (sb.length() > 0)     sb.append(',');
    JettySolrRunner j=createJetty(new File(getSolrHome()),testDir + "/shard" + i+ "/data",null,getSolrConfigFile(),getSchemaFile());
    jettys.add(j);
    clients.add(createNewSolrClient(j.getLocalPort()));
    String shardStr=buildUrl(j.getLocalPort());
    shardsArr[i]=shardStr;
    sb.append(shardStr);
  }
  shards=sb.toString();
}
