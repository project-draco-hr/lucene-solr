{
  final int removed=buffer[position];
  final boolean removedFromBag=frequencies.remove(removed);
  assert removedFromBag;
  buffer[position]=i;
  frequencies.add(i);
  position+=1;
  if (position == maxSize) {
    position=0;
  }
}
