{
  if (a.isSingleton())   return a.singleton;
  Automaton r=a.clone();
  reverse(r);
  r.determinize();
  return reverseUnicode3(SpecialOperations.getCommonPrefix(r));
}
