{
  LogCodec codec=new LogCodec();
synchronized (fos) {
    try {
      long pos=start + fos.size();
      if (pos == 0) {
        writeLogHeader(codec);
        pos=start + fos.size();
      }
      codec.init(fos);
      codec.writeTag(JavaBinCodec.ARR,3);
      codec.writeInt(UpdateLog.DELETE);
      codec.writeLong(0);
      BytesRef br=cmd.getIndexedId();
      codec.writeByteArray(br.bytes,br.offset,br.length);
      return pos;
    }
 catch (    IOException e) {
      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR,e);
    }
  }
}
