{
  super();
  this.parent=parent;
  final String fileName=IndexFileNames.segmentFileName(parent.parent.segment,IndexFileNames.FREQ_EXTENSION);
  state.flushedFiles.add(fileName);
  out=parent.parent.dir.createOutput(fileName);
  totalNumDocs=parent.parent.totalNumDocs;
  skipInterval=parent.parent.termsOut.skipInterval;
  skipListWriter=parent.parent.skipListWriter;
  skipListWriter.setFreqOutput(out);
  posWriter=new FormatPostingsPositionsWriter(state,this);
}
