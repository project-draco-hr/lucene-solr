{
  NUM_COPY=numCopy;
  dir=new MockDirectoryWrapper(random,new RAMDirectory());
  IndexWriter writer=new IndexWriter(dir,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer(random)).setMaxBufferedDocs(2));
  for (int i=0; i < NUM_INIT_DOCS; i++)   addDoc(writer);
  writer.close();
  dir2=newDirectory();
  writer2=new IndexWriter(dir2,new IndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer(random)));
  writer2.setInfoStream(VERBOSE ? System.out : null);
  writer2.commit();
  readers=new IndexReader[NUM_COPY];
  for (int i=0; i < NUM_COPY; i++)   readers[i]=IndexReader.open(dir,true);
}
