{
  SolrServer server=getSolrServer();
  server.deleteByQuery("*:*");
  server.commit();
  SolrInputDocument doc=new SolrInputDocument();
  doc.addField("id","id1",1.0f);
  doc.addField("name","doc1",1.0f);
  doc.addField("price",10);
  server.add(doc);
  doc=new SolrInputDocument();
  doc.addField("id","id2",1.0f);
  server.add(doc);
  server.commit();
  SolrDocumentList out=server.query(new SolrQuery("*:*").set("fl","foofoofoo")).getResults();
  assertEquals(2,out.getNumFound());
  assertEquals(0,out.get(0).size());
  assertEquals(0,out.get(1).size());
}
