{
  SolrClient client=getSolrClient();
  client.deleteByQuery("*:*");
  client.commit();
  assertNumFound("*:*",0);
  UpdateRequest req=new UpdateRequest();
  SolrInputDocument doc=new SolrInputDocument();
  doc.addField("id","42");
  doc.addField("text","??????????????????");
  req.add(doc);
  req.setAction(ACTION.COMMIT,true,true);
  req.process(client);
  SolrQuery query=new SolrQuery("????????????");
  QueryResponse rsp=client.query(query);
  assertEquals(1,rsp.getResults().getNumFound());
}
