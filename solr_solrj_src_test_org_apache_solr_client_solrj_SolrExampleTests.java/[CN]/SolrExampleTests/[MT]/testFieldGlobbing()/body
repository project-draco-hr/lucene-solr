{
  SolrServer server=getSolrServer();
  SolrInputDocument doc=new SolrInputDocument();
  doc.addField("id","testFieldGlobbing");
  doc.addField("x_s","x");
  doc.addField("y_s","y");
  doc.addField("z_s","z");
  server.add(doc);
  server.commit();
  QueryResponse response=server.query(new SolrQuery("id:testFieldGlobbing").addField("id").addField("*_s"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",4,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("*_s"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",3,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("id"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",1,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("id").addField("[docid]").addField("*_s"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",5,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("[docid]").addField("*_s"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",4,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("[docid]"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",1,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("score"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",1,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("score").addField("[docid]"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",2,response.getResults().get(0).getFieldNames().size());
  response=server.query(new SolrQuery("id:testFieldGlobbing").addField("score").addField("*_s"));
  assertEquals("Document not found",1,response.getResults().getNumFound());
  assertEquals("All requested fields were not returned",4,response.getResults().get(0).getFieldNames().size());
}
