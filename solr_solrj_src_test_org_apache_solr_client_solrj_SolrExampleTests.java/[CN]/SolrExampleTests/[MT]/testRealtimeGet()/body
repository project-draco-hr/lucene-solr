{
  SolrClient client=getSolrClient();
  client.deleteByQuery("*:*");
  SolrInputDocument doc=new SolrInputDocument();
  doc.addField("id","DOCID",1.0f);
  doc.addField("name","hello",1.0f);
  client.add(doc);
  client.commit();
  SolrQuery q=new SolrQuery();
  q.setRequestHandler("/get");
  q.set("id","DOCID");
  q.set("fl","id,name,aaa:[value v=aaa]");
  QueryRequest req=new QueryRequest(q);
  req.setResponseParser(new BinaryResponseParser());
  QueryResponse rsp=req.process(client);
  SolrDocument out=(SolrDocument)rsp.getResponse().get("doc");
  assertEquals("DOCID",out.get("id"));
  assertEquals("hello",out.get("name"));
  assertEquals("aaa",out.get("aaa"));
  req.setResponseParser(new XMLResponseParser());
  rsp=req.process(client);
  out=(SolrDocument)rsp.getResponse().get("doc");
  assertEquals("DOCID",out.get("id"));
  assertEquals("hello",out.get("name"));
  assertEquals("aaa",out.get("aaa"));
}
