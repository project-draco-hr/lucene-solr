{
  SolrClient client=getSolrClient();
  client.deleteByQuery("*:*");
  SolrInputDocument[] doc=new SolrInputDocument[5];
  for (int i=0; i < doc.length; i++) {
    doc[i]=new SolrInputDocument();
    doc[i].setField("id","ID" + i,1.0f);
    client.add(doc[i]);
  }
  client.commit();
  assertNumFound("*:*",doc.length);
  LukeRequest luke=new LukeRequest();
  luke.setShowSchema(false);
  LukeResponse rsp=luke.process(client);
  assertNull(rsp.getFieldTypeInfo());
  luke.setShowSchema(true);
  rsp=luke.process(client);
  assertNotNull(rsp.getFieldTypeInfo());
  assertNotNull(rsp.getFieldInfo().get("id").getSchemaFlags());
  assertTrue(rsp.getFieldInfo().get("id").getSchemaFlags().contains(FieldFlag.INDEXED));
}
