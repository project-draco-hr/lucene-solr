{
  final Set<String> result=new HashSet<String>();
  BufferedReader br=null;
  try {
    if (reader instanceof BufferedReader) {
      br=(BufferedReader)reader;
    }
 else {
      br=new BufferedReader(reader);
    }
    String line=null;
    while ((line=br.readLine()) != null) {
      int comment=line.indexOf('|');
      if (comment >= 0)       line=line.substring(0,comment);
      String words[]=line.split("\\s+");
      for (int i=0; i < words.length; i++)       if (words[i].length() > 0)       result.add(words[i]);
    }
  }
  finally {
    if (br != null)     br.close();
  }
  return result;
}
