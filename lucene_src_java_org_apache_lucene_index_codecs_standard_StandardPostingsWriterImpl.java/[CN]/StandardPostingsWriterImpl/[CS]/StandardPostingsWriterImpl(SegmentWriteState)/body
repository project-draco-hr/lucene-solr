{
  super();
  String fileName=IndexFileNames.segmentFileName(state.segmentName,"",StandardCodec.FREQ_EXTENSION);
  state.flushedFiles.add(fileName);
  freqOut=state.directory.createOutput(fileName);
  if (state.fieldInfos.hasProx()) {
    fileName=IndexFileNames.segmentFileName(state.segmentName,"",StandardCodec.PROX_EXTENSION);
    state.flushedFiles.add(fileName);
    proxOut=state.directory.createOutput(fileName);
  }
 else {
    proxOut=null;
  }
  totalNumDocs=state.numDocs;
  skipListWriter=new DefaultSkipListWriter(state.skipInterval,state.maxSkipLevels,state.numDocs,freqOut,proxOut);
  skipInterval=state.skipInterval;
  maxSkipLevels=state.maxSkipLevels;
}
