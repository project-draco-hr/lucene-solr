{
  if (fieldInfo.omitsNorms() == false) {
    if (norms == null) {
      fieldInfo.setNormValueType(FieldInfo.DocValuesType.NUMERIC);
      norms=new NormValuesWriter(fieldInfo,docState.docWriter.bytesUsed);
    }
    if (invertState.length != 0) {
      norms.addValue(docState.docID,similarity.computeNorm(invertState));
    }
  }
  termsHashPerField.finish();
}
