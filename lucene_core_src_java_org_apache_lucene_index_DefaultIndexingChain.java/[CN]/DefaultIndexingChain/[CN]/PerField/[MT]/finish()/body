{
  if (fieldInfo.omitsNorms() == false) {
    if (norms == null) {
      fieldInfo.setNormValueType(FieldInfo.DocValuesType.NUMERIC);
      norms=new NumericDocValuesWriter(fieldInfo,docState.docWriter.bytesUsed,false);
    }
    norms.addValue(docState.docID,similarity.computeNorm(invertState));
  }
  termsHashPerField.finish();
}
