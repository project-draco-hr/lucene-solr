{
  int dimensionCount=field.fieldType().dimensionCount();
  int dimensionNumBytes=field.fieldType().dimensionNumBytes();
  if (fp.fieldInfo.getDimensionCount() == 0) {
    fieldInfos.globalFieldNumbers.setDimensions(fp.fieldInfo.number,fp.fieldInfo.name,dimensionCount,dimensionNumBytes);
  }
  fp.fieldInfo.setDimensions(dimensionCount,dimensionNumBytes);
  if (fp.dimensionalValuesWriter == null) {
    fp.dimensionalValuesWriter=new DimensionalValuesWriter(docWriter,fp.fieldInfo);
  }
  fp.dimensionalValuesWriter.addPackedValue(docState.docID,field.binaryValue());
}
