{
  fields=core.fields.iterator();
  currentField=fields.next();
  if (currentField == null) {
    done=true;
  }
 else   if (t != null) {
    while (currentField.compareTo(t.field) < 0) {
      currentField=fields.next();
      if (currentField == null) {
        done=true;
        break;
      }
    }
    if (!done) {
      terms=fields.terms();
      if (currentField == t.field) {
        String text=t.text();
        BytesRef tr=new BytesRef(UnicodeUtil.nextValidUTF16String(text));
        TermsEnum.SeekStatus status=terms.seek(tr);
        if (status == TermsEnum.SeekStatus.END) {
          terms=null;
          next();
        }
 else         if (status == TermsEnum.SeekStatus.FOUND) {
          currentTerm=tr;
        }
 else {
          currentTerm=terms.term();
        }
      }
 else {
        next();
      }
    }
  }
 else {
    terms=fields.terms();
  }
}
