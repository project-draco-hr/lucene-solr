{
  ensureOpen();
  if (core.isPreFlex) {
    final PreFlexFields pre=(PreFlexFields)core.fields;
    SegmentTermDocs std=new SegmentTermDocs(pre.freqStream,pre.tis,core.fieldInfos);
    std.setSkipDocs(deletedDocs);
    return std;
  }
 else {
    return new LegacyTermDocs();
  }
}
