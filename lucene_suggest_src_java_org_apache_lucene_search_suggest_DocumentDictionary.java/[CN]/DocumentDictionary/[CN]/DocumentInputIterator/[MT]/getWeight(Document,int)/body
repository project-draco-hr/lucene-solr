{
  IndexableField weight=doc.getField(weightField);
  if (weight != null) {
    return (weight.numericValue() != null) ? weight.numericValue().longValue() : 0;
  }
 else   if (weightValues != null) {
    if (weightValues.docID() < docId) {
      weightValues.advance(docId);
    }
    if (weightValues.docID() == docId) {
      return weightValues.longValue();
    }
 else {
      return 0;
    }
  }
 else {
    return 0;
  }
}
