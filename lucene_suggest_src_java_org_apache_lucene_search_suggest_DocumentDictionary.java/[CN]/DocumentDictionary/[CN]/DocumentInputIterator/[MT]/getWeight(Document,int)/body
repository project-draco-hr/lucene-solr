{
  IndexableField weight=doc.getField(weightField);
  if (weight != null) {
    return (weight.numericValue() != null) ? weight.numericValue().longValue() : 0;
  }
 else   if (weightValues != null) {
    return weightValues.get(docId);
  }
 else {
    return 0;
  }
}
