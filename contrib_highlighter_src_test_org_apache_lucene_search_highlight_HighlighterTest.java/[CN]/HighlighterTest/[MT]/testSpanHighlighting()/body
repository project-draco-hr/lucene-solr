{
  Query query1=new SpanNearQuery(new SpanQuery[]{new SpanTermQuery(new Term(FIELD_NAME,"wordx")),new SpanTermQuery(new Term(FIELD_NAME,"wordy"))},1,false);
  Query query2=new SpanNearQuery(new SpanQuery[]{new SpanTermQuery(new Term(FIELD_NAME,"wordy")),new SpanTermQuery(new Term(FIELD_NAME,"wordc"))},1,false);
  BooleanQuery bquery=new BooleanQuery();
  bquery.add(query1,Occur.SHOULD);
  bquery.add(query2,Occur.SHOULD);
  doSearching(bquery);
  TestHighlightRunner helper=new TestHighlightRunner(){
    public void run() throws Exception {
      mode=SPAN;
      doStandardHighlights(analyzer,hits,query,HighlighterTest.this);
    }
  }
;
  helper.run();
  assertTrue("Failed to find correct number of highlights " + numHighlights + " found",numHighlights == 7);
}
