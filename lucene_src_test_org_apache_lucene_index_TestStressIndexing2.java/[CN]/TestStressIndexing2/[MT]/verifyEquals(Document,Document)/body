{
  List<Fieldable> ff1=d1.getFields();
  List<Fieldable> ff2=d2.getFields();
  Collections.sort(ff1,fieldNameComparator);
  Collections.sort(ff2,fieldNameComparator);
  assertEquals(ff1 + " : " + ff2,ff1.size(),ff2.size());
  for (int i=0; i < ff1.size(); i++) {
    Fieldable f1=ff1.get(i);
    Fieldable f2=ff2.get(i);
    if (f1.isBinary()) {
      assert(f2.isBinary());
    }
 else {
      String s1=f1.stringValue();
      String s2=f2.stringValue();
      assertEquals(ff1 + " : " + ff2,s1,s2);
    }
  }
}
