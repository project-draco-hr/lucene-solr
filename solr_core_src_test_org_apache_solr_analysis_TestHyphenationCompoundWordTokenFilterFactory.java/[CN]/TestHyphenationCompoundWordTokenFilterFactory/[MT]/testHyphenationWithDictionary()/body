{
  Reader reader=new StringReader("min veninde som er lidt af en l??sehest");
  Tokenizer tokenizer=new MockTokenizer(reader,MockTokenizer.WHITESPACE,false);
  HyphenationCompoundWordTokenFilterFactory factory=new HyphenationCompoundWordTokenFilterFactory();
  ResourceLoader loader=new SolrResourceLoader(null,null);
  Map<String,String> args=new HashMap<String,String>();
  args.put("hyphenator","da_UTF8.xml");
  args.put("dictionary","da_compoundDictionary.txt");
  factory.setLuceneMatchVersion(TEST_VERSION_CURRENT);
  factory.init(args);
  factory.inform(loader);
  TokenStream stream=factory.create(tokenizer);
  assertTokenStreamContents(stream,new String[]{"min","veninde","som","er","lidt","af","en","l??sehest","l??se","hest"},new int[]{1,1,1,1,1,1,1,1,0,0});
}
