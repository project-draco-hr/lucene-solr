{
  Reader reader=new StringReader("this is a test");
  Map<String,String> args=new HashMap<String,String>();
  args.put("maxShingleSize","3");
  ShingleFilterFactory factory=new ShingleFilterFactory();
  factory.init(args);
  TokenStream stream=factory.create(new MockTokenizer(reader,MockTokenizer.WHITESPACE,false));
  assertTokenStreamContents(stream,new String[]{"this","this is","this is a","is","is a","is a test","a","a test","test"});
}
