{
  Reader reader=new StringReader("this is a test");
  Map<String,String> args=new HashMap<String,String>();
  args.put("minShingleSize","3");
  args.put("maxShingleSize","4");
  args.put("outputUnigrams","false");
  ShingleFilterFactory factory=new ShingleFilterFactory();
  factory.init(args);
  TokenStream stream=factory.create(new MockTokenizer(reader,MockTokenizer.WHITESPACE,false));
  assertTokenStreamContents(stream,new String[]{"this is a","this is a test","is a test"});
}
