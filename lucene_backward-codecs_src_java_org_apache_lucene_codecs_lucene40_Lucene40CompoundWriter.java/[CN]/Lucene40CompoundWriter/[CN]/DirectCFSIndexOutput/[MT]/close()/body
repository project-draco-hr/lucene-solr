{
  if (!closed) {
    closed=true;
    entry.length=writtenBytes;
    if (isSeparate) {
      delegate.close();
      pendingEntries.add(entry);
    }
 else {
      releaseOutputLock();
    }
    prunePendingEntries();
  }
}
