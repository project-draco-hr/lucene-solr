{
  long time=1130630400;
  try {
    TimeZone.setDefault(TimeZone.getTimeZone("Europe/London"));
    String d1=DateTools.dateToString(new Date(time * 1000),DateTools.Resolution.MINUTE);
    String d2=DateTools.dateToString(new Date((time + 3600) * 1000),DateTools.Resolution.MINUTE);
    assertFalse("different times",d1.equals(d2));
    assertEquals("midnight",DateTools.stringToTime(d1),time * 1000);
    assertEquals("later",DateTools.stringToTime(d2),(time + 3600) * 1000);
  }
  finally {
    TimeZone.setDefault(null);
  }
}
