{
  maxNumFragments=Math.max(1,maxNumFragments);
  StringBuffer newText=new StringBuffer();
  TextFragment[] frag=getBestDocFragments(tokenStream,text,newText,maxNumFragments);
  mergeContiguousFragments(frag);
  ArrayList fragTexts=new ArrayList();
  int n=0;
  for (int i=0; i < frag.length; i++) {
    if ((frag[i] != null) && (frag[i].getScore() > 0)) {
      fragTexts.add(newText.substring(frag[i].textStartPos,frag[i].textEndPos));
    }
  }
  return (String[])fragTexts.toArray(new String[0]);
}
