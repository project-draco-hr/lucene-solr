{
  String[] multivalued={"a b c d","e f g","h","i j k l m n"};
  Analyzer a1=new WhitespaceAnalyzer();
  TermOffsetsTokenStream tots=new TermOffsetsTokenStream(a1.tokenStream("",new StringReader("a b c d e f g h i j k l m n")));
  for (  String v : multivalued) {
    TokenStream ts1=tots.getMultiValuedTokenStream(v.length());
    Analyzer a2=new WhitespaceAnalyzer();
    TokenStream ts2=a2.tokenStream("",new StringReader(v));
    Token t1=new Token();
    Token t2=new Token();
    for (t1=ts1.next(t1); t1 != null; t1=ts1.next(t1)) {
      t2=ts2.next(t2);
      assertEquals(t2,t1);
    }
  }
}
