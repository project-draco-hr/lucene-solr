{
  FuzzyLikeThisQuery flt=new FuzzyLikeThisQuery(10,analyzer);
  flt.addTerms("fernando smith","name",2,1);
  Query q=flt.rewrite(searcher.getIndexReader());
  HashSet<Term> queryTerms=new HashSet<>();
  searcher.createWeight(q,true,1f).extractTerms(queryTerms);
  assertTrue("Should have variant smith",queryTerms.contains(new Term("name","smith")));
  TopDocs topDocs=searcher.search(flt,1);
  ScoreDoc[] sd=topDocs.scoreDocs;
  assertTrue("score docs must match 1 doc",(sd != null) && (sd.length > 0));
  Document doc=searcher.doc(sd[0].doc);
  assertEquals("Should match most similar when using 2 words","2",doc.get("id"));
}
