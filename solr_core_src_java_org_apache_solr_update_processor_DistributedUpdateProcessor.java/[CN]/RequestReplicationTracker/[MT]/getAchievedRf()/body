{
  int achievedRf=1;
  if (onLeaderShardId != null) {
synchronized (nodeErrorTracker) {
      for (      AtomicInteger nodeErrors : nodeErrorTracker.values()) {
        if (nodeErrors.get() == 0)         ++achievedRf;
      }
    }
  }
 else {
    achievedRf=Integer.MAX_VALUE;
  }
synchronized (otherLeaderRf) {
    for (    Integer otherRf : otherLeaderRf.values()) {
      if (otherRf < achievedRf)       achievedRf=otherRf;
    }
  }
  return (achievedRf == Integer.MAX_VALUE) ? 1 : achievedRf;
}
