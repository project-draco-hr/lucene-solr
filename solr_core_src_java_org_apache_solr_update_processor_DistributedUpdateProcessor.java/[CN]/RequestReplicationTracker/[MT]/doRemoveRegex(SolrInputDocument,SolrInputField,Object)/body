{
  final String name=sif.getName();
  final SolrInputField existingField=oldDoc.get(name);
  if (existingField != null) {
    final Collection<Object> valueToRemove=new HashSet<>();
    final Collection<Object> original=existingField.getValues();
    final Collection<Pattern> patterns=preparePatterns(valuePatterns);
    for (    Object value : original) {
      for (      Pattern pattern : patterns) {
        final Matcher m=pattern.matcher(value.toString());
        if (m.matches()) {
          valueToRemove.add(value);
        }
      }
    }
    original.removeAll(valueToRemove);
    oldDoc.setField(name,original);
  }
}
