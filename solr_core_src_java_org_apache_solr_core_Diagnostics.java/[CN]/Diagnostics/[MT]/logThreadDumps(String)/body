{
  StringBuilder sb=new StringBuilder(32768);
  if (message == null)   message="============ THREAD DUMP REQUESTED ============";
  sb.append(message);
  sb.append("\n");
  ThreadInfo[] threads=ManagementFactory.getThreadMXBean().dumpAllThreads(true,true);
  for (  ThreadInfo info : threads) {
    sb.append(info);
  }
  log.error(sb.toString());
}
