{
synchronized (getUpdateLock()) {
    if (clusterState == null) {
      createClusterStateWatchersAndUpdate();
      return;
    }
    refreshCollectionList(null);
    refreshLiveNodes(null);
    refreshLegacyClusterState(null);
    Collection<String> safeCopy=new ArrayList<>(watchedCollectionStates.keySet());
    Map<String,DocCollection> updatedCollections=new HashMap<>();
    for (    String coll : safeCopy) {
      DocCollection newState=fetchCollectionState(coll,null);
      if (updateWatchedCollection(coll,newState)) {
        updatedCollections.put(coll,newState);
      }
    }
    constructState(updatedCollections);
  }
}
