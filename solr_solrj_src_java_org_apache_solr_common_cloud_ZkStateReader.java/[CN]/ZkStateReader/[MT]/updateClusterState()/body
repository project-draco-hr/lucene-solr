{
synchronized (getUpdateLock()) {
    if (clusterState == null) {
      createClusterStateWatchersAndUpdate();
      return;
    }
    refreshLegacyClusterState(null);
    Collection<String> safeCopy=new ArrayList<>(watchedCollectionStates.keySet());
    for (    String coll : safeCopy) {
      DocCollection newState=fetchCollectionState(coll,null);
      updateWatchedCollection(coll,newState);
    }
    refreshCollectionList(null);
    refreshLiveNodes(null);
    constructState();
  }
}
