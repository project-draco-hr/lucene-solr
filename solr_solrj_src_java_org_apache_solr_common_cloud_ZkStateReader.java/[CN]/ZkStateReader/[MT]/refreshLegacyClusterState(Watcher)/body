{
  try {
    final Stat stat=new Stat();
    final byte[] data=zkClient.getData(CLUSTER_STATE,watcher,stat,true);
    final ClusterState loadedData=ClusterState.load(stat.getVersion(),data,emptySet(),CLUSTER_STATE);
synchronized (getUpdateLock()) {
      if (this.legacyClusterStateVersion >= stat.getVersion()) {
        return;
      }
      this.legacyCollectionStates=loadedData.getCollectionStates();
      this.legacyClusterStateVersion=stat.getVersion();
    }
  }
 catch (  KeeperException.NoNodeException e) {
synchronized (getUpdateLock()) {
      this.legacyCollectionStates=emptyMap();
      this.legacyClusterStateVersion=0;
    }
  }
}
