{
  DocCollection collection=clusterState.getCollectionOrNull(coll);
  if (collection == null)   return null;
  if (collection.getZNodeVersion() < version) {
    LOG.debug("Server older than client {}<{}",collection.getZNodeVersion(),version);
    DocCollection nu=getCollectionLive(this,coll);
    if (nu == null)     return -1;
    if (nu.getZNodeVersion() > collection.getZNodeVersion()) {
      if (updateWatchedCollection(coll,nu)) {
synchronized (getUpdateLock()) {
          constructState(Collections.singletonMap(coll,nu));
        }
      }
      collection=nu;
    }
  }
  if (collection.getZNodeVersion() == version) {
    return null;
  }
  LOG.debug("Wrong version from client [{}]!=[{}]",version,collection.getZNodeVersion());
  return collection.getZNodeVersion();
}
