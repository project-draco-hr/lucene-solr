{
  buildSpellCheckIndex();
  lrf=h.getRequestFactory("spellchecker",0,20);
  lrf.args.put("version","2.0");
  lrf.args.put("sp.query.accuracy",".9");
  assertQ("Confirm the index is still valid",req("cat"),"//str[@name='words'][.='cat']","//str[@name='exist'][.='true']");
  lrf.args.put("sp.query.extendedResults","true");
  assertQ("Failed to spell check",req("cat"),"//int[@name='numDocs'][.=10]","//lst[@name='cat']","//lst[@name='cat']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions' and count(lst)=0]");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("cat"),"//int[@name='numDocs'][.=10]","//lst[@name='cat']","//lst[@name='cat']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cart']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cot']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cod']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='carp']/int[@name='frequency'][.>0]");
  lrf.args.put("sp.query.suggestionCount","2");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("cat"),"//lst[@name='cat']","//lst[@name='cat']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cart']","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cot']");
  lrf.args.put("sp.query.suggestionCount","2");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("cat cart carp"),"//lst[@name='cat']","//lst[@name='cat']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cart']","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cot']","//lst[@name='cart']","//lst[@name='cart']/int[@name='frequency'][.>0]","//lst[@name='cart']/lst/lst[1]","//lst[@name='cart']/lst/lst[2]","//lst[@name='carp']","//lst[@name='carp']/int[@name='frequency'][.>0]","//lst[@name='carp']/lst[@name='suggestions']/lst[@name='cart']","//lst[@name='carp']/lst[@name='suggestions']/lst[@name='corn']");
}
