{
  buildSpellCheckIndex();
  lrf=h.getRequestFactory("spellchecker",0,20);
  lrf.args.put("version","2.0");
  lrf.args.put("sp.query.accuracy",".9");
  assertQ("Confirm the index is still valid",req("cat"),"//str[@name='words'][.='cat']","//str[@name='exist'][.='true']");
  lrf.args.put("sp.query.extendedResults","true");
  assertQ("Failed to spell check",req("cat"),"//int[@name='numDocs'][.=10]","//lst[@name='cat']","//lst[@name='cat']/int[@name='frequency'][.>0]","//lst[@name='cat']/lst[@name='suggestions']/lst[@name='cat']/int[@name='frequency'][.>0]");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("cap"),"//int[@name='numDocs'][.=10]","//lst[@name='cap']","//lst[@name='cap']/int[@name='frequency'][.=0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='cat']/int[@name='frequency'][.>0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='cart']/int[@name='frequency'][.>0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='carp']/int[@name='frequency'][.>0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='cot']/int[@name='frequency'][.>0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='cod']/int[@name='frequency'][.>0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='cant']/int[@name='frequency'][.>0]");
  lrf.args.put("sp.query.suggestionCount","2");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("cap"),"//lst[@name='cap']","//lst[@name='cap']/int[@name='frequency'][.=0]","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='carp']","//lst[@name='cap']/lst[@name='suggestions']/lst[@name='cat']");
  lrf.args.put("sp.query.suggestionCount","2");
  lrf.args.put("sp.query.accuracy",".2");
  assertQ("Failed to spell check",req("cad cart carm"),"//lst[@name='cad']","//lst[@name='cad']/int[@name='frequency'][.=0]","//lst[@name='cad']/lst[@name='suggestions']/lst[@name='cat']","//lst[@name='cad']/lst[@name='suggestions']/lst[@name='cod']","//lst[@name='cart']","//lst[@name='cart']/int[@name='frequency'][.>0]","//lst[@name='carm']","//lst[@name='carm']/int[@name='frequency'][.=0]","//lst[@name='carm']/lst[@name='suggestions']/lst[@name='cart']","//lst[@name='carm']/lst[@name='suggestions']/lst[@name='carp']");
}
