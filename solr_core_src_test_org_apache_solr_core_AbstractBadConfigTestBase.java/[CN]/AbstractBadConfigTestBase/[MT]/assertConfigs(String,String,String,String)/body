{
  ignoreException(Pattern.quote(errString));
  try {
    if (null == solrHome) {
      initCore(solrconfigFile,schemaFile);
    }
 else {
      initCore(solrconfigFile,schemaFile,solrHome);
    }
  }
 catch (  Exception e) {
    if (-1 != e.getMessage().indexOf(errString))     return;
    if (null != e.getCause() && null != e.getCause().getMessage() && -1 != e.getCause().getMessage().indexOf(errString))     return;
    throw new SolrException(ErrorCode.SERVER_ERROR,"Unexpected error, expected error matching: " + errString,e);
  }
 finally {
    deleteCore();
    resetExceptionIgnores();
  }
  fail("Did not encounter any exception from: " + solrconfigFile + " using "+ schemaFile);
}
