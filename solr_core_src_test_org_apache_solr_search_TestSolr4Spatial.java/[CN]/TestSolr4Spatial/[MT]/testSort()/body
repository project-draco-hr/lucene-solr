{
  assertU(adoc("id","100",fieldName,"1,2"));
  assertU(adoc("id","101",fieldName,"4,-1"));
  assertU(adoc("id","999",fieldName,"70,70"));
  assertU(commit());
  assertJQ(req("q",fieldName + ":\"Intersects(Circle(3,4 d=9))\"","fl","id,score"),1e-9,"/response/docs/[0]/score==1.0","/response/docs/[1]/score==1.0");
  assertJQ(req("q","{! score=distance}" + fieldName + ":\"Intersects(Circle(3,4 d=9))\"","fl","id,score","sort","score asc"),1e-3,"/response/docs/[0]/id=='100'","/response/docs/[0]/score==2.827493","/response/docs/[1]/id=='101'","/response/docs/[1]/score==5.089807");
  assertJQ(req("q","{! score=recipDistance}" + fieldName + ":\"Intersects(Circle(3,4 d=9))\"","fl","id,score","sort","score desc"),1e-3,"/response/docs/[0]/id=='100'","/response/docs/[0]/score==0.3099695","/response/docs/[1]/id=='101'","/response/docs/[1]/score==0.19970943");
  assertJQ(req("q","{! score=distance filter=false}" + fieldName + ":\"Intersects(Circle(3,4 d=0.000001))\"","fl","id,score","sort","score asc"),1e-3,"/response/docs/[0]/id=='100'","/response/docs/[0]/score==2.827493","/response/docs/[1]/id=='101'","/response/docs/[1]/score==5.089807");
  assertJQ(req("q","{! score=distance}" + fieldName + ":\"Intersects(Circle(4,0 d=9))\"","fl","id,score","sort","score asc"),1e-4,"/response/docs/[0]/id=='101'","/response/docs/[1]/id=='100'");
  assertJQ(req("q","-id:999","fl","id,score","sort","query($sortQuery) asc","sortQuery","{! score=distance}" + fieldName + ":\"Intersects(Circle(3,4 d=9))\""),1e-4,"/response/docs/[0]/id=='100'","/response/docs/[1]/id=='101'");
  assertJQ(req("q","-id:999","fl","id,score","sort","query($sortQuery) asc","sortQuery","{! score=distance}" + fieldName + ":\"Intersects(Circle(4,0 d=9))\""),1e-4,"/response/docs/[0]/id=='101'","/response/docs/[1]/id=='100'");
}
