{
  NamedList<Integer> res=new SimpleOrderedMap<>();
  String[] facetQs=global.getParams(FacetParams.FACET_QUERY);
  if (null != facetQs && 0 != facetQs.length) {
    for (    String q : facetQs) {
      final ParsedParams parsed=parseParams(FacetParams.FACET_QUERY,q);
      Query qobj=QParser.getParser(q,null,req).getQuery();
      if (qobj == null) {
        res.add(parsed.key,0);
      }
 else       if (parsed.params.getBool(GroupParams.GROUP_FACET,false)) {
        res.add(parsed.key,getGroupedFacetQueryCount(qobj,parsed));
      }
 else {
        res.add(parsed.key,searcher.numDocs(qobj,parsed.docs));
      }
    }
  }
  return res;
}
