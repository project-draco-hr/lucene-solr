{
  while (true) {
    if (ord == limit) {
      return doc=NO_MORE_DOCS;
    }
    ord++;
    final int code=freqIn.readVInt();
    if (omitTF) {
      doc+=code;
    }
 else {
      doc+=code >>> 1;
      if ((code & 1) != 0) {
        freq=1;
      }
 else {
        freq=freqIn.readVInt();
      }
    }
    if (skipDocs == null || !skipDocs.get(doc)) {
      break;
    }
  }
  return doc;
}
