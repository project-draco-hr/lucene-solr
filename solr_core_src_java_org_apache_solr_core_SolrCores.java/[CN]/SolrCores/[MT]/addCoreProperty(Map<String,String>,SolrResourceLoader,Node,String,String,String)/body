{
  if (node == null) {
    propMap.put(name,value);
    return;
  }
  if (node != null) {
    String rawAttribValue=DOMUtil.getAttr(node,name,null);
    if (rawAttribValue == null) {
      return;
    }
    if (value == null) {
      propMap.put(name,rawAttribValue);
      return;
    }
    String defComp=regularizeAttr(defaultValue);
    if (defComp != null && regularizeAttr(value).equals(defComp)) {
      return;
    }
    String rawComp=regularizeAttr(rawAttribValue);
    if (rawComp != null && regularizeAttr(value).equals(regularizeAttr(DOMUtil.substituteProperty(rawAttribValue,loader.getCoreProperties())))) {
      propMap.put(name,rawAttribValue);
    }
 else {
      propMap.put(name,value);
    }
  }
}
