{
synchronized (modifyLock) {
    SolrCore c0=cores.get(n0);
    SolrCore c1=cores.get(n1);
    if (c0 == null)     throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"No such core: " + n0);
    if (c1 == null)     throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"No such core: " + n1);
    cores.put(n0,c1);
    cores.put(n1,c0);
    c0.setName(n1);
    c0.getCoreDescriptor().putProperty(CoreDescriptor.CORE_NAME,n1);
    c1.setName(n0);
    c1.getCoreDescriptor().putProperty(CoreDescriptor.CORE_NAME,n0);
  }
}
