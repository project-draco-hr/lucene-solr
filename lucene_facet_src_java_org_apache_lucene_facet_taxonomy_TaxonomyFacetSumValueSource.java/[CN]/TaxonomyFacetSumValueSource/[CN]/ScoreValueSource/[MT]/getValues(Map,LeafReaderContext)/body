{
  final Scorer scorer=(Scorer)context.get("scorer");
  if (scorer == null) {
    throw new IllegalStateException("scores are missing; be sure to pass keepScores=true to FacetsCollector");
  }
  return new DoubleDocValues(this){
    @Override public double doubleVal(    int document){
      try {
        return scorer.score();
      }
 catch (      IOException exception) {
        throw new RuntimeException(exception);
      }
    }
  }
;
}
