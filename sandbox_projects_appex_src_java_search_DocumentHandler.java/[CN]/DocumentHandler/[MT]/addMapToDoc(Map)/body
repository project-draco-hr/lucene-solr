{
  for (Iterator it=map.keySet().iterator(); it.hasNext(); ) {
    String field=(String)it.next();
    Object value=map.get(field);
    if (value instanceof String) {
      String type=null;
      if (customFields != null) {
        type=(String)customFields.get(field);
      }
      addFieldToDoc(type,field,(String)value);
    }
 else     if (value instanceof Reader) {
      addFieldToDoc(field,(Reader)value);
    }
  }
}
