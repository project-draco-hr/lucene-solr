{
  CodecProvider cp=new CodecProvider();
  cp.register(new StandardCodec());
  cp.register(new PulsingCodec());
  if (codecs != null) {
    for (    Object codec : codecs.getAll("name")) {
      if (!cp.isCodecRegistered((String)codec)) {
        try {
          Class<? extends Codec> clazz=Class.forName((String)codec).asSubclass(Codec.class);
          cp.register(clazz.newInstance());
        }
 catch (        Exception e) {
          throw new RuntimeException(e);
        }
      }
    }
  }
  if (defaultCodec != null) {
    cp.setDefaultFieldCodec(defaultCodec);
  }
  return cp;
}
