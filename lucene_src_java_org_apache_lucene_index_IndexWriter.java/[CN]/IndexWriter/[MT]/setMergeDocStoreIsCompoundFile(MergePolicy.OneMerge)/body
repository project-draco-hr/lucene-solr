{
  final String mergeDocStoreSegment=merge.info.getDocStoreSegment();
  if (mergeDocStoreSegment != null && !merge.info.getDocStoreIsCompoundFile()) {
    final int size=segmentInfos.size();
    for (int i=0; i < size; i++) {
      final SegmentInfo info=segmentInfos.info(i);
      final String docStoreSegment=info.getDocStoreSegment();
      if (docStoreSegment != null && docStoreSegment.equals(mergeDocStoreSegment) && info.getDocStoreIsCompoundFile()) {
        merge.info.setDocStoreIsCompoundFile(true);
        break;
      }
    }
  }
}
