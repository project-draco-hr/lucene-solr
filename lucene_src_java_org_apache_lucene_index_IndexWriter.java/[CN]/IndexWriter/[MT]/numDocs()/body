{
  int count;
  if (docWriter != null)   count=docWriter.getNumDocs();
 else   count=0;
  for (int i=0; i < segmentInfos.size(); i++) {
    final SegmentInfo info=segmentInfos.info(i);
    count+=info.docCount - numDeletedDocs(info);
  }
  return count;
}
