{
  infoStream.message("IW","commit: start");
synchronized (commitLock) {
    infoStream.message("IW","commit: enter lock");
    if (pendingCommit == null) {
      infoStream.message("IW","commit: now prepare");
      prepareCommit(commitUserData);
    }
 else {
      infoStream.message("IW","commit: already prepared");
    }
    finishCommit();
  }
}
