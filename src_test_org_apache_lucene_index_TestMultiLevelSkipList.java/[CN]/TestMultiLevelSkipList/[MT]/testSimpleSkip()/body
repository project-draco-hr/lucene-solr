{
  RAMDirectory dir=new RAMDirectory();
  IndexWriter writer=new IndexWriter(dir,new PayloadAnalyzer(),true);
  Term term=new Term("test","a");
  for (int i=0; i < 5000; i++) {
    Document d1=new Document();
    d1.add(new Field(term.field(),term.text(),Store.NO,Index.TOKENIZED));
    writer.addDocument(d1);
  }
  writer.flush();
  writer.optimize();
  writer.close();
  IndexReader reader=IndexReader.open(dir);
  SegmentTermPositions tp=(SegmentTermPositions)reader.termPositions(term);
  tp.freqStream=new CountingStream(tp.freqStream);
  tp.next();
  checkSkipTo(tp,14,185);
  checkSkipTo(tp,17,190);
  checkSkipTo(tp,287,200);
  checkSkipTo(tp,4800,250);
}
