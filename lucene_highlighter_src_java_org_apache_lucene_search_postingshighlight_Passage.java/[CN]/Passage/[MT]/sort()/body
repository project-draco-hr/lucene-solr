{
  final int starts[]=matchStarts;
  final int ends[]=matchEnds;
  final BytesRef terms[]=matchTerms;
  new SorterTemplate(){
    @Override protected void swap(    int i,    int j){
      int temp=starts[i];
      starts[i]=starts[j];
      starts[j]=temp;
      temp=ends[i];
      ends[i]=ends[j];
      ends[j]=temp;
      BytesRef tempTerm=terms[i];
      terms[i]=terms[j];
      terms[j]=tempTerm;
    }
    @Override protected int compare(    int i,    int j){
      return Integer.compare(starts[i],starts[j]);
    }
    @Override protected void setPivot(    int i){
      pivot=starts[i];
    }
    @Override protected int comparePivot(    int j){
      return Integer.compare(pivot,starts[j]);
    }
    int pivot;
  }
.mergeSort(0,numMatches - 1);
}
