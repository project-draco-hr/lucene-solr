{
  mockParams.put(OpenExchangeRatesOrgProvider.PARAM_REFRESH_INTERVAL,"100");
  oerp.init(mockParams);
  oerp.inform(loader);
  assertEquals(HARDCODED_TEST_TIMESTAMP,oerp.rates.getTimestamp());
  final long currentTimestamp=(long)(System.currentTimeMillis() / 1000);
  oerp.rates.setTimestamp(currentTimestamp);
  assertEquals(81.29D,oerp.getExchangeRate("USD","JPY"),0.0D);
  assertEquals(currentTimestamp,oerp.rates.getTimestamp());
  oerp.rates.setTimestamp(currentTimestamp - (101 * 60));
  assertEquals(81.29D,oerp.getExchangeRate("USD","JPY"),0.0D);
  assertEquals("timestamp wasn't reset to hardcoded value, indicating no reload",HARDCODED_TEST_TIMESTAMP,oerp.rates.getTimestamp());
}
