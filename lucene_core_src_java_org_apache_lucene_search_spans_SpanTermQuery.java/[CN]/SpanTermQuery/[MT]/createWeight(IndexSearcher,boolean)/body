{
  final TermContext context;
  final IndexReaderContext topContext=searcher.getTopReaderContext();
  if (termContext == null || termContext.topReaderContext != topContext) {
    context=TermContext.build(topContext,term);
  }
 else {
    context=termContext;
  }
  return new SpanTermWeight(context,searcher,needsScores ? Collections.singletonMap(term,context) : null);
}
