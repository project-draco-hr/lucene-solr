{
  ZkStateReader zkStateReader=cloudClient.getZkStateReader();
  ClusterState clusterState=zkStateReader.getClusterState();
  int counter=10;
  while (counter-- > 0) {
    zkStateReader.updateClusterState();
    clusterState=zkStateReader.getClusterState();
    if (clusterState.getSlice("collection1",shard) == null) {
      break;
    }
    Thread.sleep(1000);
  }
  assertNull("Cluster still contains shard1 even after waiting for it to be deleted.",clusterState.getSlice(AbstractDistribZkTestBase.DEFAULT_COLLECTION,SHARD1));
}
