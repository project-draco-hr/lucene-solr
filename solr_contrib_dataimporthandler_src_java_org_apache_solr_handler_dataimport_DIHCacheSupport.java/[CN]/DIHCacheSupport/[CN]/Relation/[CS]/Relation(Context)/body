{
  String where=context.getEntityAttribute("where");
  String cacheKey=context.getEntityAttribute(DIHCacheSupport.CACHE_PRIMARY_KEY);
  String lookupKey=context.getEntityAttribute(DIHCacheSupport.CACHE_FOREIGN_KEY);
  if (cacheKey != null && lookupKey == null) {
    throw new DataImportHandlerException(DataImportHandlerException.SEVERE,"'cacheKey' is specified for the entity " + context.getEntityAttribute("name") + " but 'cacheLookup' is missing");
  }
  if (where == null && cacheKey == null) {
    doKeyLookup=false;
    primaryKey=null;
    foreignKey=null;
  }
 else {
    if (where != null) {
      String[] splits=where.split("=");
      primaryKey=splits[0];
      foreignKey=splits[1].trim();
    }
 else {
      primaryKey=cacheKey;
      foreignKey=lookupKey;
    }
    doKeyLookup=true;
  }
}
