{
  String[] s=new String[solr.length];
  for (int i=0; i < solr.length; i++) {
    s[i]=solr[i].getUrl();
  }
  ModifiableSolrParams params=new ModifiableSolrParams();
  params.set(HttpClientUtil.PROP_CONNECTION_TIMEOUT,250);
  params.set(HttpClientUtil.PROP_SO_TIMEOUT,250);
  HttpClient myHttpClient=HttpClientUtil.createClient(params);
  LBHttpSolrServer lbHttpSolrServer=new LBHttpSolrServer(myHttpClient,s);
  lbHttpSolrServer.setAliveCheckInterval(500);
  solr[1].jetty.stop();
  solr[1].jetty=null;
  for (  String value : s)   lbHttpSolrServer.query(new SolrQuery("*:*"));
  solr[1].startJetty();
  waitForServer(30000,lbHttpSolrServer,3,"solr1");
}
