{
  final SolrQueryResponse response=endpoint.getSolrResponse();
  if (childId == null) {
    response.add(FEATURE_STORE_JSON_FIELD,stores.keySet());
  }
 else {
    final FeatureStore store=getFeatureStore(childId);
    if (store == null) {
      throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,"missing feature store [" + childId + "]");
    }
    response.add(FEATURES_JSON_FIELD,featuresAsManagedResources(store));
  }
}
