{
  RouteResponse condensed=new RouteResponse();
  int status=0;
  Integer rf=null;
  Integer minRf=null;
  for (int i=0; i < response.size(); i++) {
    NamedList shardResponse=(NamedList)response.getVal(i);
    NamedList header=(NamedList)shardResponse.get("responseHeader");
    Integer shardStatus=(Integer)header.get("status");
    int s=shardStatus.intValue();
    if (s > 0) {
      status=s;
    }
    Object rfObj=header.get(UpdateRequest.REPFACT);
    if (rfObj != null && rfObj instanceof Integer) {
      Integer routeRf=(Integer)rfObj;
      if (rf == null || routeRf < rf)       rf=routeRf;
    }
    minRf=(Integer)header.get(UpdateRequest.MIN_REPFACT);
  }
  NamedList cheader=new NamedList();
  cheader.add("status",status);
  cheader.add("QTime",timeMillis);
  if (rf != null)   cheader.add(UpdateRequest.REPFACT,rf);
  if (minRf != null)   cheader.add(UpdateRequest.MIN_REPFACT,minRf);
  condensed.add("responseHeader",cheader);
  return condensed;
}
