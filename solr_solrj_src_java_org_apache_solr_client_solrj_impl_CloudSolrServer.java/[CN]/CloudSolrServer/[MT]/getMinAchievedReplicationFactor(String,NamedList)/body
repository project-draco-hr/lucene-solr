{
  NamedList header=(NamedList)resp.get("responseHeader");
  Integer achRf=(Integer)header.get(UpdateRequest.REPFACT);
  if (achRf != null)   return achRf.intValue();
  Map<String,Integer> shardRf=getShardReplicationFactor(collection,resp);
  for (  Integer rf : shardRf.values()) {
    if (achRf == null || rf < achRf) {
      achRf=rf;
    }
  }
  return (achRf != null) ? achRf.intValue() : -1;
}
