{
  this.zkHost=zkHost;
  this.clientIsInternal=httpClient == null;
  this.myClient=httpClient == null ? HttpClientUtil.createClient(null) : httpClient;
  this.lbServer=new LBHttpSolrServer(myClient);
  this.lbServer.setRequestWriter(new BinaryRequestWriter());
  this.lbServer.setParser(new BinaryResponseParser());
  this.updatesToLeaders=updatesToLeaders;
  shutdownLBHttpSolrServer=true;
  lbServer.addQueryParams(STATE_VERSION);
}
