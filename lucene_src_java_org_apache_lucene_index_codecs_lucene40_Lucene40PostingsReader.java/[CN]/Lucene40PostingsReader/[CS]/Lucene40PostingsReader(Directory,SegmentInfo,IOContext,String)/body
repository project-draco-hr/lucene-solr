{
  freqIn=dir.openInput(IndexFileNames.segmentFileName(segmentInfo.name,segmentSuffix,Lucene40PostingsFormat.FREQ_EXTENSION),ioContext);
  if (segmentInfo.getHasProx()) {
    boolean success=false;
    try {
      proxIn=dir.openInput(IndexFileNames.segmentFileName(segmentInfo.name,segmentSuffix,Lucene40PostingsFormat.PROX_EXTENSION),ioContext);
      success=true;
    }
  finally {
      if (!success) {
        freqIn.close();
      }
    }
  }
 else {
    proxIn=null;
  }
}
