{
  if (ignoreTF) {
    return new ConstantScoreQuery(new TermQuery(term));
  }
 else {
    TermContext context=new TermContext(reader.getContext());
    for (    LeafReaderContext leafContext : reader.leaves()) {
      Terms terms=leafContext.reader().terms(term.field());
      if (terms != null) {
        TermsEnum termsEnum=terms.iterator();
        if (termsEnum.seekExact(term.bytes())) {
          int freq=1 - context.docFreq();
          context.register(termsEnum.termState(),leafContext.ord,freq,freq);
        }
      }
    }
    return new TermQuery(term,context);
  }
}
