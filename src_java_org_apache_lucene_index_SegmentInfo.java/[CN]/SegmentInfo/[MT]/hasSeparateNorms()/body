{
  if (normGen == null) {
    if (!preLockless) {
      return false;
    }
 else {
      String[] result=dir.list();
      if (result == null)       throw new IOException("cannot read directory " + dir + ": list() returned null");
      String pattern;
      pattern=name + ".s";
      int patternLength=pattern.length();
      for (int i=0; i < result.length; i++) {
        if (result[i].startsWith(pattern) && Character.isDigit(result[i].charAt(patternLength)))         return true;
      }
      return false;
    }
  }
 else {
    for (int i=0; i < normGen.length; i++) {
      if (normGen[i] > 0) {
        return true;
      }
    }
    for (int i=0; i < normGen.length; i++) {
      if (normGen[i] == 0) {
        if (hasSeparateNorms(i)) {
          return true;
        }
      }
    }
  }
  return false;
}
