{
  String prefix;
  long gen;
  if (normGen == null) {
    gen=0;
  }
 else {
    gen=normGen[number];
  }
  if (hasSeparateNorms(number)) {
    prefix=".s";
    return IndexFileNames.fileNameFromGeneration(name,prefix + number,gen);
  }
  if (withNrm()) {
    prefix="." + IndexFileNames.NORMS_EXTENSION;
    return IndexFileNames.fileNameFromGeneration(name,prefix,0);
  }
  prefix=".f";
  return IndexFileNames.fileNameFromGeneration(name,prefix + number,0);
}
