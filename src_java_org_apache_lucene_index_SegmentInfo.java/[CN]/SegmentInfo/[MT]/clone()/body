{
  SegmentInfo si=new SegmentInfo(name,docCount,dir);
  si.isCompoundFile=isCompoundFile;
  si.delGen=delGen;
  si.delCount=delCount;
  si.hasProx=hasProx;
  si.preLockless=preLockless;
  si.hasSingleNormFile=hasSingleNormFile;
  si.diagnostics=new HashMap<String,String>(diagnostics);
  if (normGen != null) {
    si.normGen=(long[])normGen.clone();
  }
  si.docStoreOffset=docStoreOffset;
  si.docStoreSegment=docStoreSegment;
  si.docStoreIsCompoundFile=docStoreIsCompoundFile;
  return si;
}
