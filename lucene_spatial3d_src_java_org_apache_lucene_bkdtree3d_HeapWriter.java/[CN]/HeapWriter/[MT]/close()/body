{
  closed=true;
  if (nextWrite != xs.length) {
    throw new IllegalStateException("only wrote " + nextWrite + " values, but expected "+ xs.length);
  }
}
