{
  NumericRangeFilterBuilder filterBuilder=new NumericRangeFilterBuilder();
  filterBuilder.setStrictMode(false);
  String xml="<NumericRangeFilter fieldName='AGE' type='int' lowerTerm='-1' upperTerm='NaN'/>";
  Document doc=getDocumentFromString(xml);
  Filter filter=filterBuilder.getFilter(doc.getDocumentElement());
  Directory ramDir=newDirectory();
  IndexWriter writer=new IndexWriter(ramDir,newIndexWriterConfig(null));
  writer.commit();
  try {
    LeafReader reader=SlowCompositeReaderWrapper.wrap(DirectoryReader.open(ramDir));
    try {
      assertNull(filter.getDocIdSet(reader.getContext(),reader.getLiveDocs()));
    }
  finally {
      reader.close();
    }
  }
  finally {
    writer.commit();
    writer.close();
    ramDir.close();
  }
}
