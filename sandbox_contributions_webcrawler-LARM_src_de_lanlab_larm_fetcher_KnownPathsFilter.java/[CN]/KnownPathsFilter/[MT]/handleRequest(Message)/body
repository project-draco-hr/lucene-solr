{
  try {
    URL url=new URL(((URLMessage)message).getNormalizedURLString());
    String file=url.getFile();
    String host=url.getHost();
    int i;
    for (i=0; i < pathLength; i++) {
      if (file.startsWith(pathsToFilter[i])) {
        filtered++;
        log.log(message.toString());
        return null;
      }
    }
    for (i=0; i < fileLength; i++) {
      if (file.endsWith(filesToFilter[i])) {
        filtered++;
        log.log(message.toString());
        return null;
      }
    }
    for (i=0; i < hostLength; i++) {
      if (hostsToFilter[i].equals(host)) {
        filtered++;
        log.log(message.toString());
        return null;
      }
    }
  }
 catch (  MalformedURLException e) {
    e.printStackTrace();
  }
  return message;
}
