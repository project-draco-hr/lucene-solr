{
switch (j % 4) {
case 0:
    mainWriter.addIndexes(dirs);
  mainWriter.optimize();
break;
case 1:
mainWriter.addIndexes(dirs);
numaddIndexes.incrementAndGet();
break;
case 2:
mainWriter.addIndexes(readers);
break;
case 3:
mainWriter.commit();
}
count.addAndGet(dirs.length * NUM_INIT_DOCS);
}
