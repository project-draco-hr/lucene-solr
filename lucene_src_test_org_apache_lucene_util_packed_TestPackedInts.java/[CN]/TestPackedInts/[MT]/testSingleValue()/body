{
  Directory dir=newDirectory();
  IndexOutput out=dir.createOutput("out",newIOContext(random));
  PackedInts.Writer w=PackedInts.getWriter(out,1,8);
  w.add(17);
  w.finish();
  final long end=out.getFilePointer();
  out.close();
  IndexInput in=dir.openInput("out",newIOContext(random));
  PackedInts.getReader(in);
  assertEquals(end,in.getFilePointer());
  in.close();
  dir.close();
}
