{
  try {
    Directory directory=new RAMDirectory();
    Analyzer analyzer=new SimpleAnalyzer();
    IndexWriter writer=new IndexWriter(directory,analyzer,true,IndexWriter.MaxFieldLength.LIMITED);
    final int MAX_DOCS=225;
    for (int j=0; j < MAX_DOCS; j++) {
      Document d=new Document();
      d.add(new Field(PRIORITY_FIELD,HIGH_PRIORITY,Field.Store.YES,Field.Index.ANALYZED));
      d.add(new Field(ID_FIELD,Integer.toString(j),Field.Store.YES,Field.Index.ANALYZED));
      writer.addDocument(d);
    }
    writer.close();
    Searcher searcher=new IndexSearcher(directory);
    ScoreDoc[] hits=null;
    QueryParser parser=new QueryParser(PRIORITY_FIELD,analyzer);
    Query query=parser.parse(HIGH_PRIORITY);
    System.out.println("Query: " + query.toString(PRIORITY_FIELD));
    hits=searcher.search(query,null,1000).scoreDocs;
    printHits(hits,searcher);
    searcher.close();
    searcher=new IndexSearcher(directory);
    hits=null;
    parser=new QueryParser(PRIORITY_FIELD,analyzer);
    query=parser.parse(HIGH_PRIORITY + " OR " + MED_PRIORITY);
    System.out.println("Query: " + query.toString(PRIORITY_FIELD));
    hits=searcher.search(query,null,1000).scoreDocs;
    printHits(hits,searcher);
    searcher.close();
  }
 catch (  Exception e) {
    System.out.println(" caught a " + e.getClass() + "\n with message: "+ e.getMessage());
  }
}
