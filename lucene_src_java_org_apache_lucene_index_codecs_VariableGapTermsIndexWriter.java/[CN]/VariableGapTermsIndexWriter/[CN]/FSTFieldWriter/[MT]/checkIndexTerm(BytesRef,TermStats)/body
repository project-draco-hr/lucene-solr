{
  if (policy.isIndexTerm(text,stats) || first) {
    first=false;
    final int lengthSave=text.length;
    text.length=indexedTermPrefixLength(lastTerm,text);
    try {
      fstBuilder.add(text,fstOutputs.get(termsOut.getFilePointer()));
    }
  finally {
      text.length=lengthSave;
    }
    lastTerm.copy(text);
    return true;
  }
 else {
    lastTerm.copy(text);
    return false;
  }
}
