{
  boolean gotExpectedError=false;
  CloseableHttpClient httpClient=null;
  try {
    httpClient=HttpClientUtil.createClient(null);
    try (HttpSolrClient client=new HttpSolrClient("http://[ff01::114]:11235/solr/",httpClient)){
      client.setConnectionTimeout(1);
      SolrQuery query=new SolrQuery("test123");
      client.query(query);
    }
     httpClient.close();
  }
 catch (  SolrServerException sse) {
    gotExpectedError=true;
  }
 finally {
    if (httpClient != null)     HttpClientUtil.close(httpClient);
  }
  assertTrue(gotExpectedError);
}
