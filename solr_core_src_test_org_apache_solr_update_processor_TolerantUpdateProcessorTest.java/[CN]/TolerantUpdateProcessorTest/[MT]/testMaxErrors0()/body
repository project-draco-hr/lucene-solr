{
  List<SolrInputDocument> smallBatch=docs.subList(0,2);
  ModifiableSolrParams requestParams=new ModifiableSolrParams();
  requestParams.add("maxErrors","0");
  try {
    assertAddsSucceedWithErrors("tolerant-chain-max-errors-10",smallBatch,requestParams,"1");
    fail("Expecting exception");
  }
 catch (  SolrException e) {
    assertTrue(e.getMessage().contains("ERROR: [doc=1] Error adding field 'weight'='b' msg=For input string: \"b\""));
  }
  assertU(commit());
  assertQ(req("q","*:*"),"//result[@numFound='1']");
}
