{
  final String BLOCK="this is test.";
  CharStream cs=new PatternReplaceCharFilter("(aa)\\s+(bb)\\s+(cc)","$1$2$3",CharReader.get(new StringReader(BLOCK)));
  TokenStream ts=new WhitespaceTokenizer(cs);
  assertTokEqualOff(tokens("this,1,0,4 is,1,5,7 test.,1,8,13"),getTokens(ts));
}
