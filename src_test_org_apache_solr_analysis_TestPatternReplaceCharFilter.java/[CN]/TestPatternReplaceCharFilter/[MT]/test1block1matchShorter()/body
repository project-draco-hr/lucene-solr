{
  final String BLOCK="aa  bb   cc dd";
  CharStream cs=new PatternReplaceCharFilter(pattern("(aa)\\s+(bb)\\s+(cc)"),"$1#$2",CharReader.get(new StringReader(BLOCK)));
  TokenStream ts=new WhitespaceTokenizer(cs);
  assertTokenStreamContents(ts,new String[]{"aa#bb","dd"},new int[]{0,12},new int[]{11,14});
}
