{
  final String BLOCK="  aa bb cc --- aa bb aa   bb   cc";
  CharStream cs=new PatternReplaceCharFilter("(aa)\\s+(bb)\\s+(cc)","$1  $2  $3",CharReader.get(new StringReader(BLOCK)));
  TokenStream ts=new WhitespaceTokenizer(cs);
  assertTokEqualOff(tokens("aa,1,2,4 bb,1,6,8 cc,1,9,10 ---,1,11,14 aa,1,15,17 bb,1,18,20 aa,1,21,23 bb,1,25,27 cc,1,29,33"),getTokens(ts));
}
