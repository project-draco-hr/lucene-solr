{
  final String BLOCK="aa bb cc dd";
  CharStream cs=new PatternReplaceCharFilter("(aa)\\s+(bb)\\s+(cc)","$1##$2###$3",CharReader.get(new StringReader(BLOCK)));
  TokenStream ts=new WhitespaceTokenizer(cs);
  assertTokenStreamContents(ts,new String[]{"aa##bb###cc","dd"},new int[]{0,9},new int[]{8,11},new int[]{1,1});
}
