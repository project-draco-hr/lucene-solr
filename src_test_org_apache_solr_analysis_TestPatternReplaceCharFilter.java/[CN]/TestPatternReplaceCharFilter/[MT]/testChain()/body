{
  final String BLOCK=" a bb - ccc . --- bb a . ccc ccc bb";
  CharStream cs=new PatternReplaceCharFilter("a","aa",".",CharReader.get(new StringReader(BLOCK)));
  cs=new PatternReplaceCharFilter("bb","b",".",cs);
  cs=new PatternReplaceCharFilter("ccc","c",".",cs);
  TokenStream ts=new WhitespaceTokenizer(cs);
  assertTokEqualOff(tokens("aa,1,1,2 b,1,3,5 -,1,6,7 c,1,8,11 .,1,12,13 ---,1,14,17 b,1,18,20 aa,1,21,22 .,1,23,24 c,1,25,28 c,1,29,32 b,1,33,35"),getTokens(ts));
}
