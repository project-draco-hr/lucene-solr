{
  String tests[]=new String[]{"//*[@numFound='2']","/response/result/doc[1]/int[@name='id']='1'","/response/result/doc[1]/result[@name='children'][@numFound=1]/doc[1]/int[@name='id']='2'","/response/result/doc[1]/result[@name='children'][@numFound=1]/doc[1]/arr[@name='cat']/str[1]='childDocument'","/response/result/doc[1]/result[@name='children'][@numFound=1]/doc[1]/arr[@name='title']/str[1]='" + titleVals[0] + "'","/response/result/doc[2]/int[@name='id']='4'","/response/result/doc[2]/result[@name='children'][@numFound=1]/doc[1]/int[@name='id']='5'","/response/result/doc[2]/result[@name='children'][@numFound=1]/doc[1]/arr[@name='cat']/str[1]='childDocument'","/response/result/doc[2]/result[@name='children'][@numFound=1]/doc[1]/arr[@name='title']/str[1]='" + titleVals[1] + "'"};
  assertQ(req("q","*:*","fq","subject:\"parentDocument\" ","fl","*,children:[subquery]","sort","id asc","children.q","{!child of=subject:parentDocument}{!terms f=id v=$row.id}","children.fq","cat:childDocument","children.sort","_docid_ asc"),tests);
  assertQ(req("q","*:*","fq","subject:\"parentDocument\" ","fl","id,children:[subquery]","sort","id asc","children.q","{!child of=subject:parentDocument}{!terms f=id v=$row.id}","children.fq","cat:childDocument","children.sort","_docid_ asc"),tests);
}
