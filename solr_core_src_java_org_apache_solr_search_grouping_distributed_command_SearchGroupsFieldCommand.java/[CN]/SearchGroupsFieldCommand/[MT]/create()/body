{
  List<Collector> collectors=new ArrayList<Collector>();
  if (topNGroups > 0) {
    firstPassGroupingCollector=new TermFirstPassGroupingCollector(field.getName(),groupSort,topNGroups);
    collectors.add(firstPassGroupingCollector);
  }
  if (includeGroupCount) {
    allGroupsCollector=new TermAllGroupsCollector(field.getName());
    collectors.add(allGroupsCollector);
  }
  return collectors;
}
