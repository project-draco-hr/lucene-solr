def run(self, bytes):
    state = self.start
    for b in bytes:
        found = False
        oldState = state
        for (label, s, e, n) in self.states[state][1:]:
            if ((b >= s) and (b <= e)):
                if found:
                    raise RuntimeError(('state %s has ambiguous output for byte %s' % (oldState, b)))
                state = n
                found = True
        if (not found):
            return (-1)
    return state
