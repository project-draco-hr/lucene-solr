{
  ScoredDocIDs collection;
  IndexReader reader=null;
  Directory ramDir=new RAMDirectory();
  try {
    IndexWriter writer=new IndexWriter(ramDir,new IndexWriterConfig(Version.LUCENE_30,new KeywordAnalyzer()));
    for (int i=0; i < COLLECTION_SIZE; i++) {
      writer.addDocument(new Document());
    }
    writer.commit();
    writer.close();
    reader=IndexReader.open(ramDir);
    collection=ScoredDocIdsUtils.createAllDocsScoredDocIDs(reader);
  }
  finally {
    if (reader != null) {
      reader.close();
    }
    ramDir.close();
  }
  return collection;
}
