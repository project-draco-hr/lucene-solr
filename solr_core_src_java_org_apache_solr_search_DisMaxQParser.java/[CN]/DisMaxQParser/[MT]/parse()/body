{
  SolrParams solrParams=SolrParams.wrapDefaults(localParams,params);
  queryFields=parseQueryFields(req.getSchema(),solrParams);
  BooleanQuery query=new BooleanQuery(true);
  boolean notBlank=addMainQuery(query,solrParams);
  if (!notBlank)   return null;
  addBoostQuery(query,solrParams);
  addBoostFunctions(query,solrParams);
  return query;
}
