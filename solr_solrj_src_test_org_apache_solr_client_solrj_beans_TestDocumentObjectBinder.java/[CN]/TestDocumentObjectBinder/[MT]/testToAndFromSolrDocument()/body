{
  Item item=new Item();
  item.id="one";
  item.inStock=false;
  item.categories=new String[]{"aaa","bbb","ccc"};
  item.features=Arrays.asList(item.categories);
  List<String> supA=Arrays.asList("supA1","supA2","supA3");
  List<String> supB=Arrays.asList("supB1","supB2","supB3");
  item.supplier=new HashMap<String,List<String>>();
  item.supplier.put("supplier_supA",supA);
  item.supplier.put("supplier_supB",supB);
  item.supplier_simple=new HashMap<String,String>();
  item.supplier_simple.put("sup_simple_supA","supA_val");
  item.supplier_simple.put("sup_simple_supB","supB_val");
  DocumentObjectBinder binder=new DocumentObjectBinder();
  SolrInputDocument doc=binder.toSolrInputDocument(item);
  SolrDocumentList docs=new SolrDocumentList();
  docs.add(ClientUtils.toSolrDocument(doc));
  Item out=binder.getBeans(Item.class,docs).get(0);
  Item singleOut=binder.getBean(Item.class,ClientUtils.toSolrDocument(doc));
  assertEquals(item.id,out.id);
  assertEquals(item.inStock,out.inStock);
  assertEquals(item.categories.length,out.categories.length);
  assertEquals(item.features,out.features);
  assertEquals(supA,out.supplier.get("supplier_supA"));
  assertEquals(supB,out.supplier.get("supplier_supB"));
  assertEquals(item.supplier_simple.get("sup_simple_supB"),out.supplier_simple.get("sup_simple_supB"));
  assertEquals(item.id,singleOut.id);
  assertEquals(item.inStock,singleOut.inStock);
  assertEquals(item.categories.length,singleOut.categories.length);
  assertEquals(item.features,singleOut.features);
  assertEquals(supA,singleOut.supplier.get("supplier_supA"));
  assertEquals(supB,singleOut.supplier.get("supplier_supB"));
  assertEquals(item.supplier_simple.get("sup_simple_supB"),out.supplier_simple.get("sup_simple_supB"));
  out.allSuppliers=null;
  SolrInputDocument doc1=binder.toSolrInputDocument(out);
  SolrDocumentList docs1=new SolrDocumentList();
  docs1.add(ClientUtils.toSolrDocument(doc1));
  Item out1=binder.getBeans(Item.class,docs1).get(0);
  assertEquals(item.id,out1.id);
  assertEquals(item.inStock,out1.inStock);
  assertEquals(item.categories.length,out1.categories.length);
  assertEquals(item.features,out1.features);
  assertEquals(item.supplier_simple.get("sup_simple_supB"),out1.supplier_simple.get("sup_simple_supB"));
  assertEquals(supA,out1.supplier.get("supplier_supA"));
  assertEquals(supB,out1.supplier.get("supplier_supB"));
}
