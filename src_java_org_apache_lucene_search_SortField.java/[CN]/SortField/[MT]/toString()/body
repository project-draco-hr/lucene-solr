{
  StringBuffer buffer=new StringBuffer();
switch (type) {
case SCORE:
    buffer.append("<score>");
  break;
case DOC:
buffer.append("<doc>");
break;
case CUSTOM:
buffer.append("<custom:\"" + field + "\": "+ factory+ ">");
break;
default :
buffer.append("\"" + field + "\"");
break;
}
if (locale != null) buffer.append("(" + locale + ")");
if (reverse) buffer.append('!');
return buffer.toString();
}
