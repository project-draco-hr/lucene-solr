{
  final Document doc2=new Document();
  for (  Fieldable f : doc1.getFields()) {
    Field field1=(Field)f;
    Field field2=new Field(field1.name(),field1.stringValue(),field1.isStored() ? Field.Store.YES : Field.Store.NO,field1.isIndexed() ? (field1.isTokenized() ? Field.Index.ANALYZED : Field.Index.NOT_ANALYZED) : Field.Index.NO);
    field2.setOmitNorms(field1.getOmitNorms());
    field2.setOmitTermFreqAndPositions(field1.getOmitTermFreqAndPositions());
    doc2.add(field2);
  }
  return doc2;
}
