{
  List<? extends IndexReader> subReaders=reader.getSequentialSubReaders();
  if (subReaders.size() != 1)   throw new IllegalArgumentException(reader + " has " + subReaders.size()+ " segments instead of exactly one");
  final IndexReader r=subReaders.get(0);
  assertTrue(r instanceof SegmentReader);
  return (SegmentReader)r;
}
