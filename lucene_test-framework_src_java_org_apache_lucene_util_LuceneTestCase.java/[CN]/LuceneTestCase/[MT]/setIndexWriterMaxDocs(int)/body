{
  Method m;
  try {
    m=IndexWriter.class.getDeclaredMethod("setMaxDocs",int.class);
  }
 catch (  NoSuchMethodException nsme) {
    throw new RuntimeException(nsme);
  }
  m.setAccessible(true);
  try {
    m.invoke(IndexWriter.class,limit);
  }
 catch (  IllegalAccessException|InvocationTargetException iae) {
    throw new RuntimeException(iae);
  }
}
