{
  TieredMergePolicy tmp=new TieredMergePolicy();
  if (rarely(r)) {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,2,9));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,2,9));
  }
 else {
    tmp.setMaxMergeAtOnce(_TestUtil.nextInt(r,10,50));
    tmp.setMaxMergeAtOnceExplicit(_TestUtil.nextInt(r,10,50));
  }
  if (rarely(r)) {
    tmp.setMaxMergedSegmentMB(0.2 + r.nextDouble() * 2.0);
  }
 else {
    tmp.setMaxMergedSegmentMB(r.nextDouble() * 100);
  }
  tmp.setFloorSegmentMB(0.2 + r.nextDouble() * 2.0);
  tmp.setForceMergeDeletesPctAllowed(0.0 + r.nextDouble() * 30.0);
  if (rarely(r)) {
    tmp.setSegmentsPerTier(_TestUtil.nextInt(r,2,20));
  }
 else {
    tmp.setSegmentsPerTier(_TestUtil.nextInt(r,10,50));
  }
  tmp.setUseCompoundFile(r.nextBoolean());
  tmp.setNoCFSRatio(0.1 + r.nextDouble() * 0.8);
  if (rarely()) {
    tmp.setMaxCFSSegmentSizeMB(0.2 + r.nextDouble() * 2.0);
  }
  tmp.setReclaimDeletesWeight(r.nextDouble() * 4);
  return tmp;
}
