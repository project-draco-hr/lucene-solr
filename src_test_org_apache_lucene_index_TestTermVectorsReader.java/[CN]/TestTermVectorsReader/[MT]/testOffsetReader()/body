{
  try {
    TermVectorsReader reader=new TermVectorsReader(dir,seg,fieldInfos);
    assertTrue(reader != null);
    TermPositionVector vector=(TermPositionVector)reader.get(0,testFields[0]);
    assertTrue(vector != null);
    String[] terms=vector.getTerms();
    assertTrue(terms != null);
    assertTrue(terms.length == testTerms.length);
    for (int i=0; i < terms.length; i++) {
      String term=terms[i];
      assertTrue(term.equals(testTerms[i]));
      int[] positions=vector.getTermPositions(i);
      assertTrue(positions != null);
      assertTrue(positions.length == this.positions[i].length);
      for (int j=0; j < positions.length; j++) {
        int position=positions[j];
        assertTrue(position == this.positions[i][j]);
      }
      TermVectorOffsetInfo[] offset=vector.getOffsets(i);
      assertTrue(offset != null);
      assertTrue(offset.length == this.offsets[i].length);
      for (int j=0; j < offset.length; j++) {
        TermVectorOffsetInfo termVectorOffsetInfo=offset[j];
        assertTrue(termVectorOffsetInfo.equals(offsets[i][j]));
      }
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
    assertTrue(false);
  }
catch (  ClassCastException cce) {
    cce.printStackTrace();
    assertTrue(false);
  }
}
