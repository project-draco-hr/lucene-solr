{
  final String suggester="suggest_doc_default_startup_no_store";
  assertEquals(suggester,h.getCore().getSolrConfig().getVal("//searchComponent[@name='suggest']/lst[8]/str[@name='name']",false));
  assertNull(h.getCore().getSolrConfig().getVal("//searchComponent[@name='suggest']/lst[8]/str[@name='storeDir']",false));
  assertEquals("false",h.getCore().getSolrConfig().getVal("//searchComponent[@name='suggest']/lst[8]/str[@name='buildOnCommit']",true));
  assertNull(h.getCore().getSolrConfig().getVal("//searchComponent[@name='suggest']/lst[8]/str[@name='buildOnStartup']",false));
  reloadCore(random().nextBoolean());
  assertQ(req("qt",rh,SuggesterParams.SUGGEST_DICT,suggester,SuggesterParams.SUGGEST_Q,"example",SuggesterParams.SUGGEST_COUNT,"5"),"//lst[@name='suggest']/lst[@name='" + suggester + "']/lst[@name='example']/int[@name='numFound'][.='2']");
  assertU(adoc("id","10","cat","example data extra ","price","40","weight","35"));
  assertU((commit()));
  waitForWarming();
  assertQ(req("qt",rh,SuggesterParams.SUGGEST_DICT,suggester,SuggesterParams.SUGGEST_Q,"example",SuggesterParams.SUGGEST_COUNT,"5"),"//lst[@name='suggest']/lst[@name='" + suggester + "']/lst[@name='example']/int[@name='numFound'][.='2']");
  reloadCore(random().nextBoolean());
  assertQ(req("qt",rh,SuggesterParams.SUGGEST_DICT,suggester,SuggesterParams.SUGGEST_Q,"example",SuggesterParams.SUGGEST_COUNT,"5"),"//lst[@name='suggest']/lst[@name='" + suggester + "']/lst[@name='example']/int[@name='numFound'][.='3']");
}
