{
  Directory dir=newDirectory();
  SegmentInfo si=newSegmentInfo(dir,"_123");
  si.setFiles(Collections.emptyList());
  si.getCodec().compoundFormat().write(dir,si,IOContext.DEFAULT);
  Directory cfs=si.getCodec().compoundFormat().getCompoundReader(dir,si,IOContext.DEFAULT);
  try {
    cfs.createOutput("bogus",IOContext.DEFAULT);
    fail("didn't get expected exception");
  }
 catch (  UnsupportedOperationException expected) {
  }
  cfs.close();
  dir.close();
}
