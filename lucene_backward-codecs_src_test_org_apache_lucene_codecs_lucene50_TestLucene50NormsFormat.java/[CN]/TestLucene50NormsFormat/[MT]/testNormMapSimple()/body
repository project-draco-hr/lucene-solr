{
  NormMap map=new NormMap();
  map.add((byte)4);
  map.add((byte)10);
  map.add((byte)5);
  map.add((byte)10);
  assertEquals(3,map.size);
  assertEquals(0,map.ord((byte)4));
  assertEquals(1,map.ord((byte)10));
  assertEquals(2,map.ord((byte)5));
  assertEquals(4,map.values[0]);
  assertEquals(10,map.values[1]);
  assertEquals(5,map.values[2]);
  assertEquals(1,map.freqs[0]);
  assertEquals(2,map.freqs[1]);
  assertEquals(1,map.freqs[2]);
  map.optimizeOrdinals();
  assertEquals(0,map.ord((byte)10));
  assertEquals(1,map.ord((byte)4));
  assertEquals(2,map.ord((byte)5));
  assertEquals(10,map.values[0]);
  assertEquals(4,map.values[1]);
  assertEquals(5,map.values[2]);
  assertEquals(2,map.freqs[0]);
  assertEquals(1,map.freqs[1]);
  assertEquals(1,map.freqs[2]);
}
