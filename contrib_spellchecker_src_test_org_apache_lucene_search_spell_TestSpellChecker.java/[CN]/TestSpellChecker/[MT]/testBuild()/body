{
  try {
    IndexReader r=IndexReader.open(userindex);
    spellChecker.clearIndex();
    addwords(r,"field1");
    int num_field1=this.numdoc();
    addwords(r,"field2");
    int num_field2=this.numdoc();
    this.assertTrue(num_field2 == num_field1 + 1);
    String[] l=spellChecker.suggestSimilar("fvie",2);
    this.assertTrue(l[0].equals("five"));
    l=spellChecker.suggestSimilar("fiv",2);
    this.assertTrue(l[0].equals("five"));
    l=spellChecker.suggestSimilar("ive",2);
    this.assertTrue(l[0].equals("five"));
    l=spellChecker.suggestSimilar("fives",2);
    this.assertTrue(l[0].equals("five"));
    l=spellChecker.suggestSimilar("fie",2);
    this.assertTrue(l[0].equals("five"));
    l=spellChecker.suggestSimilar("fi",2);
    this.assertEquals(0,l.length);
    l=spellChecker.suggestSimilar("tousand",10,r,"field1",false);
    this.assertEquals(0,l.length);
    l=spellChecker.suggestSimilar("tousand",10,r,"field2",false);
    this.assertEquals(1,l.length);
  }
 catch (  IOException e) {
    e.printStackTrace();
    this.assertTrue(false);
  }
}
