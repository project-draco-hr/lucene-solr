{
  if (SKIP_AUTO_RECOVERY) {
    return true;
  }
  MDCLoggingContext.setCore(core);
  try {
    boolean success;
    if (isClosed) {
      log.warn("Closed, skipping sync up.");
      return false;
    }
    log.info("Sync replicas to " + ZkCoreNodeProps.getCoreUrl(leaderProps));
    if (core.getUpdateHandler().getUpdateLog() == null) {
      log.error("No UpdateLog found - cannot sync");
      return false;
    }
    success=syncReplicas(zkController,core,leaderProps,peerSyncOnlyWithActive);
    return success;
  }
  finally {
    MDCLoggingContext.clear();
  }
}
