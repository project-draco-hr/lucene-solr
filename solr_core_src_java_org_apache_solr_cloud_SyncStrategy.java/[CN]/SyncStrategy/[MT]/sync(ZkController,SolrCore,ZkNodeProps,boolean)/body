{
  if (SKIP_AUTO_RECOVERY) {
    return PeerSync.PeerSyncResult.success();
  }
  MDCLoggingContext.setCore(core);
  try {
    if (isClosed) {
      log.warn("Closed, skipping sync up.");
      return PeerSync.PeerSyncResult.failure();
    }
    recoveryRequests.clear();
    log.info("Sync replicas to " + ZkCoreNodeProps.getCoreUrl(leaderProps));
    if (core.getUpdateHandler().getUpdateLog() == null) {
      log.error("No UpdateLog found - cannot sync");
      return PeerSync.PeerSyncResult.failure();
    }
    return syncReplicas(zkController,core,leaderProps,peerSyncOnlyWithActive);
  }
  finally {
    MDCLoggingContext.clear();
  }
}
