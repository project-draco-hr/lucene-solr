{
  List<ZkCoreNodeProps> nodes=zkController.getZkStateReader().getReplicaProps(collection,shardId,core.getCoreDescriptor().getCloudDescriptor().getCoreNodeName(),props.getStr(ZkStateReader.CORE_NAME_PROP));
  if (nodes == null) {
    return true;
  }
  List<String> syncWith=new ArrayList<>();
  for (  ZkCoreNodeProps node : nodes) {
    syncWith.add(node.getCoreUrl());
  }
  PeerSync peerSync=new PeerSync(core,syncWith,core.getUpdateHandler().getUpdateLog().numRecordsToKeep,true,true,peerSyncOnlyWithActive);
  return peerSync.sync();
}
