{
  List<ZkCoreNodeProps> nodes=zkController.getZkStateReader().getReplicaProps(collection,shardId,core.getCoreDescriptor().getCloudDescriptor().getCoreNodeName());
  if (nodes == null) {
    return PeerSync.PeerSyncResult.success();
  }
  List<String> syncWith=new ArrayList<>(nodes.size());
  for (  ZkCoreNodeProps node : nodes) {
    syncWith.add(node.getCoreUrl());
  }
  PeerSync peerSync=new PeerSync(core,syncWith,core.getUpdateHandler().getUpdateLog().getNumRecordsToKeep(),true,true,peerSyncOnlyWithActive,false);
  return peerSync.sync();
}
