{
  List<ZkCoreNodeProps> nodes=zkController.getZkStateReader().getReplicaProps(collection,shardId,props.getStr(ZkStateReader.NODE_NAME_PROP),props.getStr(ZkStateReader.CORE_NAME_PROP),ZkStateReader.ACTIVE);
  if (nodes == null) {
    return true;
  }
  List<String> syncWith=new ArrayList<String>();
  for (  ZkCoreNodeProps node : nodes) {
    if (!node.getNodeProps().keySet().contains(ZkStateReader.LEADER_PROP)) {
      syncWith.add(node.getCoreUrl());
    }
  }
  PeerSync peerSync=new PeerSync(core,syncWith,core.getUpdateHandler().getUpdateLog().numRecordsToKeep);
  return peerSync.sync();
}
