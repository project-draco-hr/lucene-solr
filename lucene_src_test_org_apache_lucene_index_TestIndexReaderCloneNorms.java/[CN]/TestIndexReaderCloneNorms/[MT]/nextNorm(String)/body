{
  float norm=lastNorm + normDelta;
  Similarity sim=new DefaultSimilarity().get(fname);
  do {
    float norm1=sim.decodeNormValue(sim.encodeNormValue(norm));
    if (norm1 > lastNorm) {
      norm=norm1;
      break;
    }
    norm+=normDelta;
  }
 while (true);
  norms.add(numDocNorms,Float.valueOf(norm));
  modifiedNorms.add(numDocNorms,Float.valueOf(norm));
  numDocNorms++;
  lastNorm=(norm > 10 ? 0 : norm);
  return norm;
}
