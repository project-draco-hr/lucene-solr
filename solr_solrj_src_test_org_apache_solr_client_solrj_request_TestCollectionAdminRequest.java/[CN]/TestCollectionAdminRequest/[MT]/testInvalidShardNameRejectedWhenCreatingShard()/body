{
  final CreateShard createShardRequest=new CreateShard();
  try {
    createShardRequest.setShardName("invalid$shard@name");
    fail();
  }
 catch (  SolrException e) {
    final String exceptionMessage=e.getMessage();
    assertTrue(exceptionMessage.contains("Invalid shard"));
    assertTrue(exceptionMessage.contains("invalid$shard@name"));
    assertTrue(exceptionMessage.contains("must consist entirely of periods, underscores, hyphens, and alphanumerics"));
  }
}
