{
  try {
    HttpServletRequest req=(HttpServletRequest)pageContext.getRequest();
    String relativePath=req.getRequestURI();
    firstPage=relativePath + "?startRow=0&maxRows=" + maxRows;
    nextPage=relativePath + "?startRow=" + ((startRow + maxRows <= HITCOUNT) ? startRow + maxRows : startRow)+ "&maxRows="+ maxRows;
    previousPage=relativePath + "?startRow=" + ((startRow - maxRows >= 0) ? startRow - maxRows : 0)+ "&maxRows="+ maxRows;
    lastPage=relativePath + "?startRow=" + (((HITCOUNT - maxRows) >= 0) ? HITCOUNT - maxRows : 0)+ "&maxRows="+ maxRows;
    if (HITCOUNT > 0) {
      pageList=new LinkedList();
      for (int i=0; i < (HITCOUNT / maxRows); i++) {
        String tempURL=relativePath + "?startRow=" + (maxRows * i)+ "&maxRows="+ maxRows;
        pageList.add(tempURL);
      }
    }
  }
 catch (  Exception e) {
    throw new JspException("A problem occured durring doEndTag: " + e.toString());
  }
  pageContext.setAttribute(getId(),this,PageContext.PAGE_SCOPE);
  return EVAL_PAGE;
}
