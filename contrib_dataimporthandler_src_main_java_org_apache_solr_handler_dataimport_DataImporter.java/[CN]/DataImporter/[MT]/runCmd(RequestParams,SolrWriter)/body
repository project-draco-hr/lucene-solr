{
  String command=reqParams.command;
  if (command.equals(ABORT_CMD)) {
    if (docBuilder != null) {
      docBuilder.abort();
    }
    return;
  }
  if (!importLock.tryLock())   return;
  try {
    Date lastModified=sw.loadIndexStartTime();
    setLastIndexTime(lastModified);
    if (command.equals("full-import")) {
      doFullImport(sw,reqParams);
    }
 else     if (command.equals(DELTA_IMPORT_CMD)) {
      doDeltaImport(sw,reqParams);
    }
  }
  finally {
    importLock.unlock();
  }
}
