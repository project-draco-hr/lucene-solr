{
  try (SolrClient client=createNewSolrClient("",getBaseUrl((HttpSolrClient)clients.get(0)))){
    if (random().nextBoolean()) {
      ModifiableSolrParams params=new ModifiableSolrParams();
      params.set("collections",collections);
      params.set("name",alias);
      params.set("action",CollectionAction.CREATEALIAS.toString());
      QueryRequest request=new QueryRequest(params);
      request.setPath("/admin/collections");
      client.request(request);
    }
 else {
      CreateAlias request=new CreateAlias();
      request.setAliasName(alias);
      request.setAliasedCollections(collections);
      request.process(client);
    }
  }
 }
