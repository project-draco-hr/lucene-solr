{
  SolrServer server=createNewSolrServer("",getBaseUrl((HttpSolrServer)clients.get(0)));
  if (random().nextBoolean()) {
    ModifiableSolrParams params=new ModifiableSolrParams();
    params.set("collections",collections);
    params.set("name",alias);
    params.set("action",CollectionAction.CREATEALIAS.toString());
    QueryRequest request=new QueryRequest(params);
    request.setPath("/admin/collections");
    server.request(request);
  }
 else {
    CreateAlias request=new CreateAlias();
    request.setAliasName(alias);
    request.setAliasedCollections(collections);
    request.process(server);
  }
  server.shutdown();
}
