{
  this.coreContainer=coreContainer;
  this.name=name;
  if (coreContainer.getZkController() != null) {
    this.cloudDesc=new CloudDescriptor();
    cloudDesc.setCollectionName(name.isEmpty() ? coreContainer.getDefaultCoreName() : name);
    this.cloudDesc.setShardId(coreContainer.getZkController().getNodeName() + "_" + name);
  }
  if (name == null) {
    throw new RuntimeException("Core needs a name");
  }
  if (instanceDir == null) {
    throw new NullPointerException("Missing required \'instanceDir\'");
  }
  instanceDir=SolrResourceLoader.normalizeDir(instanceDir);
  this.instanceDir=instanceDir;
  this.configName=getDefaultConfigName();
  this.schemaName=getDefaultSchemaName();
}
