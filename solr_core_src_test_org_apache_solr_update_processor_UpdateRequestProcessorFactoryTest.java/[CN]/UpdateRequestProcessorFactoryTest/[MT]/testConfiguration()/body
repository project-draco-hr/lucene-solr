{
  SolrCore core=h.getCore();
  UpdateRequestProcessorChain chained=core.getUpdateProcessingChain("standard");
  assertEquals("wrong number of (enabled) factories in chain",3,chained.getFactories().length);
  UpdateRequestProcessorFactory first=chained.getFactories()[0];
  assertEquals("wrong factory at front of chain",LogUpdateProcessorFactory.class,first.getClass());
  LogUpdateProcessorFactory log=(LogUpdateProcessorFactory)first;
  assertEquals("wrong config for LogUpdateProcessorFactory.maxNumToLog",100,log.maxNumToLog);
  assertEquals("wrong config for LogUpdateProcessorFactory.slowUpdateThresholdMillis",2000,log.slowUpdateThresholdMillis);
  UpdateRequestProcessorChain custom=core.getUpdateProcessingChain(null);
  CustomUpdateRequestProcessorFactory link=(CustomUpdateRequestProcessorFactory)custom.getFactories()[0];
  assertEquals(custom,core.getUpdateProcessingChain(""));
  assertEquals(custom,core.getUpdateProcessingChain("custom"));
  assertEquals("{name={n8=88,n9=99}}",link.args.toString());
}
