{
  while (true) {
    if (numFillerTokensToInsert > 0) {
      if (currentToken == null) {
        currentToken=captureState();
      }
 else {
        restoreState(currentToken);
      }
      numFillerTokensToInsert--;
      offsetAtt.setOffset(offsetAtt.startOffset(),offsetAtt.startOffset());
      termAtt.setTermBuffer(FILLER_TOKEN,0,FILLER_TOKEN.length);
      return true;
    }
    if (hasCurrentToken) {
      if (currentToken != null) {
        restoreState(currentToken);
        currentToken=null;
      }
      hasCurrentToken=false;
      return true;
    }
    if (!input.incrementToken())     return false;
    hasCurrentToken=true;
    if (posIncrAtt.getPositionIncrement() > 1) {
      numFillerTokensToInsert=posIncrAtt.getPositionIncrement() - 1;
    }
  }
}
