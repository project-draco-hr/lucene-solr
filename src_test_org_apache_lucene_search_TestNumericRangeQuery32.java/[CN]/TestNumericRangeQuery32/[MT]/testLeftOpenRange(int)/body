{
  String field="field" + precisionStep;
  int count=3000;
  int upper=(count - 1) * distance + (distance / 3) + startOffset;
  NumericRangeQuery<Integer> q=NumericRangeQuery.newIntRange(field,precisionStep,null,upper,true,true);
  TopDocs topDocs=searcher.search(q,null,noDocs,Sort.INDEXORDER);
  if (VERBOSE)   System.out.println("Found " + q.getTotalNumberOfTerms() + " distinct terms in left open range for field '"+ field+ "'.");
  ScoreDoc[] sd=topDocs.scoreDocs;
  assertNotNull(sd);
  assertEquals("Score doc count",count,sd.length);
  Document doc=searcher.doc(sd[0].doc);
  assertEquals("First doc",startOffset,Integer.parseInt(doc.get(field)));
  doc=searcher.doc(sd[sd.length - 1].doc);
  assertEquals("Last doc",(count - 1) * distance + startOffset,Integer.parseInt(doc.get(field)));
  q=NumericRangeQuery.newIntRange(field,precisionStep,null,upper,false,true);
  topDocs=searcher.search(q,null,noDocs,Sort.INDEXORDER);
  sd=topDocs.scoreDocs;
  assertNotNull(sd);
  assertEquals("Score doc count",count,sd.length);
  doc=searcher.doc(sd[0].doc);
  assertEquals("First doc",startOffset,Integer.parseInt(doc.get(field)));
  doc=searcher.doc(sd[sd.length - 1].doc);
  assertEquals("Last doc",(count - 1) * distance + startOffset,Integer.parseInt(doc.get(field)));
}
