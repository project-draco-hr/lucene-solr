{
  final String field="ascfield" + precisionStep;
  final int lower=-1000, upper=+2000;
  Query tq=NumericRangeQuery.newFloatRange(field,precisionStep,new Float(NumericUtils.sortableIntToFloat(lower)),new Float(NumericUtils.sortableIntToFloat(upper)),true,true);
  TopDocs tTopDocs=searcher.search(tq,1);
  assertEquals("Returned count of range query must be equal to inclusive range length",upper - lower + 1,tTopDocs.totalHits);
  Filter tf=NumericRangeFilter.newFloatRange(field,precisionStep,new Float(NumericUtils.sortableIntToFloat(lower)),new Float(NumericUtils.sortableIntToFloat(upper)),true,true);
  tTopDocs=searcher.search(new MatchAllDocsQuery(),tf,1);
  assertEquals("Returned count of range filter must be equal to inclusive range length",upper - lower + 1,tTopDocs.totalHits);
}
