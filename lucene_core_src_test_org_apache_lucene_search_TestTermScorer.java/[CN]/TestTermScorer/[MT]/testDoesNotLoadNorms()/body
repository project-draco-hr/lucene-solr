{
  Term allTerm=new Term(FIELD,"all");
  TermQuery termQuery=new TermQuery(allTerm);
  LeafReader forbiddenNorms=new FilterLeafReader(indexReader){
    @Override public NumericDocValues getNormValues(    String field) throws IOException {
      fail("Norms should not be loaded");
      return null;
    }
  }
;
  IndexSearcher indexSearcher=new IndexSearcher(forbiddenNorms);
  Weight weight=indexSearcher.createNormalizedWeight(termQuery,true);
  try {
    weight.scorer(forbiddenNorms.getContext(),null).nextDoc();
    fail("Should load norms");
  }
 catch (  AssertionError e) {
  }
  weight=indexSearcher.createNormalizedWeight(termQuery,false);
  weight.scorer(forbiddenNorms.getContext(),null).nextDoc();
}
