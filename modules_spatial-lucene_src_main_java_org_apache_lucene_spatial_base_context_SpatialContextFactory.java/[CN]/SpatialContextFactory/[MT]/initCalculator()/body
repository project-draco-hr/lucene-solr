{
  String calcStr=args.get("distCalculator");
  if (calcStr == null)   return;
  if (calcStr.equalsIgnoreCase("haversine")) {
    calculator=new GeodesicSphereDistCalc.Haversine(units.earthRadius());
  }
 else   if (calcStr.equalsIgnoreCase("lawOfCosines")) {
    calculator=new GeodesicSphereDistCalc.LawOfCosines(units.earthRadius());
  }
 else   if (calcStr.equalsIgnoreCase("vincentySphere")) {
    calculator=new GeodesicSphereDistCalc.Vincenty(units.earthRadius());
  }
 else   if (calcStr.equalsIgnoreCase("cartesian")) {
    calculator=new CartesianDistCalc();
  }
 else   if (calcStr.equalsIgnoreCase("cartesian^2")) {
    calculator=new CartesianDistCalc(true);
  }
 else {
    throw new RuntimeException("Unknown calculator: " + calcStr);
  }
}
