{
  this.snapDir=dir;
  this.fileName=(String)fileDetails.get(NAME);
  this.size=(Long)fileDetails.get(SIZE);
  this.isConf=isConf;
  this.saveAs=saveAs;
  if (fileDetails.get(LAST_MODIFIED) != null) {
    lastmodified=(Long)fileDetails.get(LAST_MODIFIED);
  }
  indexVersion=latestVersion;
  this.file=new File(snapDir,saveAs);
  this.fileChannel=new FileOutputStream(file).getChannel();
  if (includeChecksum)   checksum=new Adler32();
}
