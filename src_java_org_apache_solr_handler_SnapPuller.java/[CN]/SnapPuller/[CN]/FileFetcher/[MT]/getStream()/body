{
  post=new PostMethod(masterUrl);
  post.addParameter(COMMAND,CMD_GET_FILE);
  post.addParameter(CMD_INDEX_VERSION,indexVersion.toString());
  if (isConf) {
    post.addParameter(CONF_FILE_SHORT,fileName);
  }
 else {
    post.addParameter(FILE,fileName);
  }
  if (useInternal) {
    post.addParameter(COMPRESSION,"true");
  }
  if (useExternal) {
    post.setRequestHeader(new Header("Accept-Encoding","gzip,deflate"));
  }
  if (this.includeChecksum)   post.addParameter(CHECKSUM,"true");
  post.addParameter("wt",FILE_STREAM);
  if (bytesDownloaded > 0) {
    post.addParameter(OFFSET,"" + bytesDownloaded);
  }
  myHttpClient.executeMethod(post);
  InputStream is=post.getResponseBodyAsStream();
  if (useInternal) {
    is=new InflaterInputStream(is);
  }
 else   if (useExternal) {
    is=checkCompressed(post,is);
  }
  return new FastInputStream(is);
}
