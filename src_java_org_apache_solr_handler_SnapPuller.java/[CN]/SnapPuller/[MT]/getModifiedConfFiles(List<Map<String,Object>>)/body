{
  if (confFilesToDownload == null || confFilesToDownload.isEmpty())   return Collections.EMPTY_LIST;
  Map<String,Map<String,Object>> nameVsFile=new HashMap<String,Map<String,Object>>();
  for (  Map<String,Object> map : confFilesToDownload) {
    nameVsFile.put((String)map.get(NAME),map);
  }
  List<Map<String,Object>> localFilesInfo=replicationHandler.getConfFileCache(nameVsFile.keySet());
  for (  Map<String,Object> fileInfo : localFilesInfo) {
    String name=(String)fileInfo.get(NAME);
    Map<String,Object> m=nameVsFile.get(name);
    if (m == null)     continue;
    if (m.get(CHECKSUM).equals(fileInfo.get(CHECKSUM))) {
      nameVsFile.remove(name);
    }
  }
  return nameVsFile.isEmpty() ? Collections.EMPTY_LIST : nameVsFile.values();
}
