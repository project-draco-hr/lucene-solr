{
  IndexReader reader=signedIndexReader;
  IndexSearcher search=newSearcher(reader);
  int numDocs=reader.numDocs();
  Double minIdO=Double.valueOf(minId + .5);
  Double medIdO=Double.valueOf(minIdO.floatValue() + ((maxId - minId)) / 2.0);
  ScoreDoc[] result;
  Query q=new TermQuery(new Term("body","body"));
  result=search.search(q,DocValuesRangeFilter.newDoubleRange("id_double",minIdO,medIdO,T,T),numDocs).scoreDocs;
  assertEquals("find all",numDocs / 2,result.length);
  int count=0;
  result=search.search(q,DocValuesRangeFilter.newDoubleRange("id_double",null,medIdO,F,T),numDocs).scoreDocs;
  count+=result.length;
  result=search.search(q,DocValuesRangeFilter.newDoubleRange("id_double",medIdO,null,F,F),numDocs).scoreDocs;
  count+=result.length;
  assertEquals("sum of two concenatted ranges",numDocs,count);
  result=search.search(q,DocValuesRangeFilter.newDoubleRange("id_double",null,null,T,T),numDocs).scoreDocs;
  assertEquals("find all",numDocs,result.length);
  result=search.search(q,DocValuesRangeFilter.newDoubleRange("id_double",Double.valueOf(Double.POSITIVE_INFINITY),null,F,F),numDocs).scoreDocs;
  assertEquals("infinity special case",0,result.length);
  result=search.search(q,DocValuesRangeFilter.newDoubleRange("id_double",null,Double.valueOf(Double.NEGATIVE_INFINITY),F,F),numDocs).scoreDocs;
  assertEquals("infinity special case",0,result.length);
}
