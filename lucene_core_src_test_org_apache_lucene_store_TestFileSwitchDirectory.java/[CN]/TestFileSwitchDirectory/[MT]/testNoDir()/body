{
  File primDir=TestUtil.getTempDir("foo");
  File secondDir=TestUtil.getTempDir("bar");
  TestUtil.rmDir(primDir);
  TestUtil.rmDir(secondDir);
  Directory dir=newFSSwitchDirectory(primDir,secondDir,Collections.<String>emptySet());
  try {
    DirectoryReader.open(dir);
    fail("did not hit expected exception");
  }
 catch (  NoSuchDirectoryException nsde) {
  }
  dir.close();
}
