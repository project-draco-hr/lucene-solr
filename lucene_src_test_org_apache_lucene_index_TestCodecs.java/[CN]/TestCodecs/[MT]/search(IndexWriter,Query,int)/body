{
  final IndexReader reader=writer.getReader();
  final IndexSearcher searcher=new IndexSearcher(reader);
  try {
    return searcher.search(q,null,n).scoreDocs;
  }
  finally {
    searcher.close();
    reader.close();
  }
}
