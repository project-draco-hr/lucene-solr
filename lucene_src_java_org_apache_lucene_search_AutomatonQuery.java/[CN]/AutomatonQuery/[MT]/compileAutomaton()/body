{
  if (runAutomaton == null) {
    runAutomaton=new ByteRunAutomaton(automaton);
    isFinite=SpecialOperations.isFinite(automaton);
    commonSuffixRef=isFinite ? null : SpecialOperations.getCommonSuffixBytesRef(runAutomaton.getAutomaton());
  }
}
