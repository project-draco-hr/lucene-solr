{
  final String BLOCK=" a  a";
  CharFilter cs=new PatternReplaceCharFilter(pattern("a"),"aa",new StringReader(BLOCK));
  TokenStream ts=new MockTokenizer(cs,MockTokenizer.WHITESPACE,false);
  assertTokenStreamContents(ts,new String[]{"aa","aa"},new int[]{1,4},new int[]{2,5},BLOCK.length());
}
