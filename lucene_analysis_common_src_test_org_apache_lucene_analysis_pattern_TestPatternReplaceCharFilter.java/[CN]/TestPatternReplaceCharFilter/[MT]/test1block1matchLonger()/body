{
  final String BLOCK="aa bb cc dd";
  CharFilter cs=new PatternReplaceCharFilter(pattern("(aa)\\s+(bb)\\s+(cc)"),"$1##$2###$3",new StringReader(BLOCK));
  TokenStream ts=new MockTokenizer(cs,MockTokenizer.WHITESPACE,false);
  assertTokenStreamContents(ts,new String[]{"aa##bb###cc","dd"},new int[]{0,9},new int[]{8,11},BLOCK.length());
}
