{
  IndexReader reader=IndexReader.open(unsignedIndex.index,true);
  IndexSearcher search=new IndexSearcher(reader);
  String minRP=pad(unsignedIndex.minR);
  String maxRP=pad(unsignedIndex.maxR);
  int numDocs=reader.numDocs();
  assertEquals("num of docs",numDocs,1 + maxId - minId);
  ScoreDoc[] result;
  Collator c=Collator.getInstance(Locale.ENGLISH);
  result=search.search(csrq("rand",minRP,maxRP,T,T,c),null,numDocs).scoreDocs;
  assertEquals("find all",numDocs,result.length);
  result=search.search(csrq("rand",minRP,maxRP,T,F,c),null,numDocs).scoreDocs;
  assertEquals("all but biggest",numDocs - 1,result.length);
  result=search.search(csrq("rand",minRP,maxRP,F,T,c),null,numDocs).scoreDocs;
  assertEquals("all but smallest",numDocs - 1,result.length);
  result=search.search(csrq("rand",minRP,maxRP,F,F,c),null,numDocs).scoreDocs;
  assertEquals("all but extremes",numDocs - 2,result.length);
  result=search.search(csrq("rand",minRP,null,T,F,c),null,numDocs).scoreDocs;
  assertEquals("smallest and up",numDocs,result.length);
  result=search.search(csrq("rand",null,maxRP,F,T,c),null,numDocs).scoreDocs;
  assertEquals("biggest and down",numDocs,result.length);
  result=search.search(csrq("rand",minRP,null,F,F,c),null,numDocs).scoreDocs;
  assertEquals("not smallest, but up",numDocs - 1,result.length);
  result=search.search(csrq("rand",null,maxRP,F,F,c),null,numDocs).scoreDocs;
  assertEquals("not biggest, but down",numDocs - 1,result.length);
  result=search.search(csrq("rand",minRP,minRP,F,F,c),null,numDocs).scoreDocs;
  assertEquals("min,min,F,F,c",0,result.length);
  result=search.search(csrq("rand",maxRP,maxRP,F,F,c),null,numDocs).scoreDocs;
  assertEquals("max,max,F,F,c",0,result.length);
  result=search.search(csrq("rand",minRP,minRP,T,T,c),null,numDocs).scoreDocs;
  assertEquals("min,min,T,T,c",1,result.length);
  result=search.search(csrq("rand",null,minRP,F,T,c),null,numDocs).scoreDocs;
  assertEquals("nul,min,F,T,c",1,result.length);
  result=search.search(csrq("rand",maxRP,maxRP,T,T,c),null,numDocs).scoreDocs;
  assertEquals("max,max,T,T,c",1,result.length);
  result=search.search(csrq("rand",maxRP,null,T,F,c),null,numDocs).scoreDocs;
  assertEquals("max,nul,T,T,c",1,result.length);
}
