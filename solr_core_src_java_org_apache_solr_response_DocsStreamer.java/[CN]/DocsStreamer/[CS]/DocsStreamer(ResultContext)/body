{
  this.rctx=rctx;
  this.docs=rctx.getDocList();
  transformer=rctx.getReturnFields().getTransformer();
  docIterator=this.docs.iterator();
  fnames=rctx.getReturnFields().getLuceneFieldNames();
  onlyPseudoFields=(fnames == null && !rctx.getReturnFields().wantsAllFields() && !rctx.getReturnFields().hasPatternMatching()) || (fnames != null && fnames.size() == 1 && SolrReturnFields.SCORE.equals(fnames.iterator().next()));
  if (transformer != null)   transformer.setContext(rctx);
}
