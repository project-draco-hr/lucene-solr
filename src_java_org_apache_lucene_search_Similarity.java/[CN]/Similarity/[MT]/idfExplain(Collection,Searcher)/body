{
  if (supportedMethods.overridesCollectionIDF) {
    final float idf=idf(terms,searcher);
    return new IDFExplanation(){
      public float getIdf(){
        return idf;
      }
      public String explain(){
        return "Inexplicable";
      }
    }
;
  }
  final int max=searcher.maxDoc();
  float idf=0.0f;
  final StringBuffer exp=new StringBuffer();
  Iterator i=terms.iterator();
  while (i.hasNext()) {
    Term term=(Term)i.next();
    final int df=searcher.docFreq(term);
    idf+=idf(df,max);
    exp.append(" ");
    exp.append(term.text());
    exp.append("=");
    exp.append(df);
  }
  final float fIdf=idf;
  return new IDFExplanation(){
    public float getIdf(){
      return fIdf;
    }
    public String explain(){
      return exp.toString();
    }
  }
;
}
