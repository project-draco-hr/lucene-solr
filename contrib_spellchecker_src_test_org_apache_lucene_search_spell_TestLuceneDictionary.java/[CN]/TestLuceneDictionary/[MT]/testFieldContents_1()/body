{
  try {
    indexReader=IndexReader.open(store,true);
    ld=new LuceneDictionary(indexReader,"contents");
    it=ld.getWordsIterator();
    assertTrue("First element doesn't exist.",it.hasNext());
    assertTrue("First element isn't correct",it.next().equals("Jerry"));
    assertTrue("Second element doesn't exist.",it.hasNext());
    assertTrue("Second element isn't correct",it.next().equals("Tom"));
    assertFalse("More elements than expected",it.hasNext());
    assertTrue("Nonexistent element is really null",it.next() == null);
    ld=new LuceneDictionary(indexReader,"contents");
    it=ld.getWordsIterator();
    int counter=2;
    while (it.hasNext()) {
      it.next();
      counter--;
    }
    assertTrue("Number of words incorrect",counter == 0);
  }
  finally {
    if (indexReader != null) {
      indexReader.close();
    }
  }
}
