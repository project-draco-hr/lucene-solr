{
  List<DocsAndPositionsEnum> docsEnums=new LinkedList<>();
  for (int i=0; i < terms.length; i++) {
    final Term term=terms[i];
    TermState termState=termContexts.get(term).get(context.ord);
    if (termState == null) {
      continue;
    }
    termsEnum.seekExact(term.bytes(),termState);
    DocsAndPositionsEnum postings=termsEnum.docsAndPositions(liveDocs,null,DocsEnum.FLAG_NONE);
    if (postings == null) {
      throw new IllegalStateException("field \"" + term.field() + "\" was indexed without position data; cannot run PhraseQuery (term="+ term.text()+ ")");
    }
    cost+=postings.cost();
    docsEnums.add(postings);
  }
  _queue=new DocsQueue(docsEnums);
  _posList=new IntQueue();
}
