{
  if (pathString.length() > MAX_CATEGORY_PATH_LENGTH) {
    throw new IllegalArgumentException("category path exceeds maximum allowed path length: max=" + MAX_CATEGORY_PATH_LENGTH + " len="+ pathString.length()+ " path="+ pathString.substring(0,30)+ "...");
  }
  String[] comps=pathString.split(Pattern.quote(Character.toString(delimiter)));
  if (comps.length == 1 && comps[0].isEmpty()) {
    components=null;
    length=0;
  }
 else {
    for (    String comp : comps) {
      if (comp == null || comp.isEmpty()) {
        throw new IllegalArgumentException("empty or null components not allowed: " + Arrays.toString(comps));
      }
    }
    components=comps;
    length=components.length;
  }
}
