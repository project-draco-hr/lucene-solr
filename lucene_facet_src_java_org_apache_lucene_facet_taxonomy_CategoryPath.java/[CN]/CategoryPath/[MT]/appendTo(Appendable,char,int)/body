{
  if (prefixLen < 0 || prefixLen > ncomponents) {
    prefixLen=ncomponents;
  }
  if (prefixLen == 0) {
    return;
  }
  for (int i=0; i < ends[0]; i++) {
    out.append(chars[i]);
  }
  for (int j=1; j < prefixLen; j++) {
    out.append(delimiter);
    for (int i=ends[j - 1]; i < ends[j]; i++) {
      out.append(chars[i]);
    }
  }
}
