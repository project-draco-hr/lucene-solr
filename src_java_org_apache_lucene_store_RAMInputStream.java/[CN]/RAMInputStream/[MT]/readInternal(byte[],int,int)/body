{
  int remainder=len;
  long start=pointer;
  while (remainder != 0) {
    int bufferNumber=(int)(start / BUFFER_SIZE);
    int bufferOffset=(int)(start % BUFFER_SIZE);
    int bytesInBuffer=BUFFER_SIZE - bufferOffset;
    int bytesToCopy=bytesInBuffer >= remainder ? remainder : bytesInBuffer;
    byte[] buffer=(byte[])file.buffers.elementAt(bufferNumber);
    System.arraycopy(buffer,bufferOffset,dest,destOffset,bytesToCopy);
    destOffset+=bytesToCopy;
    start+=bytesToCopy;
    remainder-=bytesToCopy;
  }
  pointer+=len;
}
