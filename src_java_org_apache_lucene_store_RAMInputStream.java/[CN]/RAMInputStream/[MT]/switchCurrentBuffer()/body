{
  if (currentBufferIndex >= file.buffers.size()) {
    throw new IOException("Read past EOF");
  }
 else {
    currentBuffer=(byte[])file.buffers.get(currentBufferIndex);
    bufferPosition=0;
    bufferStart=BUFFER_SIZE * currentBufferIndex;
    bufferLength=(int)(length - bufferStart);
    if (bufferLength > BUFFER_SIZE) {
      bufferLength=BUFFER_SIZE;
    }
  }
}
