{
  if (currentBufferIndex >= file.buffers.size()) {
    throw new IOException("Read past EOF");
  }
 else {
    currentBuffer=(byte[])file.buffers.get(currentBufferIndex);
    bufferPosition=0;
    bufferStart=(long)BUFFER_SIZE * (long)currentBufferIndex;
    long buflen=length - bufferStart;
    bufferLength=buflen > BUFFER_SIZE ? BUFFER_SIZE : (int)buflen;
  }
}
