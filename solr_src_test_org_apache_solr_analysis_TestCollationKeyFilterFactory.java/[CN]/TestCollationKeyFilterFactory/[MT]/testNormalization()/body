{
  String turkishUpperCase="I W\u0049\u0307LL USE TURK??SH CASING";
  String turkishLowerCase="?? will use turkish cas??ng";
  CollationKeyFilterFactory factory=new CollationKeyFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put("language","tr");
  args.put("strength","primary");
  args.put("decomposition","canonical");
  factory.init(args);
  factory.inform(new StringMockSolrResourceLoader(""));
  TokenStream tsUpper=factory.create(new KeywordTokenizer(new StringReader(turkishUpperCase)));
  TokenStream tsLower=factory.create(new KeywordTokenizer(new StringReader(turkishLowerCase)));
  assertCollatesToSame(tsUpper,tsLower);
}
