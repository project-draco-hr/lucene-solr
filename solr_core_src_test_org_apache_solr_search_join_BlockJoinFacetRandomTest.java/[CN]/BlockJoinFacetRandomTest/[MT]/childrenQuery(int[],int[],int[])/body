{
  StringBuilder builder=new StringBuilder();
  builder.append(flatQuery(children,"child_s",CHILD_VALUE_PREFIX));
  if (parentRelations == null) {
    if (childRelations == null) {
      builder.append(" +parentchild_s:[* TO *]");
    }
 else {
      builder.append(" +parentchild_s:(");
      if (childRelations.length == 0) {
        builder.append("match_nothing_value");
      }
 else {
        for (        int childRelation : childRelations) {
          for (int i=0; i < NUMBER_OF_PARENTS; i++) {
            builder.append(parentChild(i,childRelation));
            builder.append(" ");
          }
        }
        builder.deleteCharAt(builder.length() - 1);
      }
      builder.append(")");
    }
  }
 else {
    builder.append(" +parentchild_s:(");
    if (parentRelations.length == 0) {
      builder.append("match_nothing_value");
    }
 else {
      if (childRelations == null) {
        for (        int parentRelation : parentRelations) {
          for (int i=0; i < NUMBER_OF_CHILDREN; i++) {
            builder.append(parentChild(parentRelation,i));
            builder.append(" ");
          }
        }
      }
 else       if (childRelations.length == 0) {
        builder.append("match_nothing_value");
      }
 else {
        for (        int parentRelation : parentRelations) {
          for (          int childRelation : childRelations) {
            builder.append(parentChild(parentRelation,childRelation));
            builder.append(" ");
          }
        }
        builder.deleteCharAt(builder.length() - 1);
      }
    }
    builder.append(")");
  }
  return builder.toString();
}
