{
  if (min > max)   return BasicAutomata.makeEmpty();
  max-=min;
  a.expandSingleton();
  Automaton b;
  if (min == 0)   b=BasicAutomata.makeEmptyString();
 else   if (min == 1)   b=a.clone();
 else {
    List<Automaton> as=new ArrayList<Automaton>();
    while (min-- > 0)     as.add(a);
    b=concatenate(as);
  }
  if (max > 0) {
    Automaton d=a.clone();
    while (--max > 0) {
      Automaton c=a.clone();
      for (      State p : c.getAcceptStates())       p.addEpsilon(d.initial);
      d=c;
    }
    for (    State p : b.getAcceptStates())     p.addEpsilon(d.initial);
    b.deterministic=false;
    b.clearNumberedStates();
    b.checkMinimizeAlways();
  }
  return b;
}
