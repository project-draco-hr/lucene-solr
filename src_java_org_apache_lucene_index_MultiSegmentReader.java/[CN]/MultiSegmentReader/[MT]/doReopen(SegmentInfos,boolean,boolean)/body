{
  DirectoryIndexReader reader;
  if (infos.size() == 1) {
    reader=SegmentReader.get(openReadOnly,infos,infos.info(0),false);
  }
 else   if (openReadOnly) {
    reader=new ReadOnlyMultiSegmentReader(directory,infos,closeDirectory,subReaders,starts,normsCache,doClone);
  }
 else {
    reader=new MultiSegmentReader(directory,infos,closeDirectory,subReaders,starts,normsCache,false,doClone);
  }
  reader.setDisableFakeNorms(getDisableFakeNorms());
  return reader;
}
