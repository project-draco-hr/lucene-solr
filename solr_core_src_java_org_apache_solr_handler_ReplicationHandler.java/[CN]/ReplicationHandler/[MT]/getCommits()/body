{
  Map<Long,IndexCommit> commits=core.getDeletionPolicy().getCommits();
  List<NamedList<Object>> l=new ArrayList<>();
  for (  IndexCommit c : commits.values()) {
    try {
      NamedList<Object> nl=new NamedList<>();
      nl.add("indexVersion",IndexDeletionPolicyWrapper.getCommitTimestamp(c));
      nl.add(GENERATION,c.getGeneration());
      List<String> commitList=new ArrayList<>(c.getFileNames().size());
      commitList.addAll(c.getFileNames());
      Collections.sort(commitList);
      nl.add(CMD_GET_FILE_LIST,commitList);
      l.add(nl);
    }
 catch (    IOException e) {
      LOG.warn("Exception while reading files for commit " + c,e);
    }
  }
  return l;
}
