{
  for (long i=Integer.MAX_VALUE, c=0; i < (long)Integer.MAX_VALUE + 10l; i++) {
    assertU(adoc("id",String.valueOf(c++),"tdouble",String.valueOf(i * 2.33d)));
  }
  assertU(commit());
  String fq="tdouble:[" + Integer.MAX_VALUE * 2.33d + " TO " + (5l + Integer.MAX_VALUE) * 2.33d + "]";
  assertQ("Range filter must match only 5 documents",req("q","*:*","fq",fq),"//*[@numFound='6']");
  assertQ("Range filter tdouble:[* to *] must match 10 documents",req("q","*:*","fq","tdouble:[* TO *]"),"//*[@numFound='10']");
}
