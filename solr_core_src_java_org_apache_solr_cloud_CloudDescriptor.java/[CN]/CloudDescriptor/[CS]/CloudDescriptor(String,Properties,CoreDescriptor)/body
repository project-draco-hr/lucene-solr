{
  this.cd=cd;
  this.shardId=props.getProperty(CoreDescriptor.CORE_SHARD,null);
  if (Strings.isNullOrEmpty(shardId))   this.shardId=null;
  this.collectionName=props.getProperty(CoreDescriptor.CORE_COLLECTION,coreName);
  this.roles=props.getProperty(CoreDescriptor.CORE_ROLES,null);
  this.nodeName=props.getProperty(CoreDescriptor.CORE_NODE_NAME);
  if (Strings.isNullOrEmpty(nodeName))   this.nodeName=null;
  this.numShards=PropertiesUtil.toInteger(props.getProperty(CloudDescriptor.NUM_SHARDS),null);
  for (  String propName : props.stringPropertyNames()) {
    if (propName.startsWith(ZkController.COLLECTION_PARAM_PREFIX)) {
      collectionParams.put(propName.substring(ZkController.COLLECTION_PARAM_PREFIX.length()),props.getProperty(propName));
    }
  }
}
