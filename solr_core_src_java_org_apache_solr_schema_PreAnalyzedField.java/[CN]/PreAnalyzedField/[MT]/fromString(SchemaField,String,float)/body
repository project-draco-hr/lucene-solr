{
  if (val == null || val.trim().length() == 0) {
    return null;
  }
  PreAnalyzedTokenizer parse=new PreAnalyzedTokenizer(new StringReader(val),parser);
  Field f=(Field)super.createField(field,val,boost);
  if (parse.getStringValue() != null) {
    f.setStringValue(parse.getStringValue());
  }
 else   if (parse.getBinaryValue() != null) {
    f.setBytesValue(parse.getBinaryValue());
  }
 else {
    f.fieldType().setStored(false);
  }
  if (parse.hasTokenStream()) {
    f.fieldType().setIndexed(true);
    f.fieldType().setTokenized(true);
    f.setTokenStream(parse);
  }
  return f;
}
