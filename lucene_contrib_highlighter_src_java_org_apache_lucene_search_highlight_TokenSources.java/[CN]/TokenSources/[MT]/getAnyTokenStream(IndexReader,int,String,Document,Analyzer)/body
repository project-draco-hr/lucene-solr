{
  TokenStream ts=null;
  InvertedFields vectors=reader.getTermVectors(docId);
  if (vectors != null) {
    Terms vector=vectors.terms(field);
    if (vector != null) {
      ts=getTokenStream(vector);
    }
  }
  if (ts == null) {
    ts=getTokenStream(doc,field,analyzer);
  }
  return ts;
}
