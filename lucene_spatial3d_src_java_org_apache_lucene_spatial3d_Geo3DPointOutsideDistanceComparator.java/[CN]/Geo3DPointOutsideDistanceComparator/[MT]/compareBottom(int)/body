{
  currentDocs.setDocument(doc);
  int numValues=currentDocs.count();
  if (numValues == 0) {
    return Double.compare(bottomDistance,Double.POSITIVE_INFINITY);
  }
  int cmp=-1;
  for (int i=0; i < numValues; i++) {
    long encoded=currentDocs.valueAt(i);
    final double x=Geo3DDocValuesField.decodeXValue(encoded);
    final double y=Geo3DDocValuesField.decodeYValue(encoded);
    final double z=Geo3DDocValuesField.decodeZValue(encoded);
    cmp=Math.max(cmp,Double.compare(bottomDistance,distanceShape.computeOutsideDistance(DistanceStyle.ARC,x,y,z)));
  }
  return cmp;
}
