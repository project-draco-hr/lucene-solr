{
  ZkStateReader reader=new ZkStateReader(zkClient);
  try {
    String[] args=new String[]{"-zkhost",zkServer.getZkAddress(),"-cmd","CLUSTERPROP","-name","urlScheme","-val","http"};
    ZkCLI.main(args);
    assertEquals("http",reader.getClusterProps().get("urlScheme"));
    args=new String[]{"-zkhost",zkServer.getZkAddress(),"-cmd","CLUSTERPROP","-name","urlScheme"};
    ZkCLI.main(args);
    assertNull(reader.getClusterProps().get("urlScheme"));
  }
  finally {
    reader.close();
  }
}
