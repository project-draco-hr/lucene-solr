{
  super.setUp();
  log.info("####SETUP_START " + getTestName());
  String exampleHome=SolrJettyTestBase.legacyExampleCollection1SolrHome();
  File tmpDir=createTempDir().toFile();
  solrHome=exampleHome;
  zkDir=tmpDir.getAbsolutePath() + File.separator + "zookeeper/server1/data";
  log.info("ZooKeeper dataDir:" + zkDir);
  zkServer=new ZkTestServer(zkDir);
  zkServer.run();
  System.setProperty("zkHost",zkServer.getZkAddress());
  SolrZkClient zkClient=new SolrZkClient(zkServer.getZkHost(),AbstractZkTestCase.TIMEOUT);
  zkClient.makePath("/solr",false,true);
  zkClient.close();
  this.zkClient=new SolrZkClient(zkServer.getZkAddress(),AbstractZkTestCase.TIMEOUT);
  log.info("####SETUP_END " + getTestName());
}
