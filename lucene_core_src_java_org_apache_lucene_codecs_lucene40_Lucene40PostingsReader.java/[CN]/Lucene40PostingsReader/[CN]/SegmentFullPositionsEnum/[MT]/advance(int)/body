{
  if ((target - skipInterval) >= doc && limit >= skipMinimum) {
    if (skipper == null) {
      skipper=new Lucene40SkipListReader((IndexInput)freqIn.clone(),maxSkipLevels,skipInterval);
    }
    if (!skipped) {
      skipper.init(freqOffset + skipOffset,freqOffset,proxOffset,limit,storePayloads,storeOffsets);
      skipped=true;
    }
    final int newOrd=skipper.skipTo(target);
    if (newOrd > ord) {
      ord=newOrd;
      doc=accum=skipper.getDoc();
      freqIn.seek(skipper.getFreqPointer());
      lazyProxPointer=skipper.getProxPointer();
      posPendingCount=0;
      position=0;
      startOffset=0;
      payloadPending=false;
      payloadLength=skipper.getPayloadLength();
      offsetLength=skipper.getOffsetLength();
    }
  }
  do {
    nextDoc();
  }
 while (target > doc);
  return doc;
}
