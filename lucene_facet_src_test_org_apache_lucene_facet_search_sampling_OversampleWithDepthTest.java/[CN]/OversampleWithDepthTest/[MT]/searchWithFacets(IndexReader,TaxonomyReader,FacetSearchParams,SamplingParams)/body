{
  FacetsCollector fcWithSampling=new FacetsCollector(fsp,r,tr){
    @Override protected FacetsAccumulator initFacetsAccumulator(    FacetSearchParams facetSearchParams,    IndexReader indexReader,    TaxonomyReader taxonomyReader){
      Sampler sampler=new RandomSampler(params,random());
      return new SamplingAccumulator(sampler,facetSearchParams,indexReader,taxonomyReader);
    }
  }
;
  IndexSearcher s=new IndexSearcher(r);
  s.search(new MatchAllDocsQuery(),fcWithSampling);
  return fcWithSampling.getFacetResults().get(0);
}
