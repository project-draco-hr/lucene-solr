{
  IndexWriterConfig iwc=newIndexWriterConfig(TEST_VERSION_CURRENT,new KeywordAnalyzer());
  IndexWriter w=new IndexWriter(indexDir,iwc);
  TaxonomyWriter tw=new DirectoryTaxonomyWriter(taxoDir);
  CategoryDocumentBuilder cdb=new CategoryDocumentBuilder(tw);
  ArrayList<CategoryPath> categoryPaths=new ArrayList<CategoryPath>(1);
  for (int i=0; i < 100; i++) {
    categoryPaths.clear();
    categoryPaths.add(new CategoryPath("root",Integer.toString(i / 10),Integer.toString(i)));
    cdb.setCategoryPaths(categoryPaths);
    w.addDocument(cdb.build(new Document()));
  }
  IOUtils.close(tw,w);
}
