{
  IndexWriterConfig iwc=newIndexWriterConfig(TEST_VERSION_CURRENT,new KeywordAnalyzer());
  IndexWriter w=new IndexWriter(indexDir,iwc);
  TaxonomyWriter tw=new DirectoryTaxonomyWriter(taxoDir);
  FacetFields facetFields=new FacetFields(tw,fip);
  for (int i=0; i < 100; i++) {
    Document doc=new Document();
    CategoryPath cp=new CategoryPath("root",Integer.toString(i / 10),Integer.toString(i));
    facetFields.addFields(doc,Collections.singletonList(cp));
    w.addDocument(doc);
  }
  IOUtils.close(tw,w);
}
