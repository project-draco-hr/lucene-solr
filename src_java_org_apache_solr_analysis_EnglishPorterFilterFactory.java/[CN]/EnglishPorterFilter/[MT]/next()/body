{
  Token tok=input.next();
  if (tok == null)   return null;
  String tokstr=tok.termText();
  if (protWords != null && protWords.contains(tokstr)) {
    return tok;
  }
  stemmer.setCurrent(tokstr);
  stemmer.stem();
  String newstr=stemmer.getCurrent();
  if (tokstr.equals(newstr)) {
    return tok;
  }
 else {
    Token newtok=new Token(newstr,tok.startOffset(),tok.endOffset(),tok.type());
    newtok.setPositionIncrement(tok.getPositionIncrement());
    return newtok;
  }
}
