{
  assertAnalyzesTo(analyzer,document,expected);
  TokenStream ts=analyzer.reusableTokenStream("dummy",new PatternAnalyzer.FastStringReader(document));
  assertTokenStreamContents(ts,expected);
  TokenStream ts2=analyzer.reusableTokenStream("dummy",new StringReader(document));
  assertTokenStreamContents(ts2,expected);
}
