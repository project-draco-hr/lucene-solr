{
  final int[] numLeaves=new int[1];
  try {
    new ReaderUtil.Gather(reader){
      @Override protected void add(      int base,      AtomicReader r){
        numLeaves[0]++;
      }
    }
.run();
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
  return numLeaves[0];
}
