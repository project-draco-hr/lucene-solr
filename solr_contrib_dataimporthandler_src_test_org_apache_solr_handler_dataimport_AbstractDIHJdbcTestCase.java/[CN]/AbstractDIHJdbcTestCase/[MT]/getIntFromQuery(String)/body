{
  Connection conn=null;
  Statement s=null;
  ResultSet rs=null;
  try {
    conn=newConnection();
    s=conn.createStatement();
    rs=s.executeQuery(query);
    if (rs.next()) {
      return rs.getInt(1);
    }
    return 0;
  }
 catch (  SQLException e) {
    throw e;
  }
 finally {
    try {
      rs.close();
    }
 catch (    Exception ex) {
    }
    try {
      s.close();
    }
 catch (    Exception ex) {
    }
    try {
      conn.close();
    }
 catch (    Exception ex) {
    }
  }
}
