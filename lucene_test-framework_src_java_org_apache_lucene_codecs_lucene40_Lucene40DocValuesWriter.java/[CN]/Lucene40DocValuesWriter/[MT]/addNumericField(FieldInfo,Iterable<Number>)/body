{
  field.putAttribute(legacyKey,LegacyDocValuesType.VAR_INTS.name());
  String fileName=IndexFileNames.segmentFileName(state.segmentInfo.name,Integer.toString(field.number),"dat");
  IndexOutput data=dir.createOutput(fileName,state.context);
  boolean success=false;
  try {
    addVarIntsField(data,values);
    success=true;
  }
  finally {
    if (success) {
      IOUtils.close(data);
    }
 else {
      IOUtils.closeWhileHandlingException(data);
    }
  }
}
