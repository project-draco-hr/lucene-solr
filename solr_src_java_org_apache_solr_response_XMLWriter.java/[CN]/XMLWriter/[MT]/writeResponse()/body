{
  writer.write(XML_START1);
  String stylesheet=req.getParams().get("stylesheet");
  if (stylesheet != null && stylesheet.length() > 0) {
    writer.write(XML_STYLESHEET);
    XML.escapeAttributeValue(stylesheet,writer);
    writer.write(XML_STYLESHEET_END);
  }
  writer.write(XML_START2_NOSCHEMA);
  NamedList lst=rsp.getValues();
  Boolean omitHeader=req.getParams().getBool(CommonParams.OMIT_HEADER);
  if (omitHeader != null && omitHeader)   lst.remove("responseHeader");
  int sz=lst.size();
  int start=0;
  for (int i=start; i < sz; i++) {
    writeVal(lst.getName(i),lst.getVal(i));
  }
  writer.write("\n</response>\n");
}
