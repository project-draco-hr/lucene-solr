{
  FieldComparator[] comps=new FieldComparator[sortItems.size()];
  for (int i=0; i < sortItems.size(); i++) {
    SortItem sortItem=sortItems.get(i);
    String ordering=sortItem.getOrdering().toString();
    ComparatorOrder comparatorOrder=ascDescComp(ordering);
    String sortKey=getSortField(sortItem);
    comps[i]=new FieldComparator(sortKey,comparatorOrder);
  }
  if (comps.length == 1) {
    return comps[0];
  }
 else {
    return new MultipleFieldComparator(comps);
  }
}
