{
  boolean anyMissing=false;
  for (  Number n : docToOrd) {
    if (n.longValue() == -1) {
      anyMissing=true;
      break;
    }
  }
  boolean hasEmptyString=false;
  for (  BytesRef b : values) {
    hasEmptyString=b.length == 0;
    break;
  }
  if (!anyMissing) {
  }
 else   if (hasEmptyString) {
    docToOrd=MissingOrdRemapper.mapMissingToOrd0(docToOrd);
  }
 else {
    docToOrd=MissingOrdRemapper.mapAllOrds(docToOrd);
    values=MissingOrdRemapper.insertEmptyValue(values);
  }
  meta.writeVInt(field.number);
  meta.writeByte(Lucene45DocValuesFormat.SORTED);
  addTermsDict(field,values);
  addNumericField(field,docToOrd,false);
}
