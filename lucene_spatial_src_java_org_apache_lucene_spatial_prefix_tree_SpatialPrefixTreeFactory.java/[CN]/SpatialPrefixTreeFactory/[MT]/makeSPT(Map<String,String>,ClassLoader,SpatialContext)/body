{
  SpatialPrefixTreeFactory instance;
  String cname=args.get(PREFIX_TREE);
  if (cname == null)   cname=ctx.isGeo() ? "geohash" : "quad";
  if ("geohash".equalsIgnoreCase(cname))   instance=new GeohashPrefixTree.Factory();
 else   if ("quad".equalsIgnoreCase(cname))   instance=new QuadPrefixTree.Factory();
 else {
    try {
      Class<?> c=classLoader.loadClass(cname);
      instance=(SpatialPrefixTreeFactory)c.newInstance();
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  instance.init(args,ctx);
  return instance.newSPT();
}
