{
  int numIterations=atLeast(10);
  for (int i=0; i < numIterations; i++) {
    final NormalizeCharMap map=randomMap();
    Analyzer analyzer=new Analyzer(){
      @Override protected TokenStreamComponents createComponents(      String fieldName,      Reader reader){
        Tokenizer tokenizer=new MockTokenizer(reader,MockTokenizer.WHITESPACE,false);
        return new TokenStreamComponents(tokenizer,tokenizer);
      }
      @Override protected Reader initReader(      Reader reader){
        return new MappingCharFilter(map,CharReader.get(reader));
      }
    }
;
    int numRounds=100;
    checkRandomData(random(),analyzer,numRounds);
  }
}
