{
  final NormalizeCharMap.Builder builder=new NormalizeCharMap.Builder();
  builder.add("t","");
  builder.add("tmakdbl","c");
  final NormalizeCharMap map=builder.build();
  Analyzer analyzer=new Analyzer(){
    @Override protected TokenStreamComponents createComponents(    String fieldName,    Reader reader){
      Tokenizer tokenizer=new MockTokenizer(reader,MockTokenizer.WHITESPACE,false);
      return new TokenStreamComponents(tokenizer,tokenizer);
    }
    @Override protected Reader initReader(    String fieldName,    Reader reader){
      return new MappingCharFilter(map,CharReader.get(reader));
    }
  }
;
  String text="gzw f quaxot";
  checkAnalysisConsistency(random(),analyzer,false,text);
}
