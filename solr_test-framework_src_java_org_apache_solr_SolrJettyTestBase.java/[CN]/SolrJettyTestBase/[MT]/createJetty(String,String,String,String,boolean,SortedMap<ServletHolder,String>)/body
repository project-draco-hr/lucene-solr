{
  initCore(null,null,solrHome);
  ignoreException("maxWarmingSearchers");
  context=context == null ? "/solr" : context;
  SolrJettyTestBase.context=context;
  jetty=new JettySolrRunner(solrHome,context,0,configFile,schemaFile,stopAtShutdown,extraServlets,sslConfig);
  if (System.getProperty("solr.data.dir") == null && System.getProperty("solr.hdfs.home") == null) {
    jetty.setDataDir(createTempDir().toFile().getCanonicalPath());
  }
  jetty.start();
  port=jetty.getLocalPort();
  log.info("Jetty Assigned Port#" + port);
  return jetty;
}
