{
  SSLConfig sslConfig=new SSLConfig();
  final boolean trySsl=random().nextBoolean();
  final boolean trySslClientAuth=random().nextBoolean();
  log.info("Randomized ssl ({}) and clientAuth ({})",trySsl,trySslClientAuth);
  String keystorePath=null == TEST_KEYSTORE ? null : TEST_KEYSTORE.getAbsolutePath();
  initSSLConfig(sslConfig,keystorePath);
  sslConfig.useSsl=trySsl;
  sslConfig.clientAuth=trySslClientAuth;
  initSSLConfig(sslConfig,keystorePath);
  return sslConfig;
}
