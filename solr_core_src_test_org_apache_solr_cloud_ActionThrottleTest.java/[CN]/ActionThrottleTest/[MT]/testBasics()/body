{
  ActionThrottle at=new ActionThrottle("test",1000);
  long start=System.nanoTime();
  at.minimumWaitBetweenActions();
  assertTrue(TimeUnit.MILLISECONDS.convert(System.nanoTime() - start,TimeUnit.NANOSECONDS) < 1000);
  at.markAttemptingAction();
  if (random().nextBoolean())   Thread.sleep(100);
  at.minimumWaitBetweenActions();
  long elaspsedTime=TimeUnit.MILLISECONDS.convert(System.nanoTime() - start,TimeUnit.NANOSECONDS);
  assertTrue(elaspsedTime + "ms",elaspsedTime >= 995);
  start=System.nanoTime();
  at.markAttemptingAction();
  at.minimumWaitBetweenActions();
  Thread.sleep(random().nextInt(1000));
  elaspsedTime=TimeUnit.MILLISECONDS.convert(System.nanoTime() - start,TimeUnit.NANOSECONDS);
  assertTrue(elaspsedTime + "ms",elaspsedTime >= 995);
}
