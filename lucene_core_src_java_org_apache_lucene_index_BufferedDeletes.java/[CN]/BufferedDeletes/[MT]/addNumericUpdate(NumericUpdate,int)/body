{
  Map<String,NumericUpdate> termUpdates=numericUpdates.get(update.term);
  if (termUpdates == null) {
    termUpdates=new HashMap<String,NumericUpdate>();
    numericUpdates.put(update.term,termUpdates);
    bytesUsed.addAndGet(BYTES_PER_NUMERIC_UPDATE_TERM_ENTRY);
  }
  final NumericUpdate current=termUpdates.get(update.field);
  if (current != null && docIDUpto < current.docIDUpto) {
    return;
  }
  update.docIDUpto=docIDUpto;
  termUpdates.put(update.field,update);
  numNumericUpdates.incrementAndGet();
  if (current == null) {
    bytesUsed.addAndGet(BYTES_PER_NUMERIC_UPDATE_ENTRY + update.sizeInBytes());
  }
}
