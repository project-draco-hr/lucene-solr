{
  final IndexSearcher searcher=newSearcher(new MultiReader());
  final TermQuery termQuery=new TermQuery(new Term("foo","bar"));
  final ConstantScoreQuery csq=new ConstantScoreQuery(termQuery);
  final Set<Term> scoringTerms=new HashSet<>();
  searcher.createNormalizedWeight(csq,true).extractTerms(scoringTerms);
  assertEquals(Collections.emptySet(),scoringTerms);
  final Set<Term> matchingTerms=new HashSet<>();
  searcher.createNormalizedWeight(csq,false).extractTerms(matchingTerms);
  assertEquals(Collections.singleton(new Term("foo","bar")),matchingTerms);
}
