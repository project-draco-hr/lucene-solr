{
  delegateFieldsConsumer.write(fields);
  for (  String field : fields) {
    CompletionTermWriter termWriter=new CompletionTermWriter();
    Terms terms=fields.terms(field);
    TermsEnum termsEnum=terms.iterator(null);
    BytesRef term;
    while ((term=termsEnum.next()) != null) {
      termWriter.write(term,termsEnum);
    }
    long filePointer=dictOut.getFilePointer();
    if (termWriter.finish(dictOut)) {
      seenFields.put(field,filePointer);
    }
  }
}
