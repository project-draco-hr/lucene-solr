{
  clearAttributes();
  termAttribute.copyBuffer(savedBuffer,iterator.current,iterator.end - iterator.current);
  int startOffset=savedStartOffset + iterator.current;
  int endOffset=savedStartOffset + iterator.end;
  if (hasIllegalOffsets) {
    if (isSingleWord && startOffset <= savedEndOffset) {
      offsetAttribute.setOffset(startOffset,savedEndOffset);
    }
 else {
      offsetAttribute.setOffset(savedStartOffset,savedEndOffset);
    }
  }
 else {
    offsetAttribute.setOffset(startOffset,endOffset);
  }
  posIncAttribute.setPositionIncrement(position(false));
  typeAttribute.setType(savedType);
}
