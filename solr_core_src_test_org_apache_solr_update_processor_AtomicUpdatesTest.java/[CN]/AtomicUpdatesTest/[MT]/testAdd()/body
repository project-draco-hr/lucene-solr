{
  SolrInputDocument doc=new SolrInputDocument();
  doc.setField("id","3");
  doc.setField("cat",new String[]{"aaa","ccc"});
  assertU(adoc(doc));
  doc=new SolrInputDocument();
  doc.setField("id","4");
  doc.setField("cat",new String[]{"aaa","ccc"});
  assertU(adoc(doc));
  assertU(commit());
  assertQ(req("q","cat:*","indent","true"),"//result[@numFound = '2']");
  assertQ(req("q","cat:bbb","indent","true"),"//result[@numFound = '0']");
  doc=new SolrInputDocument();
  doc.setField("id","3");
  doc.setField("cat",ImmutableMap.of("add","bbb"));
  assertU(adoc(doc));
  assertU(commit());
  assertQ(req("q","cat:*","indent","true"),"//result[@numFound = '2']");
  assertQ(req("q","cat:bbb","indent","true"),"//result[@numFound = '1']");
}
