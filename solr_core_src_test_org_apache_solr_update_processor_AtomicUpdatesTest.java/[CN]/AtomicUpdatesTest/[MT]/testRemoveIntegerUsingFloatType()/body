{
  SolrInputDocument doc;
  doc=new SolrInputDocument();
  doc.setField("id","1001");
  doc.setField("intRemove",new String[]{"111","222","333","333","444"});
  assertU(adoc(doc));
  doc=new SolrInputDocument();
  doc.setField("id","1002");
  doc.setField("intRemove",new String[]{"111","222","222","333","444"});
  assertU(adoc(doc));
  doc=new SolrInputDocument();
  doc.setField("id","1020");
  doc.setField("intRemove",new String[]{"111","333","444"});
  assertU(adoc(doc));
  doc=new SolrInputDocument();
  doc.setField("id","1021");
  doc.setField("intRemove",new String[]{"111","222","444"});
  assertU(adoc(doc));
  assertU(commit());
  assertQ(req("q","intRemove:*","indent","true"),"//result[@numFound = '4']");
  assertQ(req("q","intRemove:222","indent","true"),"//result[@numFound = '3']");
  doc=new SolrInputDocument();
  doc.setField("id","1001");
  List<Float> removeList=new ArrayList<Float>();
  removeList.add(222.20F);
  removeList.add(333.30F);
  doc.setField("intRemove",ImmutableMap.of("remove",removeList));
  assertU(adoc(doc));
  assertU(commit());
  assertQ(req("q","intRemove:*","indent","true"),"//result[@numFound = '4']");
  assertQ(req("q","intRemove:222","indent","true"),"//result[@numFound = '2']");
  doc=new SolrInputDocument();
  doc.setField("id","1021");
  removeList=new ArrayList<Float>();
  removeList.add(222.20F);
  removeList.add(333.30F);
  doc.setField("intRemove",ImmutableMap.of("remove",removeList));
  assertU(adoc(doc));
  assertU(commit());
  assertQ(req("q","intRemove:*","indent","true"),"//result[@numFound = '4']");
  assertQ(req("q","intRemove:222","indent","true"),"//result[@numFound = '1']");
  doc=new SolrInputDocument();
  doc.setField("id","1001");
  doc.setField("intRemove",ImmutableMap.of("remove",111L));
  assertU(adoc(doc));
  assertU(commit());
  assertQ(req("q","intRemove:*","indent","true"),"//result[@numFound = '4']");
  assertQ(req("q","intRemove:111","indent","true"),"//result[@numFound = '3']");
}
