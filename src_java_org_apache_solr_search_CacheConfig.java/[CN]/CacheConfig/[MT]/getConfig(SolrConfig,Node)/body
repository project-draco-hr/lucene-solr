{
  if (node == null)   return null;
  CacheConfig config=new CacheConfig();
  config.nodeName=node.getNodeName();
  config.args=DOMUtil.toMap(node.getAttributes());
  String nameAttr=(String)config.args.get("name");
  if (nameAttr == null) {
    config.args.put("name",config.nodeName);
  }
  config.cacheImpl=(String)config.args.get("class");
  config.regenImpl=(String)config.args.get("regenerator");
  config.clazz=solrConfig.findClass(config.cacheImpl);
  if (config.regenImpl != null) {
    config.regenerator=(CacheRegenerator)solrConfig.newInstance(config.regenImpl);
  }
  return config;
}
