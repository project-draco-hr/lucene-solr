{
  Map<String,String> args=new HashMap<String,String>();
  args.put(CapitalizationFilterFactory.KEEP,"kitten");
  args.put(CapitalizationFilterFactory.KEEP_IGNORE_CASE,"true");
  args.put(CapitalizationFilterFactory.ONLY_FIRST_WORD,"true");
  CapitalizationFilterFactory factory=new CapitalizationFilterFactory();
  factory.init(args);
  char[] termBuffer;
  termBuffer="kiTTEN".toCharArray();
  factory.forceFirstLetter=true;
  factory.processWord(termBuffer,0,termBuffer.length,0);
  assertEquals("KiTTEN",new String(termBuffer,0,termBuffer.length));
  factory.forceFirstLetter=false;
  termBuffer="kiTTEN".toCharArray();
  factory.processWord(termBuffer,0,termBuffer.length,0);
  assertEquals("kiTTEN",new String(termBuffer,0,termBuffer.length));
  factory.keep=null;
  termBuffer="kiTTEN".toCharArray();
  factory.processWord(termBuffer,0,termBuffer.length,0);
  assertEquals("Kitten",new String(termBuffer,0,termBuffer.length));
}
