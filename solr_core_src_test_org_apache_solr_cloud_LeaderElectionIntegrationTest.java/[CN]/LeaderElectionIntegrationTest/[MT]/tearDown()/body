{
  if (VERBOSE) {
    printLayout(zkServer.getZkHost());
  }
  if (zkClient != null) {
    zkClient.close();
  }
  if (reader != null) {
    reader.close();
  }
  for (  CoreContainer cc : containerMap.values()) {
    if (!cc.isShutDown()) {
      cc.shutdown();
    }
  }
  zkServer.shutdown();
  super.tearDown();
  System.clearProperty("zkClientTimeout");
  System.clearProperty("zkHost");
  System.clearProperty("hostPort");
  System.clearProperty("shard");
  System.clearProperty("solrcloud.update.delay");
}
