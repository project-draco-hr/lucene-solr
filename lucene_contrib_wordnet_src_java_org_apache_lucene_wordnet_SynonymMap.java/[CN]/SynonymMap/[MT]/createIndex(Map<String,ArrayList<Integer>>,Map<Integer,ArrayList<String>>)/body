{
  HashMap<String,String[]> word2Syns=new HashMap<String,String[]>();
  for (  final Map.Entry<String,ArrayList<Integer>> entry : word2Groups.entrySet()) {
    ArrayList<Integer> group=entry.getValue();
    String word=entry.getKey();
    TreeSet<String> synonyms=new TreeSet<String>();
    for (int i=group.size(); --i >= 0; ) {
      ArrayList<String> words=group2Words.get(group.get(i));
      for (int j=words.size(); --j >= 0; ) {
        String synonym=words.get(j);
        if (synonym != word) {
          synonyms.add(synonym);
        }
      }
    }
    int size=synonyms.size();
    if (size > 0) {
      String[] syns=new String[size];
      if (size == 1)       syns[0]=synonyms.first();
 else       synonyms.toArray(syns);
      word2Syns.put(word,syns);
    }
  }
  return word2Syns;
}
