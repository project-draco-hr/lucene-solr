{
  FacetRequest fr=new CountFacetRequest(new CategoryPath("a"),10);
  RAMDirectory dir1=new RAMDirectory();
  RAMDirectory dir2=new RAMDirectory();
  new IndexWriter(dir1,new IndexWriterConfig(TEST_VERSION_CURRENT,null)).close();
  new IndexWriter(dir2,new IndexWriterConfig(TEST_VERSION_CURRENT,null)).close();
  TaxonomyReader tr1=new LuceneTaxonomyReader(dir1);
  TaxonomyReader tr2=new LuceneTaxonomyReader(dir2);
  FacetResultsHandler frh1=fr.createFacetResultsHandler(tr1);
  FacetResultsHandler frh2=fr.createFacetResultsHandler(tr2);
  assertTrue("should not return the same FacetResultHandler instance for different TaxonomyReader instances",frh1 != frh2);
}
