{
  final DocsAndPositionsEnum postings=termSpans.getPostings();
  if (postings.hasPayload()) {
    payload=postings.getPayload();
    if (payload != null) {
      payloadScore=function.currentScore(doc,term.field(),spans.start(),spans.end(),payloadsSeen,payloadScore,similarity.scorePayload(doc,spans.start(),spans.end(),payload.bytes,payload.offset,payload.length));
    }
 else {
      payloadScore=function.currentScore(doc,term.field(),spans.start(),spans.end(),payloadsSeen,payloadScore,similarity.scorePayload(doc,spans.start(),spans.end(),null,0,0));
    }
    payloadsSeen++;
  }
 else {
  }
}
