{
  super.handle(ordinal,cp);
  CategoryAssociation association=associations.getAssociation(cp);
  if (association == null) {
    return;
  }
  BytesRef bytes=perAssociationBytes.get(association.getCategoryListID());
  if (bytes == null) {
    bytes=new BytesRef();
    perAssociationBytes.put(association.getCategoryListID(),bytes);
  }
  int maxBytesNeeded=4 + association.maxBytesNeeded();
  if (bytes.bytes.length - bytes.length < maxBytesNeeded) {
    bytes.grow(bytes.bytes.length + maxBytesNeeded);
  }
  output.reset(bytes.bytes,bytes.length,bytes.bytes.length - bytes.length);
  output.writeInt(ordinal);
  association.serialize(output);
  bytes.length=output.getPosition();
}
