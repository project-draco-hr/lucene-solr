{
  homeDir=new File(TEMP_DIR,getClass().getName() + "-" + System.currentTimeMillis());
  dataDir=new File(homeDir + "/collection1","data");
  confDir=new File(homeDir + "/collection1","conf");
  homeDir.mkdirs();
  dataDir.mkdirs();
  confDir.mkdirs();
  File f=new File(confDir,"solrconfig.xml");
  IOUtils.copy(SolrTestCaseJ4.getFile(getSolrConfigFile()),f);
  f=new File(confDir,"schema.xml");
  IOUtils.copy(SolrTestCaseJ4.getFile(getSchemaFile()),f);
  Properties p=new Properties();
  p.setProperty("foo.foo1","f1");
  p.setProperty("foo.foo2","f2");
  Writer fos=new OutputStreamWriter(new FileOutputStream(confDir + File.separator + "solrcore.properties"),IOUtils.CHARSET_UTF_8);
  p.store(fos,null);
  IOUtils.close(fos);
}
