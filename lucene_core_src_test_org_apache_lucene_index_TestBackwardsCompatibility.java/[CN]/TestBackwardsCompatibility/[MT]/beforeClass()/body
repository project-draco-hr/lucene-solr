{
  assertFalse("test infra is broken!",LuceneTestCase.OLD_FORMAT_IMPERSONATION_IS_ACTIVE);
  List<String> names=new ArrayList<String>(oldNames.length + oldSingleSegmentNames.length);
  names.addAll(Arrays.asList(oldNames));
  names.addAll(Arrays.asList(oldSingleSegmentNames));
  oldIndexDirs=new HashMap<String,Directory>();
  for (  String name : names) {
    File dir=_TestUtil.getTempDir(name);
    File dataFile=new File(TestBackwardsCompatibility.class.getResource("index." + name + ".zip").toURI());
    _TestUtil.unzip(dataFile,dir);
    oldIndexDirs.put(name,newFSDirectory(dir));
  }
}
