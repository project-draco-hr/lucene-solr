def getGitRev():
    status = os.popen('git status').read().strip()
    if ('nothing to commit, working directory clean' not in status):
        raise RuntimeError(('git clone is dirty:\n\n%s' % status))
    return os.popen('git rev-parse HEAD').read().strip()
