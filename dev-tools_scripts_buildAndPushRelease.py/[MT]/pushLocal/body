def pushLocal(version, root, rev, rcNum, localDir):
    print ('Push local [%s]...' % localDir)
    os.makedirs(localDir)
    dir = ('lucene-solr-%s-RC%d-rev%s' % (version, rcNum, rev))
    os.makedirs(('%s/%s/lucene' % (localDir, dir)))
    os.makedirs(('%s/%s/solr' % (localDir, dir)))
    print '  Lucene'
    os.chdir(('%s/lucene/dist' % root))
    print '    zip...'
    if os.path.exists('lucene.tar.bz2'):
        os.remove('lucene.tar.bz2')
    run('tar cjf lucene.tar.bz2 *')
    os.chdir(('%s/%s/lucene' % (localDir, dir)))
    print '    unzip...'
    run(('tar xjf "%s/lucene/dist/lucene.tar.bz2"' % root))
    os.remove(('%s/lucene/dist/lucene.tar.bz2' % root))
    print '  Solr'
    os.chdir(('%s/solr/package' % root))
    print '    zip...'
    if os.path.exists('solr.tar.bz2'):
        os.remove('solr.tar.bz2')
    run('tar cjf solr.tar.bz2 *')
    print '    unzip...'
    os.chdir(('%s/%s/solr' % (localDir, dir)))
    run(('tar xjf "%s/solr/package/solr.tar.bz2"' % root))
    os.remove(('%s/solr/package/solr.tar.bz2' % root))
    print '  KEYS'
    run('wget http://home.apache.org/keys/group/lucene.asc')
    os.rename('lucene.asc', 'KEYS')
    run('chmod a+r-w KEYS')
    run('cp KEYS ../lucene')
    print '  chmod...'
    os.chdir('..')
    run('chmod -R a+rX-w .')
    print '  done!'
    return ('file://%s/%s' % (os.path.abspath(localDir), dir))
