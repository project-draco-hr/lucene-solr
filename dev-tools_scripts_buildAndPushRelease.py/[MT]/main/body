def main():
    c = parse_config()
    if c.prepare:
        rev = prepare(c.root, c.version, c.key_id, c.key_password, (key.smoke_test is None))
    else:
        os.chdir(root)
        rev = open('rev.txt', encoding='UTF-8').read()
    if c.push_remote:
        url = push(version, root, rev, rcNum, username)
    elif c.push_local:
        url = pushLocal(version, root, rev, c.rc_num, c.push_local)
    else:
        url = None
    if (url is not None):
        print ('  URL: %s' % url)
    if (c.smoke_test is not None):
        import smokeTestRelease
        smokeTestRelease.DEBUG = False
        smokeTestRelease.smokeTest(url, rev, c.version, c.smoke_test, (c.sign is not None), '')
