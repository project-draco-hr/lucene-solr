def main():
    check_cmdline_tools()
    c = parse_config()
    if c.prepare:
        rev = prepare(c.root, c.version, c.key_id, c.key_password)
    else:
        os.chdir(root)
        rev = open('rev.txt', encoding='UTF-8').read()
    if c.push_local:
        url = pushLocal(c.version, c.root, rev, c.rc_num, c.push_local)
    else:
        url = None
    if (url is not None):
        print ('  URL: %s' % url)
        print 'Next run the smoker tester:'
        p = re.compile('.*/')
        m = p.match(sys.argv[0])
        print ('%s -u %(s)smokeTestRelease.py %s' % (sys.executable, m.group(), url))
