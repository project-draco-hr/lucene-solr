{
  PhraseQuery expectedPhrase=new PhraseQuery();
  expectedPhrase.add(new Term("field","foo"));
  expectedPhrase.add(new Term("field","bar"));
  BooleanQuery expected=new BooleanQuery();
  expected.add(expectedPhrase,Occur.MUST);
  expected.add(new TermQuery(new Term("field","~2")),Occur.MUST);
  assertEquals(expected,parse("\"foo bar\"~2",~NEAR_OPERATOR));
}
