{
  List<FacetResult> results=accumulator.accumulate(matchingDocs);
  List<FacetResult> rangeResults=rangeAccumulator.accumulate(matchingDocs);
  int aUpto=0;
  int raUpto=0;
  List<FacetResult> merged=new ArrayList<FacetResult>();
  for (  FacetRequest fr : searchParams.facetRequests) {
    if (fr instanceof RangeFacetRequest) {
      merged.add(rangeResults.get(raUpto++));
    }
 else {
      merged.add(results.get(aUpto++));
    }
  }
  return merged;
}
