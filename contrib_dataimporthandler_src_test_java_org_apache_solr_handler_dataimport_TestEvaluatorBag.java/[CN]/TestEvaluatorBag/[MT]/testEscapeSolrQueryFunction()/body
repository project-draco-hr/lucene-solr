{
  final VariableResolverImpl resolver=new VariableResolverImpl();
  ContextImpl context=new ContextImpl(null,resolver,null,0,Collections.EMPTY_MAP,null,null);
  resolver.context=context;
  Map m=new HashMap();
  m.put("query","c:t");
  resolver.addNamespace("dataimporter.functions",EvaluatorBag.getFunctionsNamespace(Collections.EMPTY_LIST,null));
  resolver.addNamespace("e",m);
  String s=resolver.replaceTokens("${dataimporter.functions.escapeQueryChars(e.query)}");
  org.junit.Assert.assertEquals("c\\:t",s);
}
