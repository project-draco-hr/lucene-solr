{
  long blockId=getBlock(position);
  int blockOffset=(int)getPosition(position);
  int lengthToReadInBlock=Math.min(len,blockSize - blockOffset);
  if (checkCache(blockId,blockOffset,b,off,lengthToReadInBlock)) {
    return lengthToReadInBlock;
  }
 else {
    readIntoCacheAndResult(blockId,blockOffset,b,off,lengthToReadInBlock);
  }
  return lengthToReadInBlock;
}
