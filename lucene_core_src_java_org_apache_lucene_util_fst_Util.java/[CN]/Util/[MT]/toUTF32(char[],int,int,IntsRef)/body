{
  int charIdx=offset;
  int intIdx=0;
  final int charLimit=offset + length;
  while (charIdx < charLimit) {
    scratch.grow(intIdx + 1);
    final int utf32=Character.codePointAt(s,charIdx);
    scratch.ints[intIdx]=utf32;
    charIdx+=Character.charCount(utf32);
    intIdx++;
  }
  scratch.length=intIdx;
  return scratch;
}
