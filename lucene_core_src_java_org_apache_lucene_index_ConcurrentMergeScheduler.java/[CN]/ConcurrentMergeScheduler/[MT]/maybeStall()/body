{
  long startStallTime=0;
  while (writer.hasPendingMerges() && mergeThreadCount() >= maxMergeCount) {
    startStallTime=System.currentTimeMillis();
    if (verbose()) {
      message("    too many merges; stalling...");
    }
    try {
      wait();
    }
 catch (    InterruptedException ie) {
      throw new ThreadInterruptedException(ie);
    }
  }
  if (verbose()) {
    if (startStallTime != 0) {
      message("  stalled for " + (System.currentTimeMillis() - startStallTime) + " msec");
    }
  }
}
