{
  final int length=docs.length;
  int i=0;
  while (i < length && doc < maxDoc) {
    if (deletedDocs == null || !deletedDocs.get(doc)) {
      docs[i]=doc;
      freqs[i]=1;
      ++i;
    }
    doc++;
  }
  return i;
}
