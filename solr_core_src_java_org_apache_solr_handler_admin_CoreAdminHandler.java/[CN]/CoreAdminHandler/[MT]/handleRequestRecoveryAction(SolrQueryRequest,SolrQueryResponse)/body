{
  final SolrParams params=req.getParams();
  log.info("It has been requested that we recover");
  String cname=params.get(CoreAdminParams.CORE);
  if (cname == null) {
    cname="";
  }
  SolrCore core=null;
  try {
    core=coreContainer.getCore(cname);
    if (core != null) {
      try {
        coreContainer.getZkController().publish(core.getCoreDescriptor(),ZkStateReader.RECOVERING);
      }
 catch (      KeeperException e) {
        SolrException.log(log,"",e);
      }
catch (      InterruptedException e) {
        SolrException.log(log,"",e);
      }
      core.getUpdateHandler().getSolrCoreState().doRecovery(coreContainer,cname);
    }
 else {
      SolrException.log(log,"Cound not find core to call recovery:" + cname);
    }
  }
  finally {
    if (core != null) {
      core.close();
    }
  }
}
