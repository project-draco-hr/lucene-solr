{
  final SolrParams params=req.getParams();
  log.info("It has been requested that we recover");
  Thread thread=new Thread(){
    @Override public void run(){
      String cname=params.get(CoreAdminParams.CORE);
      if (cname == null) {
        cname="";
      }
      SolrCore core=null;
      try {
        core=coreContainer.getCore(cname);
        if (core != null) {
          try {
            coreContainer.getZkController().publish(core.getCoreDescriptor(),ZkStateReader.RECOVERING);
          }
 catch (          InterruptedException e) {
            Thread.currentThread().interrupt();
            SolrException.log(log,"",e);
          }
catch (          Throwable t) {
            SolrException.log(log,"",t);
          }
          core.getUpdateHandler().getSolrCoreState().doRecovery(coreContainer,core.getCoreDescriptor());
        }
 else {
          SolrException.log(log,"Cound not find core to call recovery:" + cname);
        }
      }
  finally {
        if (core != null) {
          core.close();
        }
      }
    }
  }
;
  thread.start();
}
