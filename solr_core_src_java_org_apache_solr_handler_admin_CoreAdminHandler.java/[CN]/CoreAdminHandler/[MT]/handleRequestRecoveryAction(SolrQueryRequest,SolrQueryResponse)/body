{
  final SolrParams params=req.getParams();
  log.info("It has been requested that we recover: core=" + params.get(CoreAdminParams.CORE));
  Thread thread=new Thread(){
    @Override public void run(){
      String cname=params.get(CoreAdminParams.CORE);
      if (cname == null) {
        cname="";
      }
      try (SolrCore core=coreContainer.getCore(cname)){
        if (core != null) {
          try {
            coreContainer.getZkController().publish(core.getCoreDescriptor(),ZkStateReader.RECOVERING);
          }
 catch (          InterruptedException e) {
            Thread.currentThread().interrupt();
            SolrException.log(log,"",e);
          }
catch (          Throwable e) {
            SolrException.log(log,"",e);
            if (e instanceof Error) {
              throw (Error)e;
            }
          }
          core.getUpdateHandler().getSolrCoreState().doRecovery(coreContainer,core.getCoreDescriptor());
        }
 else {
          SolrException.log(log,"Could not find core to call recovery:" + cname);
        }
      }
     }
  }
;
  thread.start();
}
