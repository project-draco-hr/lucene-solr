{
  final SolrParams params=req.getParams();
  log.info("I have been forcefully prepare myself for leadership.");
  ZkController zkController=coreContainer.getZkController();
  if (zkController == null) {
    throw new SolrException(ErrorCode.BAD_REQUEST,"Only valid for SolrCloud");
  }
  String cname=params.get(CoreAdminParams.CORE);
  if (cname == null) {
    throw new IllegalArgumentException(CoreAdminParams.CORE + " is required");
  }
  try (SolrCore core=coreContainer.getCore(cname)){
    if (core != null) {
      core.getCoreDescriptor().getCloudDescriptor().setLastPublished(Replica.State.ACTIVE);
      log.info("Setting the last published state for this core, {}, to {}",core.getName(),Replica.State.ACTIVE);
    }
 else {
      SolrException.log(log,"Could not find core: " + cname);
    }
  }
 }
