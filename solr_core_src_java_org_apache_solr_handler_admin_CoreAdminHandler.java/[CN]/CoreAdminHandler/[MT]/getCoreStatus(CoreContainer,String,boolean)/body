{
  NamedList<Object> info=new SimpleOrderedMap<Object>();
  if (!cores.isLoaded(cname)) {
    CoreDescriptor desc=cores.getUnloadedCoreDescriptor(cname);
    if (desc != null) {
      info.add("name",desc.getName());
      info.add("isDefaultCore",desc.getName().equals(cores.getDefaultCoreName()));
      info.add("instanceDir",desc.getInstanceDir());
      String tmp=desc.getDataDir();
      if (StringUtils.isNotBlank(tmp))       info.add("dataDir",tmp);
      tmp=desc.getConfigName();
      if (StringUtils.isNotBlank(tmp))       info.add("config",tmp);
      tmp=desc.getSchemaName();
      if (StringUtils.isNotBlank(tmp))       info.add("schema",tmp);
      info.add("isLoaded","false");
    }
  }
 else {
    SolrCore core=cores.getCore(cname);
    if (core != null) {
      try {
        info.add("name",core.getName());
        info.add("isDefaultCore",core.getName().equals(cores.getDefaultCoreName()));
        info.add("instanceDir",normalizePath(core.getResourceLoader().getInstanceDir()));
        info.add("dataDir",normalizePath(core.getDataDir()));
        info.add("config",core.getConfigResource());
        info.add("schema",core.getSchemaResource());
        info.add("startTime",new Date(core.getStartTime()));
        info.add("uptime",System.currentTimeMillis() - core.getStartTime());
        if (isIndexInfoNeeded) {
          RefCounted<SolrIndexSearcher> searcher=core.getSearcher();
          try {
            SimpleOrderedMap<Object> indexInfo=LukeRequestHandler.getIndexInfo(searcher.get().getIndexReader());
            long size=getIndexSize(core);
            indexInfo.add("sizeInBytes",size);
            indexInfo.add("size",NumberUtils.readableSize(size));
            info.add("index",indexInfo);
          }
  finally {
            searcher.decref();
          }
        }
      }
  finally {
        core.close();
      }
    }
  }
  return info;
}
