{
  SolrParams params=adminReq.getParams();
  List<HashPartitioner.Range> ranges=null;
  String cname=params.get(CoreAdminParams.CORE,"");
  SolrCore core=coreContainer.getCore(cname);
  SolrQueryRequest req=new LocalSolrQueryRequest(core,params);
  try {
    String[] pathsArr=params.getParams("path");
    List<String> paths=null;
    String rangesStr=params.get("ranges");
    if (pathsArr != null) {
      paths=Arrays.asList(pathsArr);
      if (rangesStr == null) {
        HashPartitioner hp=new HashPartitioner();
        ranges=hp.partitionRange(pathsArr.length,Integer.MIN_VALUE,Integer.MAX_VALUE);
      }
    }
    SplitIndexCommand cmd=new SplitIndexCommand(req,paths,ranges);
    core.getUpdateHandler().split(cmd);
  }
 catch (  Exception e) {
    log.error("ERROR executing split:",e);
    throw new RuntimeException(e);
  }
 finally {
    if (req != null)     req.close();
    if (core != null)     core.close();
  }
  return false;
}
