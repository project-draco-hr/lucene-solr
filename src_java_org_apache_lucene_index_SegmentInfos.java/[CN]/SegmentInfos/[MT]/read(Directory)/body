{
  InputStream input=directory.openFile("segments");
  try {
    counter=input.readInt();
    for (int i=input.readInt(); i > 0; i--) {
      SegmentInfo si=new SegmentInfo(input.readString(),input.readInt(),directory);
      addElement(si);
    }
    if (input.getFilePointer() >= input.length())     version=0;
 else     version=input.readLong();
  }
  finally {
    input.close();
  }
}
