{
  super.setUp();
  final RandomIndexWriter writer=new RandomIndexWriter(random(),mDirectory,newIndexWriterConfig(TEST_VERSION_CURRENT,new MockAnalyzer(random(),MockTokenizer.SIMPLE,true,MockTokenFilter.ENGLISH_STOPSET,true)).setOpenMode(OpenMode.APPEND).setMergePolicy(newLogMergePolicy()).setSimilarity(new DefaultSimilarity()));
  addDocument(writer,"A","Should we, could we, would we?");
  addDocument(writer,"B","It should.  Should it?");
  addDocument(writer,"C","It shouldn't.");
  addDocument(writer,"D","Should we, should we, should we.");
  reader2=writer.getReader();
  writer.close();
  searcher2=newSearcher(reader2);
  searcher2.setSimilarity(new DefaultSimilarity());
}
