{
synchronized (uncacheLock) {
    if (VERBOSE) {
      System.out.println("nrtdir.unCache name=" + fileName);
    }
    if (!cache.fileExists(fileName)) {
      return;
    }
    if (delegate.fileExists(fileName)) {
      throw new IOException("cannot uncache file=\"" + fileName + "\": it was separately also created in the delegate directory");
    }
    final IOContext context=IOContext.DEFAULT;
    final IndexOutput out=delegate.createOutput(fileName,context);
    IndexInput in=null;
    try {
      in=cache.openInput(fileName,context);
      in.copyBytes(out,in.length());
    }
  finally {
      IOUtils.close(in,out);
    }
synchronized (this) {
      cache.deleteFile(fileName);
    }
  }
}
