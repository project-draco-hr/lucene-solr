{
  List<String> names=new ArrayList<>(oldNames.length + oldSingleSegmentNames.length);
  names.addAll(Arrays.asList(oldNames));
  names.addAll(Arrays.asList(oldSingleSegmentNames));
  oldIndexDirs=new HashMap<>();
  for (  String name : names) {
    Path dir=createTempDir(name);
    Path dataFile=Paths.get(TestBackwardsCompatibility.class.getResource("index." + name + ".zip").toURI());
    TestUtil.unzip(dataFile,dir);
    oldIndexDirs.put(name,newFSDirectory(dir));
  }
}
