{
  if (wordLength == 0) {
    return "";
  }
  int evilness=_TestUtil.nextInt(random,0,20);
  StringBuilder sb=new StringBuilder();
  while (sb.length() < wordLength) {
    ;
    if (simple) {
      sb.append(random.nextBoolean() ? _TestUtil.randomSimpleString(random,wordLength) : _TestUtil.randomHtmlishString(random,wordLength));
    }
 else {
      if (evilness < 10) {
        sb.append(_TestUtil.randomSimpleString(random,wordLength));
      }
 else       if (evilness < 15) {
        sb.append(_TestUtil.randomRealisticUnicodeString(random,wordLength));
      }
 else       if (evilness == 16) {
        sb.append(_TestUtil.randomHtmlishString(random,wordLength));
      }
 else {
        sb.append(_TestUtil.randomUnicodeString(random,wordLength));
      }
    }
  }
  if (sb.length() > wordLength) {
    sb.setLength(wordLength);
    if (Character.isHighSurrogate(sb.charAt(wordLength - 1))) {
      sb.setLength(wordLength - 1);
    }
  }
  return sb.toString();
}
