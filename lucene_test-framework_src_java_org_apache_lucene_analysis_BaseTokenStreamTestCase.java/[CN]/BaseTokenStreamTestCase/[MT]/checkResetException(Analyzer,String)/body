{
  TokenStream ts=a.tokenStream("bogus",input);
  try {
    if (ts.incrementToken()) {
      fail("didn't get expected exception when reset() not called");
    }
  }
 catch (  IllegalStateException expected) {
  }
catch (  Exception unexpected) {
    unexpected.printStackTrace(System.err);
    fail("got wrong exception when reset() not called: " + unexpected);
  }
 finally {
    ts.reset();
    while (ts.incrementToken()) {
    }
    ts.end();
    ts.close();
  }
  ts=a.tokenStream("bogus",input);
  ts.reset();
  while (ts.incrementToken()) {
  }
  ts.end();
  try {
    ts=a.tokenStream("bogus",input);
    fail("didn't get expected exception when close() not called");
  }
 catch (  IllegalStateException expected) {
  }
 finally {
    ts.close();
  }
}
