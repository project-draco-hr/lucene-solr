{
  final FieldInfo fieldInfo=reader.getFieldInfos().fieldInfo(field);
  if (fieldInfo == null) {
    return new Bits.MatchNoBits(reader.maxDoc());
  }
 else   if (fieldInfo.getDocValuesType() != DocValuesType.NONE) {
    return reader.getDocsWithField(field);
  }
 else   if (fieldInfo.getIndexOptions() == IndexOptions.NONE) {
    return new Bits.MatchNoBits(reader.maxDoc());
  }
  BitsEntry bitsEntry=(BitsEntry)caches.get(DocsWithFieldCache.class).get(reader,new CacheKey(field,null),false);
  return bitsEntry.bits;
}
