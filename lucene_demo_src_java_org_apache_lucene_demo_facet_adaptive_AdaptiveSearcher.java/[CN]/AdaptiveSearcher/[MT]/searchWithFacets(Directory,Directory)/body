{
  TaxonomyReader taxo=new DirectoryTaxonomyReader(taxoDir);
  IndexReader indexReader=DirectoryReader.open(indexDir);
  IndexSearcher searcher=new IndexSearcher(indexReader);
  Query q=new TermQuery(new Term(SimpleUtils.TEXT,"white"));
  ExampleUtils.log("Query: " + q);
  TopScoreDocCollector topDocsCollector=TopScoreDocCollector.create(10,true);
  FacetSearchParams fsp=new FacetSearchParams(new CountFacetRequest(new CategoryPath("root","a"),10));
  AdaptiveFacetsAccumulator accumulator=new AdaptiveFacetsAccumulator(fsp,indexReader,taxo);
  FacetsCollector fc=FacetsCollector.create(accumulator);
  searcher.search(q,MultiCollector.wrap(topDocsCollector,fc));
  List<FacetResult> res=fc.getFacetResults();
  int i=0;
  for (  FacetResult facetResult : res) {
    ExampleUtils.log("Res " + (i++) + ": "+ facetResult);
  }
  indexReader.close();
  taxo.close();
  return res;
}
