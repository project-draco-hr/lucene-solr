{
  for (  Map.Entry<String,Replica> ent : expected.entrySet()) {
    String path="/collections/" + COLLECTION_NAME + "/leaders/"+ ent.getKey();
    byte[] data=getZkData(cloudClient,path);
    if (data == null)     return false;
    String repCore=null;
    String zkCore=null;
    if (data == null) {
      return false;
    }
 else {
      Map m=(Map)ZkStateReader.fromJSON(data);
      zkCore=(String)m.get("core");
      repCore=ent.getValue().getStr("core");
      if (zkCore.equals(repCore) == false) {
        return false;
      }
    }
  }
  return true;
}
