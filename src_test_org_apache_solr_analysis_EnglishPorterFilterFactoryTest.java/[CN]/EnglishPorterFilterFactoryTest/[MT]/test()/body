{
  EnglishStemmer stemmer=new net.sf.snowball.ext.EnglishStemmer();
  String[] test={"The","fledgling","banks","were","counting","on","a","big","boom","in","banking"};
  StringBuilder gold=new StringBuilder();
  for (int i=0; i < test.length; i++) {
    stemmer.setCurrent(test[i]);
    stemmer.stem();
    gold.append(stemmer.getCurrent()).append(' ');
  }
  EnglishPorterFilterFactory factory=new EnglishPorterFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  factory.init(args);
  factory.inform(new LinesMockSolrResourceLoader(new ArrayList<String>()));
  String out=tsToString(factory.create(new IterTokenStream(test)));
  assertEquals(gold.toString().trim(),out);
}
