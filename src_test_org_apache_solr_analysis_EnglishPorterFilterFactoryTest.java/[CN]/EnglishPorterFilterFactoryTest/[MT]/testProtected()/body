{
  EnglishStemmer stemmer=new net.sf.snowball.ext.EnglishStemmer();
  String[] test={"The","fledgling","banks","were","counting","on","a","big","boom","in","banking"};
  StringBuilder gold=new StringBuilder();
  for (int i=0; i < test.length; i++) {
    if (test[i].equals("fledgling") == false && test[i].equals("banks") == false) {
      stemmer.setCurrent(test[i]);
      stemmer.stem();
      gold.append(stemmer.getCurrent()).append(' ');
    }
 else {
      gold.append(test[i]).append(' ');
    }
  }
  EnglishPorterFilterFactory factory=new EnglishPorterFilterFactory();
  Map<String,String> args=new HashMap<String,String>();
  args.put(EnglishPorterFilterFactory.PROTECTED_TOKENS,"who-cares.txt");
  factory.init(args);
  List<String> lines=new ArrayList<String>();
  Collections.addAll(lines,"banks","fledgling");
  factory.inform(new LinesMockSolrResourceLoader(lines));
  String out=tsToString(factory.create(new IterTokenStream(test)));
  assertEquals(gold.toString().trim(),out);
}
