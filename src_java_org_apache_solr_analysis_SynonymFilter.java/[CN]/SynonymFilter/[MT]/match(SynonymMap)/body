{
  SynonymMap result=null;
  if (map.submap != null) {
    Token tok=nextTok();
    if (tok != null) {
      SynonymMap subMap=map.submap.get(tok.termBuffer(),0,tok.termLength());
      if (subMap != null) {
        result=match(subMap);
      }
      if (result != null) {
        matched.addFirst(tok);
      }
 else {
        pushTok(tok);
      }
    }
  }
  if (result == null && map.synonyms != null) {
    result=map;
  }
  return result;
}
