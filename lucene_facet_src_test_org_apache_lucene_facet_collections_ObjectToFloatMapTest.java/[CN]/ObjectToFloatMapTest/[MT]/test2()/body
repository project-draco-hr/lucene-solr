{
  ObjectToFloatMap<Integer> map=new ObjectToFloatMap<Integer>();
  assertTrue(map.isEmpty());
  assertNaN(map.get(0));
  for (int i=0; i < 128; ++i) {
    int value=i * 4096;
    assertFalse(map.containsValue(value));
    map.put(i,value);
    assertTrue(map.containsValue(value));
    assertNotNaN(map.get(i));
    assertFalse(map.isEmpty());
  }
  assertEquals(128,map.size());
  for (int i=0; i < 128; ++i) {
    assertTrue(map.containsKey(i));
    assertEquals(i * 4096,map.get(i),1E-5);
  }
  for (int i=0; i < 200; i+=2) {
    map.remove(i);
  }
  assertEquals(64,map.size());
  for (int i=1; i < 128; i+=2) {
    assertTrue(map.containsKey(i));
    assertEquals(i * 4096,map.get(i),1E-5);
    map.remove(i);
  }
  assertTrue(map.isEmpty());
}
