{
  FieldDocSortedHitQueue hq=new FieldDocSortedHitQueue(null,nDocs);
  int totalHits=0;
  MultiSearcherThread[] msta=new MultiSearcherThread[searchables.length];
  for (int i=0; i < searchables.length; i++) {
    msta[i]=new MultiSearcherThread(searchables[i],weight,filter,nDocs,hq,sort,i,starts,"MultiSearcher thread #" + (i + 1));
    msta[i].start();
  }
  float maxScore=Float.NEGATIVE_INFINITY;
  for (int i=0; i < searchables.length; i++) {
    try {
      msta[i].join();
    }
 catch (    InterruptedException ie) {
      Thread.currentThread().interrupt();
      throw new RuntimeException(ie);
    }
    IOException ioe=msta[i].getIOException();
    if (ioe == null) {
      totalHits+=msta[i].hits();
      maxScore=Math.max(maxScore,msta[i].getMaxScore());
    }
 else {
      throw ioe;
    }
  }
  ScoreDoc[] scoreDocs=new ScoreDoc[hq.size()];
  for (int i=hq.size() - 1; i >= 0; i--)   scoreDocs[i]=(ScoreDoc)hq.pop();
  return new TopFieldDocs(totalHits,scoreDocs,hq.getFields(),maxScore);
}
