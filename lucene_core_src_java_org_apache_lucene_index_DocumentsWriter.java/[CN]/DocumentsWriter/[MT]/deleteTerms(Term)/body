{
  final DocumentsWriterDeleteQueue deleteQueue=this.deleteQueue;
  long seqNo=deleteQueue.addDelete(terms);
  flushControl.doOnDelete();
  if (applyAllDeletes(deleteQueue)) {
    seqNo=-seqNo;
  }
  lastSeqNo=Math.max(lastSeqNo,seqNo);
  return seqNo;
}
